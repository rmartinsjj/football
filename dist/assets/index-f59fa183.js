function cp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Td={exports:{}},Zi={},Cd={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Symbol.for("react.element"),hp=Symbol.for("react.portal"),fp=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),yp=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),wp=Symbol.for("react.memo"),_p=Symbol.for("react.lazy"),Lc=Symbol.iterator;function bp(t){return t===null||typeof t!="object"?null:(t=Lc&&t[Lc]||t["@@iterator"],typeof t=="function"?t:null)}var Od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pd=Object.assign,Rd={};function Pn(t,e,r){this.props=t,this.context=e,this.refs=Rd,this.updater=r||Od}Pn.prototype.isReactComponent={};Pn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ad(){}Ad.prototype=Pn.prototype;function cl(t,e,r){this.props=t,this.context=e,this.refs=Rd,this.updater=r||Od}var ul=cl.prototype=new Ad;ul.constructor=cl;Pd(ul,Pn.prototype);ul.isPureReactComponent=!0;var Dc=Array.isArray,Id=Object.prototype.hasOwnProperty,dl={current:null},$d={key:!0,ref:!0,__self:!0,__source:!0};function Ld(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Id.call(e,n)&&!$d.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Cs,type:t,key:i,ref:o,props:s,_owner:dl.current}}function jp(t,e){return{$$typeof:Cs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cs}function kp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Uc=/\/+/g;function vo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kp(""+t.key):e.toString(36)}function ui(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cs:case hp:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+vo(o,0):n,Dc(s)?(r="",t!=null&&(r=t.replace(Uc,"$&/")+"/"),ui(s,e,r,"",function(u){return u})):s!=null&&(hl(s)&&(s=jp(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uc,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Dc(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+vo(i,l);o+=ui(i,e,r,c,s)}else if(c=bp(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+vo(i,l++),o+=ui(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Us(t,e,r){if(t==null)return t;var n=[],s=0;return ui(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Sp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xe={current:null},di={transition:null},Np={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:di,ReactCurrentOwner:dl};function Dd(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Us,forEach:function(t,e,r){Us(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Us(t,function(){e++}),e},toArray:function(t){return Us(t,function(e){return e})||[]},only:function(t){if(!hl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=Pn;Y.Fragment=fp;Y.Profiler=pp;Y.PureComponent=cl;Y.StrictMode=mp;Y.Suspense=xp;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np;Y.act=Dd;Y.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Pd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=dl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Id.call(e,c)&&!$d.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Cs,type:t.type,key:s,ref:i,props:n,_owner:o}};Y.createContext=function(t){return t={$$typeof:yp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gp,_context:t},t.Consumer=t};Y.createElement=Ld;Y.createFactory=function(t){var e=Ld.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:vp,render:t}};Y.isValidElement=hl;Y.lazy=function(t){return{$$typeof:_p,_payload:{_status:-1,_result:t},_init:Sp}};Y.memo=function(t,e){return{$$typeof:wp,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=di.transition;di.transition={};try{t()}finally{di.transition=e}};Y.unstable_act=Dd;Y.useCallback=function(t,e){return Xe.current.useCallback(t,e)};Y.useContext=function(t){return Xe.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return Xe.current.useDeferredValue(t)};Y.useEffect=function(t,e){return Xe.current.useEffect(t,e)};Y.useId=function(){return Xe.current.useId()};Y.useImperativeHandle=function(t,e,r){return Xe.current.useImperativeHandle(t,e,r)};Y.useInsertionEffect=function(t,e){return Xe.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return Xe.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return Xe.current.useMemo(t,e)};Y.useReducer=function(t,e,r){return Xe.current.useReducer(t,e,r)};Y.useRef=function(t){return Xe.current.useRef(t)};Y.useState=function(t){return Xe.current.useState(t)};Y.useSyncExternalStore=function(t,e,r){return Xe.current.useSyncExternalStore(t,e,r)};Y.useTransition=function(){return Xe.current.useTransition()};Y.version="18.3.1";Cd.exports=Y;var P=Cd.exports;const rt=up(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=P,Tp=Symbol.for("react.element"),Cp=Symbol.for("react.fragment"),Op=Object.prototype.hasOwnProperty,Pp=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rp={key:!0,ref:!0,__self:!0,__source:!0};function Ud(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Op.call(e,n)&&!Rp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Tp,type:t,key:i,ref:o,props:s,_owner:Pp.current}}Zi.Fragment=Cp;Zi.jsx=Ud;Zi.jsxs=Ud;Td.exports=Zi;var a=Td.exports,ra={},Md={exports:{}},ft={},zd={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,$){var N=T.length;T.push($);e:for(;0<N;){var L=N-1>>>1,M=T[L];if(0<s(M,$))T[L]=$,T[N]=M,N=L;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var $=T[0],N=T.pop();if(N!==$){T[0]=N;e:for(var L=0,M=T.length,O=M>>>1;L<O;){var q=2*(L+1)-1,ae=T[q],ke=q+1,B=T[ke];if(0>s(ae,N))ke<M&&0>s(B,ae)?(T[L]=B,T[ke]=N,L=ke):(T[L]=ae,T[q]=N,L=q);else if(ke<M&&0>s(B,N))T[L]=B,T[ke]=N,L=ke;else break e}}return $}function s(T,$){var N=T.sortIndex-$.sortIndex;return N!==0?N:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,y=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=T)n(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(u)}}function b(T){if(w=!1,g(T),!v)if(r(c)!==null)v=!0,oe(S);else{var $=r(u);$!==null&&ie(b,$.startTime-T)}}function S(T,$){v=!1,w&&(w=!1,p(j),j=-1),y=!0;var N=f;try{for(g($),h=r(c);h!==null&&(!(h.expirationTime>$)||T&&!Q());){var L=h.callback;if(typeof L=="function"){h.callback=null,f=h.priorityLevel;var M=L(h.expirationTime<=$);$=t.unstable_now(),typeof M=="function"?h.callback=M:h===r(c)&&n(c),g($)}else n(c);h=r(c)}if(h!==null)var O=!0;else{var q=r(u);q!==null&&ie(b,q.startTime-$),O=!1}return O}finally{h=null,f=N,y=!1}}var k=!1,E=null,j=-1,I=5,U=-1;function Q(){return!(t.unstable_now()-U<I)}function re(){if(E!==null){var T=t.unstable_now();U=T;var $=!0;try{$=E(!0,T)}finally{$?te():(k=!1,E=null)}}else k=!1}var te;if(typeof m=="function")te=function(){m(re)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,$e=Ie.port2;Ie.port1.onmessage=re,te=function(){$e.postMessage(null)}}else te=function(){_(re,0)};function oe(T){E=T,k||(k=!0,te())}function ie(T,$){j=_(function(){T(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,oe(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var N=f;f=$;try{return T()}finally{f=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var N=f;f=T;try{return $()}finally{f=N}},t.unstable_scheduleCallback=function(T,$,N){var L=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,T){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=N+M,T={id:d++,callback:$,priorityLevel:T,startTime:N,expirationTime:M,sortIndex:-1},N>L?(T.sortIndex=N,e(u,T),r(c)===null&&T===r(u)&&(w?(p(j),j=-1):w=!0,ie(b,N-L))):(T.sortIndex=M,e(c,T),v||y||(v=!0,oe(S))),T},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(T){var $=f;return function(){var N=f;f=$;try{return T.apply(this,arguments)}finally{f=N}}}})(Bd);zd.exports=Bd;var Ap=zd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=P,ht=Ap;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fd=new Set,as={};function Br(t,e){_n(t,e),_n(t+"Capture",e)}function _n(t,e){for(as[t]=e,t=0;t<e.length;t++)Fd.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mc={},zc={};function Lp(t){return na.call(zc,t)?!0:na.call(Mc,t)?!1:$p.test(t)?zc[t]=!0:(Mc[t]=!0,!1)}function Dp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Up(t,e,r,n){if(e===null||typeof e>"u"||Dp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var fl=/[\-:]([a-z])/g;function ml(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fl,ml);ze[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fl,ml);ze[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fl,ml);ze[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function pl(t,e,r,n){var s=ze.hasOwnProperty(e)?ze[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Up(e,r,s,n)&&(r=null),n||s===null?Lp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qt=Ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ms=Symbol.for("react.element"),en=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),gl=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),Vd=Symbol.for("react.provider"),Wd=Symbol.for("react.context"),yl=Symbol.for("react.forward_ref"),ia=Symbol.for("react.suspense"),oa=Symbol.for("react.suspense_list"),vl=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),Hd=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function Dn(t){return t===null||typeof t!="object"?null:(t=Bc&&t[Bc]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,xo;function Hn(t){if(xo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xo=e&&e[1]||""}return`
`+xo+t}var wo=!1;function _o(t,e){if(!t||wo)return"";wo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{wo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hn(t):""}function Mp(t){switch(t.tag){case 5:return Hn(t.type);case 16:return Hn("Lazy");case 13:return Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 2:case 15:return t=_o(t.type,!1),t;case 11:return t=_o(t.type.render,!1),t;case 1:return t=_o(t.type,!0),t;default:return""}}function aa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tn:return"Fragment";case en:return"Portal";case sa:return"Profiler";case gl:return"StrictMode";case ia:return"Suspense";case oa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wd:return(t.displayName||"Context")+".Consumer";case Vd:return(t._context.displayName||"Context")+".Provider";case yl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vl:return e=t.displayName||null,e!==null?e:aa(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return aa(t(e))}catch{}}return null}function zp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aa(e);case 8:return e===gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bp(t){var e=qd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zs(t){t._valueTracker||(t._valueTracker=Bp(t))}function Kd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function la(t,e){var r=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Fc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jd(t,e){e=e.checked,e!=null&&pl(t,"checked",e,!1)}function ca(t,e){Jd(t,e);var r=pr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ua(t,e.type,r):e.hasOwnProperty("defaultValue")&&ua(t,e.type,pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ua(t,e,r){(e!=="number"||ji(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var qn=Array.isArray;function fn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function da(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(C(92));if(qn(r)){if(1<r.length)throw Error(C(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pr(r)}}function Gd(t,e){var r=pr(e.value),n=pr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Hc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ha(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bs,Yd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ls(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fp=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(t){Fp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qn[e]=Qn[t]})});function Xd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Qn.hasOwnProperty(t)&&Qn[t]?(""+e).trim():e+"px"}function Zd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Xd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Vp=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fa(t,e){if(e){if(Vp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function ma(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function xl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ga=null,mn=null,pn=null;function qc(t){if(t=Rs(t)){if(typeof ga!="function")throw Error(C(280));var e=t.stateNode;e&&(e=so(e),ga(t.stateNode,t.type,e))}}function eh(t){mn?pn?pn.push(t):pn=[t]:mn=t}function th(){if(mn){var t=mn,e=pn;if(pn=mn=null,qc(t),e)for(t=0;t<e.length;t++)qc(e[t])}}function rh(t,e){return t(e)}function nh(){}var bo=!1;function sh(t,e,r){if(bo)return t(e,r);bo=!0;try{return rh(t,e,r)}finally{bo=!1,(mn!==null||pn!==null)&&(nh(),th())}}function cs(t,e){var r=t.stateNode;if(r===null)return null;var n=so(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(C(231,e,typeof r));return r}var ya=!1;if(qt)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){ya=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{ya=!1}function Wp(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Yn=!1,ki=null,Si=!1,va=null,Hp={onError:function(t){Yn=!0,ki=t}};function qp(t,e,r,n,s,i,o,l,c){Yn=!1,ki=null,Wp.apply(Hp,arguments)}function Kp(t,e,r,n,s,i,o,l,c){if(qp.apply(this,arguments),Yn){if(Yn){var u=ki;Yn=!1,ki=null}else throw Error(C(198));Si||(Si=!0,va=u)}}function Fr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ih(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kc(t){if(Fr(t)!==t)throw Error(C(188))}function Jp(t){var e=t.alternate;if(!e){if(e=Fr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Kc(s),t;if(i===n)return Kc(s),e;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?t:e}function oh(t){return t=Jp(t),t!==null?ah(t):null}function ah(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ah(t);if(e!==null)return e;t=t.sibling}return null}var lh=ht.unstable_scheduleCallback,Jc=ht.unstable_cancelCallback,Gp=ht.unstable_shouldYield,Qp=ht.unstable_requestPaint,je=ht.unstable_now,Yp=ht.unstable_getCurrentPriorityLevel,wl=ht.unstable_ImmediatePriority,ch=ht.unstable_UserBlockingPriority,Ni=ht.unstable_NormalPriority,Xp=ht.unstable_LowPriority,uh=ht.unstable_IdlePriority,eo=null,Ut=null;function Zp(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(eo,t,void 0,(t.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:rg,eg=Math.log,tg=Math.LN2;function rg(t){return t>>>=0,t===0?32:31-(eg(t)/tg|0)|0}var Fs=64,Vs=4194304;function Kn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ei(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Kn(l):(i&=o,i!==0&&(n=Kn(i)))}else o=r&~s,o!==0?n=Kn(o):i!==0&&(n=Kn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Rt(e),s=1<<r,n|=t[r],e&=~s;return n}function ng(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sg(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=ng(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function xa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dh(){var t=Fs;return Fs<<=1,!(Fs&4194240)&&(Fs=64),t}function jo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Os(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rt(e),t[e]=r}function ig(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Rt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function _l(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Rt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ne=0;function hh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fh,bl,mh,ph,gh,wa=!1,Ws=[],ar=null,lr=null,cr=null,us=new Map,ds=new Map,rr=[],og="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(e.pointerId)}}function Mn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Rs(e),e!==null&&bl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ag(t,e,r,n,s){switch(e){case"focusin":return ar=Mn(ar,t,e,r,n,s),!0;case"dragenter":return lr=Mn(lr,t,e,r,n,s),!0;case"mouseover":return cr=Mn(cr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return us.set(i,Mn(us.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ds.set(i,Mn(ds.get(i)||null,t,e,r,n,s)),!0}return!1}function yh(t){var e=Cr(t.target);if(e!==null){var r=Fr(e);if(r!==null){if(e=r.tag,e===13){if(e=ih(r),e!==null){t.blockedOn=e,gh(t.priority,function(){mh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_a(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pa=n,r.target.dispatchEvent(n),pa=null}else return e=Rs(r),e!==null&&bl(e),t.blockedOn=r,!1;e.shift()}return!0}function Qc(t,e,r){hi(t)&&r.delete(e)}function lg(){wa=!1,ar!==null&&hi(ar)&&(ar=null),lr!==null&&hi(lr)&&(lr=null),cr!==null&&hi(cr)&&(cr=null),us.forEach(Qc),ds.forEach(Qc)}function zn(t,e){t.blockedOn===e&&(t.blockedOn=null,wa||(wa=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,lg)))}function hs(t){function e(s){return zn(s,t)}if(0<Ws.length){zn(Ws[0],t);for(var r=1;r<Ws.length;r++){var n=Ws[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ar!==null&&zn(ar,t),lr!==null&&zn(lr,t),cr!==null&&zn(cr,t),us.forEach(e),ds.forEach(e),r=0;r<rr.length;r++)n=rr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)yh(r),r.blockedOn===null&&rr.shift()}var gn=Qt.ReactCurrentBatchConfig,Ti=!0;function cg(t,e,r,n){var s=ne,i=gn.transition;gn.transition=null;try{ne=1,jl(t,e,r,n)}finally{ne=s,gn.transition=i}}function ug(t,e,r,n){var s=ne,i=gn.transition;gn.transition=null;try{ne=4,jl(t,e,r,n)}finally{ne=s,gn.transition=i}}function jl(t,e,r,n){if(Ti){var s=_a(t,e,r,n);if(s===null)Ao(t,e,n,Ci,r),Gc(t,n);else if(ag(s,t,e,r,n))n.stopPropagation();else if(Gc(t,n),e&4&&-1<og.indexOf(t)){for(;s!==null;){var i=Rs(s);if(i!==null&&fh(i),i=_a(t,e,r,n),i===null&&Ao(t,e,n,Ci,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ao(t,e,n,null,r)}}var Ci=null;function _a(t,e,r,n){if(Ci=null,t=xl(n),t=Cr(t),t!==null)if(e=Fr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ih(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ci=t,null}function vh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yp()){case wl:return 1;case ch:return 4;case Ni:case Xp:return 16;case uh:return 536870912;default:return 16}default:return 16}}var ir=null,kl=null,fi=null;function xh(){if(fi)return fi;var t,e=kl,r=e.length,n,s="value"in ir?ir.value:ir.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return fi=s.slice(t,1<n?1-n:void 0)}function mi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hs(){return!0}function Yc(){return!1}function mt(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hs:Yc,this.isPropagationStopped=Yc,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),e}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=mt(Rn),Ps=we({},Rn,{view:0,detail:0}),dg=mt(Ps),ko,So,Bn,to=we({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bn&&(Bn&&t.type==="mousemove"?(ko=t.screenX-Bn.screenX,So=t.screenY-Bn.screenY):So=ko=0,Bn=t),ko)},movementY:function(t){return"movementY"in t?t.movementY:So}}),Xc=mt(to),hg=we({},to,{dataTransfer:0}),fg=mt(hg),mg=we({},Ps,{relatedTarget:0}),No=mt(mg),pg=we({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),gg=mt(pg),yg=we({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vg=mt(yg),xg=we({},Rn,{data:0}),Zc=mt(xg),wg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bg[t])?!!e[t]:!1}function Nl(){return jg}var kg=we({},Ps,{key:function(t){if(t.key){var e=wg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_g[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(t){return t.type==="keypress"?mi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sg=mt(kg),Ng=we({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=mt(Ng),Eg=we({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),Tg=mt(Eg),Cg=we({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=mt(Cg),Pg=we({},to,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=mt(Pg),Ag=[9,13,27,32],El=qt&&"CompositionEvent"in window,Xn=null;qt&&"documentMode"in document&&(Xn=document.documentMode);var Ig=qt&&"TextEvent"in window&&!Xn,wh=qt&&(!El||Xn&&8<Xn&&11>=Xn),tu=String.fromCharCode(32),ru=!1;function _h(t,e){switch(t){case"keyup":return Ag.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rn=!1;function $g(t,e){switch(t){case"compositionend":return bh(e);case"keypress":return e.which!==32?null:(ru=!0,tu);case"textInput":return t=e.data,t===tu&&ru?null:t;default:return null}}function Lg(t,e){if(rn)return t==="compositionend"||!El&&_h(t,e)?(t=xh(),fi=kl=ir=null,rn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wh&&e.locale!=="ko"?null:e.data;default:return null}}var Dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Dg[t.type]:e==="textarea"}function jh(t,e,r,n){eh(n),e=Oi(e,"onChange"),0<e.length&&(r=new Sl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Zn=null,fs=null;function Ug(t){Ih(t,0)}function ro(t){var e=on(t);if(Kd(e))return t}function Mg(t,e){if(t==="change")return e}var kh=!1;if(qt){var Eo;if(qt){var To="oninput"in document;if(!To){var su=document.createElement("div");su.setAttribute("oninput","return;"),To=typeof su.oninput=="function"}Eo=To}else Eo=!1;kh=Eo&&(!document.documentMode||9<document.documentMode)}function iu(){Zn&&(Zn.detachEvent("onpropertychange",Sh),fs=Zn=null)}function Sh(t){if(t.propertyName==="value"&&ro(fs)){var e=[];jh(e,fs,t,xl(t)),sh(Ug,e)}}function zg(t,e,r){t==="focusin"?(iu(),Zn=e,fs=r,Zn.attachEvent("onpropertychange",Sh)):t==="focusout"&&iu()}function Bg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ro(fs)}function Fg(t,e){if(t==="click")return ro(e)}function Vg(t,e){if(t==="input"||t==="change")return ro(e)}function Wg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:Wg;function ms(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!na.call(e,s)||!It(t[s],e[s]))return!1}return!0}function ou(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function au(t,e){var r=ou(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ou(r)}}function Nh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Eh(){for(var t=window,e=ji();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ji(t.document)}return e}function Tl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hg(t){var e=Eh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Nh(r.ownerDocument.documentElement,r)){if(n!==null&&Tl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=au(r,i);var o=au(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qg=qt&&"documentMode"in document&&11>=document.documentMode,nn=null,ba=null,es=null,ja=!1;function lu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ja||nn==null||nn!==ji(n)||(n=nn,"selectionStart"in n&&Tl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),es&&ms(es,n)||(es=n,n=Oi(ba,"onSelect"),0<n.length&&(e=new Sl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nn)))}function qs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var sn={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionend:qs("Transition","TransitionEnd")},Co={},Th={};qt&&(Th=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function no(t){if(Co[t])return Co[t];if(!sn[t])return t;var e=sn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Th)return Co[t]=e[r];return t}var Ch=no("animationend"),Oh=no("animationiteration"),Ph=no("animationstart"),Rh=no("transitionend"),Ah=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(t,e){Ah.set(t,e),Br(e,[t])}for(var Oo=0;Oo<cu.length;Oo++){var Po=cu[Oo],Kg=Po.toLowerCase(),Jg=Po[0].toUpperCase()+Po.slice(1);yr(Kg,"on"+Jg)}yr(Ch,"onAnimationEnd");yr(Oh,"onAnimationIteration");yr(Ph,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(Rh,"onTransitionEnd");_n("onMouseEnter",["mouseout","mouseover"]);_n("onMouseLeave",["mouseout","mouseover"]);_n("onPointerEnter",["pointerout","pointerover"]);_n("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jn));function uu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Kp(n,e,void 0,t),t.currentTarget=null}function Ih(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;uu(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;uu(s,l,u),i=c}}}if(Si)throw t=va,Si=!1,va=null,t}function he(t,e){var r=e[Ta];r===void 0&&(r=e[Ta]=new Set);var n=t+"__bubble";r.has(n)||($h(e,t,2,!1),r.add(n))}function Ro(t,e,r){var n=0;e&&(n|=4),$h(r,t,n,e)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function ps(t){if(!t[Ks]){t[Ks]=!0,Fd.forEach(function(r){r!=="selectionchange"&&(Gg.has(r)||Ro(r,!1,t),Ro(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ks]||(e[Ks]=!0,Ro("selectionchange",!1,e))}}function $h(t,e,r,n){switch(vh(e)){case 1:var s=cg;break;case 4:s=ug;break;default:s=jl}r=s.bind(null,e,r,t),s=void 0,!ya||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ao(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Cr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}sh(function(){var u=i,d=xl(r),h=[];e:{var f=Ah.get(t);if(f!==void 0){var y=Sl,v=t;switch(t){case"keypress":if(mi(r)===0)break e;case"keydown":case"keyup":y=Sg;break;case"focusin":v="focus",y=No;break;case"focusout":v="blur",y=No;break;case"beforeblur":case"afterblur":y=No;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Tg;break;case Ch:case Oh:case Ph:y=gg;break;case Rh:y=Og;break;case"scroll":y=dg;break;case"wheel":y=Rg;break;case"copy":case"cut":case"paste":y=vg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=eu}var w=(e&4)!==0,_=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,g;m!==null;){g=m;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,p!==null&&(b=cs(m,p),b!=null&&w.push(gs(m,b,g)))),_)break;m=m.return}0<w.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==pa&&(v=r.relatedTarget||r.fromElement)&&(Cr(v)||v[Kt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?Cr(v):null,v!==null&&(_=Fr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=Xc,b="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=eu,b="onPointerLeave",p="onPointerEnter",m="pointer"),_=y==null?f:on(y),g=v==null?f:on(v),f=new w(b,m+"leave",y,r,d),f.target=_,f.relatedTarget=g,b=null,Cr(d)===u&&(w=new w(p,m+"enter",v,r,d),w.target=g,w.relatedTarget=_,b=w),_=b,y&&v)t:{for(w=y,p=v,m=0,g=w;g;g=qr(g))m++;for(g=0,b=p;b;b=qr(b))g++;for(;0<m-g;)w=qr(w),m--;for(;0<g-m;)p=qr(p),g--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=qr(w),p=qr(p)}w=null}else w=null;y!==null&&du(h,f,y,w,!1),v!==null&&_!==null&&du(h,_,v,w,!0)}}e:{if(f=u?on(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=Mg;else if(nu(f))if(kh)S=Vg;else{S=Bg;var k=zg}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Fg);if(S&&(S=S(t,u))){jh(h,S,r,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ua(f,"number",f.value)}switch(k=u?on(u):window,t){case"focusin":(nu(k)||k.contentEditable==="true")&&(nn=k,ba=u,es=null);break;case"focusout":es=ba=nn=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,lu(h,r,d);break;case"selectionchange":if(qg)break;case"keydown":case"keyup":lu(h,r,d)}var E;if(El)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else rn?_h(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(wh&&r.locale!=="ko"&&(rn||j!=="onCompositionStart"?j==="onCompositionEnd"&&rn&&(E=xh()):(ir=d,kl="value"in ir?ir.value:ir.textContent,rn=!0)),k=Oi(u,j),0<k.length&&(j=new Zc(j,t,null,r,d),h.push({event:j,listeners:k}),E?j.data=E:(E=bh(r),E!==null&&(j.data=E)))),(E=Ig?$g(t,r):Lg(t,r))&&(u=Oi(u,"onBeforeInput"),0<u.length&&(d=new Zc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}Ih(h,e)})}function gs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Oi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=cs(t,r),i!=null&&n.unshift(gs(t,i,s)),i=cs(t,e),i!=null&&n.push(gs(t,i,s))),t=t.return}return n}function qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function du(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=cs(r,i),c!=null&&o.unshift(gs(r,c,l))):s||(c=cs(r,i),c!=null&&o.push(gs(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Qg=/\r\n?/g,Yg=/\u0000|\uFFFD/g;function hu(t){return(typeof t=="string"?t:""+t).replace(Qg,`
`).replace(Yg,"")}function Js(t,e,r){if(e=hu(e),hu(t)!==e&&r)throw Error(C(425))}function Pi(){}var ka=null,Sa=null;function Na(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ea=typeof setTimeout=="function"?setTimeout:void 0,Xg=typeof clearTimeout=="function"?clearTimeout:void 0,fu=typeof Promise=="function"?Promise:void 0,Zg=typeof queueMicrotask=="function"?queueMicrotask:typeof fu<"u"?function(t){return fu.resolve(null).then(t).catch(e0)}:Ea;function e0(t){setTimeout(function(){throw t})}function Io(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),hs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);hs(e)}function ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var An=Math.random().toString(36).slice(2),Dt="__reactFiber$"+An,ys="__reactProps$"+An,Kt="__reactContainer$"+An,Ta="__reactEvents$"+An,t0="__reactListeners$"+An,r0="__reactHandles$"+An;function Cr(t){var e=t[Dt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Kt]||r[Dt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=mu(t);t!==null;){if(r=t[Dt])return r;t=mu(t)}return e}t=r,r=t.parentNode}return null}function Rs(t){return t=t[Dt]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function on(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function so(t){return t[ys]||null}var Ca=[],an=-1;function vr(t){return{current:t}}function fe(t){0>an||(t.current=Ca[an],Ca[an]=null,an--)}function de(t,e){an++,Ca[an]=t.current,t.current=e}var gr={},Ke=vr(gr),st=vr(!1),$r=gr;function bn(t,e){var r=t.type.contextTypes;if(!r)return gr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function it(t){return t=t.childContextTypes,t!=null}function Ri(){fe(st),fe(Ke)}function pu(t,e,r){if(Ke.current!==gr)throw Error(C(168));de(Ke,e),de(st,r)}function Lh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(C(108,zp(t)||"Unknown",s));return we({},r,n)}function Ai(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gr,$r=Ke.current,de(Ke,t),de(st,st.current),!0}function gu(t,e,r){var n=t.stateNode;if(!n)throw Error(C(169));r?(t=Lh(t,e,$r),n.__reactInternalMemoizedMergedChildContext=t,fe(st),fe(Ke),de(Ke,t)):fe(st),de(st,r)}var Ft=null,io=!1,$o=!1;function Dh(t){Ft===null?Ft=[t]:Ft.push(t)}function n0(t){io=!0,Dh(t)}function xr(){if(!$o&&Ft!==null){$o=!0;var t=0,e=ne;try{var r=Ft;for(ne=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ft=null,io=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(t+1)),lh(wl,xr),s}finally{ne=e,$o=!1}}return null}var ln=[],cn=0,Ii=null,$i=0,vt=[],xt=0,Lr=null,Vt=1,Wt="";function jr(t,e){ln[cn++]=$i,ln[cn++]=Ii,Ii=t,$i=e}function Uh(t,e,r){vt[xt++]=Vt,vt[xt++]=Wt,vt[xt++]=Lr,Lr=t;var n=Vt;t=Wt;var s=32-Rt(n)-1;n&=~(1<<s),r+=1;var i=32-Rt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Vt=1<<32-Rt(e)+s|r<<s|n,Wt=i+t}else Vt=1<<i|r<<s|n,Wt=t}function Cl(t){t.return!==null&&(jr(t,1),Uh(t,1,0))}function Ol(t){for(;t===Ii;)Ii=ln[--cn],ln[cn]=null,$i=ln[--cn],ln[cn]=null;for(;t===Lr;)Lr=vt[--xt],vt[xt]=null,Wt=vt[--xt],vt[xt]=null,Vt=vt[--xt],vt[xt]=null}var dt=null,ut=null,ge=!1,Pt=null;function Mh(t,e){var r=wt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function yu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dt=t,ut=ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dt=t,ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Lr!==null?{id:Vt,overflow:Wt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=wt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,dt=t,ut=null,!0):!1;default:return!1}}function Oa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pa(t){if(ge){var e=ut;if(e){var r=e;if(!yu(t,e)){if(Oa(t))throw Error(C(418));e=ur(r.nextSibling);var n=dt;e&&yu(t,e)?Mh(n,r):(t.flags=t.flags&-4097|2,ge=!1,dt=t)}}else{if(Oa(t))throw Error(C(418));t.flags=t.flags&-4097|2,ge=!1,dt=t}}}function vu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dt=t}function Gs(t){if(t!==dt)return!1;if(!ge)return vu(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Na(t.type,t.memoizedProps)),e&&(e=ut)){if(Oa(t))throw zh(),Error(C(418));for(;e;)Mh(t,e),e=ur(e.nextSibling)}if(vu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ut=ur(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ut=null}}else ut=dt?ur(t.stateNode.nextSibling):null;return!0}function zh(){for(var t=ut;t;)t=ur(t.nextSibling)}function jn(){ut=dt=null,ge=!1}function Pl(t){Pt===null?Pt=[t]:Pt.push(t)}var s0=Qt.ReactCurrentBatchConfig;function Fn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,t))}return t}function Qs(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xu(t){var e=t._init;return e(t._payload)}function Bh(t){function e(p,m){if(t){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=mr(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,b){return m===null||m.tag!==6?(m=Fo(g,p.mode,b),m.return=p,m):(m=s(m,g),m.return=p,m)}function c(p,m,g,b){var S=g.type;return S===tn?d(p,m,g.props.children,b,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&xu(S)===m.type)?(b=s(m,g.props),b.ref=Fn(p,m,g),b.return=p,b):(b=_i(g.type,g.key,g.props,null,p.mode,b),b.ref=Fn(p,m,g),b.return=p,b)}function u(p,m,g,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Vo(g,p.mode,b),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,b,S){return m===null||m.tag!==7?(m=Ir(g,p.mode,b,S),m.return=p,m):(m=s(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Fo(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ms:return g=_i(m.type,m.key,m.props,null,p.mode,g),g.ref=Fn(p,null,m),g.return=p,g;case en:return m=Vo(m,p.mode,g),m.return=p,m;case er:var b=m._init;return h(p,b(m._payload),g)}if(qn(m)||Dn(m))return m=Ir(m,p.mode,g,null),m.return=p,m;Qs(p,m)}return null}function f(p,m,g,b){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(p,m,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ms:return g.key===S?c(p,m,g,b):null;case en:return g.key===S?u(p,m,g,b):null;case er:return S=g._init,f(p,m,S(g._payload),b)}if(qn(g)||Dn(g))return S!==null?null:d(p,m,g,b,null);Qs(p,g)}return null}function y(p,m,g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(g)||null,l(m,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ms:return p=p.get(b.key===null?g:b.key)||null,c(m,p,b,S);case en:return p=p.get(b.key===null?g:b.key)||null,u(m,p,b,S);case er:var k=b._init;return y(p,m,g,k(b._payload),S)}if(qn(b)||Dn(b))return p=p.get(g)||null,d(m,p,b,S,null);Qs(m,b)}return null}function v(p,m,g,b){for(var S=null,k=null,E=m,j=m=0,I=null;E!==null&&j<g.length;j++){E.index>j?(I=E,E=null):I=E.sibling;var U=f(p,E,g[j],b);if(U===null){E===null&&(E=I);break}t&&E&&U.alternate===null&&e(p,E),m=i(U,m,j),k===null?S=U:k.sibling=U,k=U,E=I}if(j===g.length)return r(p,E),ge&&jr(p,j),S;if(E===null){for(;j<g.length;j++)E=h(p,g[j],b),E!==null&&(m=i(E,m,j),k===null?S=E:k.sibling=E,k=E);return ge&&jr(p,j),S}for(E=n(p,E);j<g.length;j++)I=y(E,p,j,g[j],b),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?j:I.key),m=i(I,m,j),k===null?S=I:k.sibling=I,k=I);return t&&E.forEach(function(Q){return e(p,Q)}),ge&&jr(p,j),S}function w(p,m,g,b){var S=Dn(g);if(typeof S!="function")throw Error(C(150));if(g=S.call(g),g==null)throw Error(C(151));for(var k=S=null,E=m,j=m=0,I=null,U=g.next();E!==null&&!U.done;j++,U=g.next()){E.index>j?(I=E,E=null):I=E.sibling;var Q=f(p,E,U.value,b);if(Q===null){E===null&&(E=I);break}t&&E&&Q.alternate===null&&e(p,E),m=i(Q,m,j),k===null?S=Q:k.sibling=Q,k=Q,E=I}if(U.done)return r(p,E),ge&&jr(p,j),S;if(E===null){for(;!U.done;j++,U=g.next())U=h(p,U.value,b),U!==null&&(m=i(U,m,j),k===null?S=U:k.sibling=U,k=U);return ge&&jr(p,j),S}for(E=n(p,E);!U.done;j++,U=g.next())U=y(E,p,j,U.value,b),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?j:U.key),m=i(U,m,j),k===null?S=U:k.sibling=U,k=U);return t&&E.forEach(function(re){return e(p,re)}),ge&&jr(p,j),S}function _(p,m,g,b){if(typeof g=="object"&&g!==null&&g.type===tn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ms:e:{for(var S=g.key,k=m;k!==null;){if(k.key===S){if(S=g.type,S===tn){if(k.tag===7){r(p,k.sibling),m=s(k,g.props.children),m.return=p,p=m;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&xu(S)===k.type){r(p,k.sibling),m=s(k,g.props),m.ref=Fn(p,k,g),m.return=p,p=m;break e}r(p,k);break}else e(p,k);k=k.sibling}g.type===tn?(m=Ir(g.props.children,p.mode,b,g.key),m.return=p,p=m):(b=_i(g.type,g.key,g.props,null,p.mode,b),b.ref=Fn(p,m,g),b.return=p,p=b)}return o(p);case en:e:{for(k=g.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else e(p,m);m=m.sibling}m=Vo(g,p.mode,b),m.return=p,p=m}return o(p);case er:return k=g._init,_(p,m,k(g._payload),b)}if(qn(g))return v(p,m,g,b);if(Dn(g))return w(p,m,g,b);Qs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=Fo(g,p.mode,b),m.return=p,p=m),o(p)):r(p,m)}return _}var kn=Bh(!0),Fh=Bh(!1),Li=vr(null),Di=null,un=null,Rl=null;function Al(){Rl=un=Di=null}function Il(t){var e=Li.current;fe(Li),t._currentValue=e}function Ra(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yn(t,e){Di=t,Rl=un=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function bt(t){var e=t._currentValue;if(Rl!==t)if(t={context:t,memoizedValue:e,next:null},un===null){if(Di===null)throw Error(C(308));un=t,Di.dependencies={lanes:0,firstContext:t}}else un=un.next=t;return e}var Or=null;function $l(t){Or===null?Or=[t]:Or.push(t)}function Vh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,$l(e)):(r.next=s.next,s.next=r),e.interleaved=r,Jt(t,n)}function Jt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var tr=!1;function Ll(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Jt(t,r)}return s=n.interleaved,s===null?(e.next=e,$l(n)):(e.next=s.next,s.next=e),n.interleaved=e,Jt(t,r)}function pi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_l(t,r)}}function wu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ui(t,e,r,n){var s=t.updateQueue;tr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(f=e,y=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=we({},h,f);break e;case 2:tr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ur|=o,t.lanes=o,t.memoizedState=h}}function _u(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var As={},Mt=vr(As),vs=vr(As),xs=vr(As);function Pr(t){if(t===As)throw Error(C(174));return t}function Dl(t,e){switch(de(xs,e),de(vs,t),de(Mt,As),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ha(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ha(e,t)}fe(Mt),de(Mt,e)}function Sn(){fe(Mt),fe(vs),fe(xs)}function Hh(t){Pr(xs.current);var e=Pr(Mt.current),r=ha(e,t.type);e!==r&&(de(vs,t),de(Mt,r))}function Ul(t){vs.current===t&&(fe(Mt),fe(vs))}var ve=vr(0);function Mi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lo=[];function Ml(){for(var t=0;t<Lo.length;t++)Lo[t]._workInProgressVersionPrimary=null;Lo.length=0}var gi=Qt.ReactCurrentDispatcher,Do=Qt.ReactCurrentBatchConfig,Dr=0,xe=null,Oe=null,Re=null,zi=!1,ts=!1,ws=0,i0=0;function Ve(){throw Error(C(321))}function zl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!It(t[r],e[r]))return!1;return!0}function Bl(t,e,r,n,s,i){if(Dr=i,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gi.current=t===null||t.memoizedState===null?c0:u0,t=r(n,s),ts){i=0;do{if(ts=!1,ws=0,25<=i)throw Error(C(301));i+=1,Re=Oe=null,e.updateQueue=null,gi.current=d0,t=r(n,s)}while(ts)}if(gi.current=Bi,e=Oe!==null&&Oe.next!==null,Dr=0,Re=Oe=xe=null,zi=!1,e)throw Error(C(300));return t}function Fl(){var t=ws!==0;return ws=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?xe.memoizedState=Re=t:Re=Re.next=t,Re}function jt(){if(Oe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=Re===null?xe.memoizedState:Re.next;if(e!==null)Re=e,Oe=t;else{if(t===null)throw Error(C(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Re===null?xe.memoizedState=Re=t:Re=Re.next=t}return Re}function _s(t,e){return typeof e=="function"?e(t):e}function Uo(t){var e=jt(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=Oe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Dr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,xe.lanes|=d,Ur|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,It(n,e.memoizedState)||(nt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,xe.lanes|=i,Ur|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Mo(t){var e=jt(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);It(i,e.memoizedState)||(nt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function qh(){}function Kh(t,e){var r=xe,n=jt(),s=e(),i=!It(n.memoizedState,s);if(i&&(n.memoizedState=s,nt=!0),n=n.queue,Vl(Qh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,bs(9,Gh.bind(null,r,n,s,e),void 0,null),Ae===null)throw Error(C(349));Dr&30||Jh(r,e,s)}return s}function Jh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Gh(t,e,r,n){e.value=r,e.getSnapshot=n,Yh(e)&&Xh(t)}function Qh(t,e,r){return r(function(){Yh(e)&&Xh(t)})}function Yh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!It(t,r)}catch{return!0}}function Xh(t){var e=Jt(t,1);e!==null&&At(e,t,1,-1)}function bu(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:t},e.queue=t,t=t.dispatch=l0.bind(null,xe,t),[e.memoizedState,t]}function bs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Zh(){return jt().memoizedState}function yi(t,e,r,n){var s=Lt();xe.flags|=t,s.memoizedState=bs(1|e,r,void 0,n===void 0?null:n)}function oo(t,e,r,n){var s=jt();n=n===void 0?null:n;var i=void 0;if(Oe!==null){var o=Oe.memoizedState;if(i=o.destroy,n!==null&&zl(n,o.deps)){s.memoizedState=bs(e,r,i,n);return}}xe.flags|=t,s.memoizedState=bs(1|e,r,i,n)}function ju(t,e){return yi(8390656,8,t,e)}function Vl(t,e){return oo(2048,8,t,e)}function ef(t,e){return oo(4,2,t,e)}function tf(t,e){return oo(4,4,t,e)}function rf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nf(t,e,r){return r=r!=null?r.concat([t]):null,oo(4,4,rf.bind(null,e,t),r)}function Wl(){}function sf(t,e){var r=jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function of(t,e){var r=jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function af(t,e,r){return Dr&21?(It(r,e)||(r=dh(),xe.lanes|=r,Ur|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=r)}function o0(t,e){var r=ne;ne=r!==0&&4>r?r:4,t(!0);var n=Do.transition;Do.transition={};try{t(!1),e()}finally{ne=r,Do.transition=n}}function lf(){return jt().memoizedState}function a0(t,e,r){var n=fr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cf(t))uf(e,r);else if(r=Vh(t,e,r,n),r!==null){var s=Ye();At(r,t,n,s),df(r,e,n)}}function l0(t,e,r){var n=fr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cf(t))uf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,It(l,o)){var c=e.interleaved;c===null?(s.next=s,$l(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Vh(t,e,s,n),r!==null&&(s=Ye(),At(r,t,n,s),df(r,e,n))}}function cf(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function uf(t,e){ts=zi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function df(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_l(t,r)}}var Bi={readContext:bt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},c0={readContext:bt,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:bt,useEffect:ju,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,yi(4194308,4,rf.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yi(4194308,4,t,e)},useInsertionEffect:function(t,e){return yi(4,2,t,e)},useMemo:function(t,e){var r=Lt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Lt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=a0.bind(null,xe,t),[n.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:bu,useDebugValue:Wl,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=bu(!1),e=t[0];return t=o0.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xe,s=Lt();if(ge){if(r===void 0)throw Error(C(407));r=r()}else{if(r=e(),Ae===null)throw Error(C(349));Dr&30||Jh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ju(Qh.bind(null,n,i,t),[t]),n.flags|=2048,bs(9,Gh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Lt(),e=Ae.identifierPrefix;if(ge){var r=Wt,n=Vt;r=(n&~(1<<32-Rt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ws++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=i0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},u0={readContext:bt,useCallback:sf,useContext:bt,useEffect:Vl,useImperativeHandle:nf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:Uo,useRef:Zh,useState:function(){return Uo(_s)},useDebugValue:Wl,useDeferredValue:function(t){var e=jt();return af(e,Oe.memoizedState,t)},useTransition:function(){var t=Uo(_s)[0],e=jt().memoizedState;return[t,e]},useMutableSource:qh,useSyncExternalStore:Kh,useId:lf,unstable_isNewReconciler:!1},d0={readContext:bt,useCallback:sf,useContext:bt,useEffect:Vl,useImperativeHandle:nf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:Mo,useRef:Zh,useState:function(){return Mo(_s)},useDebugValue:Wl,useDeferredValue:function(t){var e=jt();return Oe===null?e.memoizedState=t:af(e,Oe.memoizedState,t)},useTransition:function(){var t=Mo(_s)[0],e=jt().memoizedState;return[t,e]},useMutableSource:qh,useSyncExternalStore:Kh,useId:lf,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Aa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:we({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ao={isMounted:function(t){return(t=t._reactInternals)?Fr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ye(),s=fr(t),i=Ht(n,s);i.payload=e,r!=null&&(i.callback=r),e=dr(t,i,s),e!==null&&(At(e,t,s,n),pi(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ye(),s=fr(t),i=Ht(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=dr(t,i,s),e!==null&&(At(e,t,s,n),pi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ye(),n=fr(t),s=Ht(r,n);s.tag=2,e!=null&&(s.callback=e),e=dr(t,s,n),e!==null&&(At(e,t,n,r),pi(e,t,n))}};function ku(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ms(r,n)||!ms(s,i):!0}function hf(t,e,r){var n=!1,s=gr,i=e.contextType;return typeof i=="object"&&i!==null?i=bt(i):(s=it(e)?$r:Ke.current,n=e.contextTypes,i=(n=n!=null)?bn(t,s):gr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ao,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Su(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ao.enqueueReplaceState(e,e.state,null)}function Ia(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ll(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bt(i):(i=it(e)?$r:Ke.current,s.context=bn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Aa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ao.enqueueReplaceState(s,s.state,null),Ui(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Nn(t,e){try{var r="",n=e;do r+=Mp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function $a(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var h0=typeof WeakMap=="function"?WeakMap:Map;function ff(t,e,r){r=Ht(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vi||(Vi=!0,Ha=n),$a(t,e)},r}function mf(t,e,r){r=Ht(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){$a(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$a(t,e),typeof n!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Nu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new h0;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=N0.bind(null,t,e,r),e.then(t,t))}function Eu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ht(-1,1),e.tag=2,dr(r,e,1))),r.lanes|=1),t)}var f0=Qt.ReactCurrentOwner,nt=!1;function Ge(t,e,r,n){e.child=t===null?Fh(e,null,r,n):kn(e,t.child,r,n)}function Cu(t,e,r,n,s){r=r.render;var i=e.ref;return yn(e,s),n=Bl(t,e,r,n,i,s),r=Fl(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gt(t,e,s)):(ge&&r&&Cl(e),e.flags|=1,Ge(t,e,n,s),e.child)}function Ou(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Xl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,pf(t,e,i,n,s)):(t=_i(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ms,r(o,n)&&t.ref===e.ref)return Gt(t,e,s)}return e.flags|=1,t=mr(i,n),t.ref=e.ref,t.return=e,e.child=t}function pf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ms(i,n)&&t.ref===e.ref)if(nt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,Gt(t,e,s)}return La(t,e,r,n,s)}function gf(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(hn,at),at|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(hn,at),at|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,de(hn,at),at|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,de(hn,at),at|=n;return Ge(t,e,s,r),e.child}function yf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function La(t,e,r,n,s){var i=it(r)?$r:Ke.current;return i=bn(e,i),yn(e,s),r=Bl(t,e,r,n,i,s),n=Fl(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gt(t,e,s)):(ge&&n&&Cl(e),e.flags|=1,Ge(t,e,r,s),e.child)}function Pu(t,e,r,n,s){if(it(r)){var i=!0;Ai(e)}else i=!1;if(yn(e,s),e.stateNode===null)vi(t,e),hf(e,r,n),Ia(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=bt(u):(u=it(r)?$r:Ke.current,u=bn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Su(e,o,n,u),tr=!1;var f=e.memoizedState;o.state=f,Ui(e,n,o,s),c=e.memoizedState,l!==n||f!==c||st.current||tr?(typeof d=="function"&&(Aa(e,r,d,n),c=e.memoizedState),(l=tr||ku(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Wh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Tt(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bt(c):(c=it(r)?$r:Ke.current,c=bn(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Su(e,o,n,c),tr=!1,f=e.memoizedState,o.state=f,Ui(e,n,o,s);var v=e.memoizedState;l!==h||f!==v||st.current||tr?(typeof y=="function"&&(Aa(e,r,y,n),v=e.memoizedState),(u=tr||ku(e,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Da(t,e,r,n,i,s)}function Da(t,e,r,n,s,i){yf(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&gu(e,r,!1),Gt(t,e,i);n=e.stateNode,f0.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=kn(e,t.child,null,i),e.child=kn(e,null,l,i)):Ge(t,e,l,i),e.memoizedState=n.state,s&&gu(e,r,!0),e.child}function vf(t){var e=t.stateNode;e.pendingContext?pu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pu(t,e.context,!1),Dl(t,e.containerInfo)}function Ru(t,e,r,n,s){return jn(),Pl(s),e.flags|=256,Ge(t,e,r,n),e.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Ma(t){return{baseLanes:t,cachePool:null,transitions:null}}function xf(t,e,r){var n=e.pendingProps,s=ve.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),de(ve,s&1),t===null)return Pa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uo(o,n,0,null),t=Ir(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ma(r),e.memoizedState=Ua,t):Hl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return m0(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=mr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=mr(l,i):(i=Ir(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ma(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ua,n}return i=t.child,t=i.sibling,n=mr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Hl(t,e){return e=uo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ys(t,e,r,n){return n!==null&&Pl(n),kn(e,t.child,null,r),t=Hl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m0(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=zo(Error(C(422))),Ys(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=uo({mode:"visible",children:n.children},s,0,null),i=Ir(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&kn(e,t.child,null,o),e.child.memoizedState=Ma(o),e.memoizedState=Ua,i);if(!(e.mode&1))return Ys(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(C(419)),n=zo(i,n,void 0),Ys(t,e,o,n)}if(l=(o&t.childLanes)!==0,nt||l){if(n=Ae,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jt(t,s),At(n,t,s,-1))}return Yl(),n=zo(Error(C(421))),Ys(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=E0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ut=ur(s.nextSibling),dt=e,ge=!0,Pt=null,t!==null&&(vt[xt++]=Vt,vt[xt++]=Wt,vt[xt++]=Lr,Vt=t.id,Wt=t.overflow,Lr=e),e=Hl(e,n.children),e.flags|=4096,e)}function Au(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ra(t.return,e,r)}function Bo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function wf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ge(t,e,n.children,r),n=ve.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Au(t,r,e);else if(t.tag===19)Au(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(de(ve,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Mi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Bo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Bo(e,!0,r,null,i);break;case"together":Bo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ur|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,r=mr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=mr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function p0(t,e,r){switch(e.tag){case 3:vf(e),jn();break;case 5:Hh(e);break;case 1:it(e.type)&&Ai(e);break;case 4:Dl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;de(Li,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(de(ve,ve.current&1),e.flags|=128,null):r&e.child.childLanes?xf(t,e,r):(de(ve,ve.current&1),t=Gt(t,e,r),t!==null?t.sibling:null);de(ve,ve.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return wf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ve,ve.current),n)break;return null;case 22:case 23:return e.lanes=0,gf(t,e,r)}return Gt(t,e,r)}var _f,za,bf,jf;_f=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};za=function(){};bf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Pr(Mt.current);var i=null;switch(r){case"input":s=la(t,s),n=la(t,n),i=[];break;case"select":s=we({},s,{value:void 0}),n=we({},n,{value:void 0}),i=[];break;case"textarea":s=da(t,s),n=da(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pi)}fa(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};jf=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vn(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function g0(t,e,r){var n=e.pendingProps;switch(Ol(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return it(e.type)&&Ri(),We(e),null;case 3:return n=e.stateNode,Sn(),fe(st),fe(Ke),Ml(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pt!==null&&(Ja(Pt),Pt=null))),za(t,e),We(e),null;case 5:Ul(e);var s=Pr(xs.current);if(r=e.type,t!==null&&e.stateNode!=null)bf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(C(166));return We(e),null}if(t=Pr(Mt.current),Gs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Dt]=e,n[ys]=i,t=(e.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<Jn.length;s++)he(Jn[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":Fc(n,i),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},he("invalid",n);break;case"textarea":Wc(n,i),he("invalid",n)}fa(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Js(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Js(n.textContent,l,t),s=["children",""+l]):as.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&he("scroll",n)}switch(r){case"input":zs(n),Vc(n,i,!0);break;case"textarea":zs(n),Hc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Dt]=e,t[ys]=n,_f(t,e,!1,!1),e.stateNode=t;e:{switch(o=ma(r,n),r){case"dialog":he("cancel",t),he("close",t),s=n;break;case"iframe":case"object":case"embed":he("load",t),s=n;break;case"video":case"audio":for(s=0;s<Jn.length;s++)he(Jn[s],t);s=n;break;case"source":he("error",t),s=n;break;case"img":case"image":case"link":he("error",t),he("load",t),s=n;break;case"details":he("toggle",t),s=n;break;case"input":Fc(t,n),s=la(t,n),he("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=we({},n,{value:void 0}),he("invalid",t);break;case"textarea":Wc(t,n),s=da(t,n),he("invalid",t);break;default:s=n}fa(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Zd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yd(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ls(t,c):typeof c=="number"&&ls(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(as.hasOwnProperty(i)?c!=null&&i==="onScroll"&&he("scroll",t):c!=null&&pl(t,i,c,o))}switch(r){case"input":zs(t),Vc(t,n,!1);break;case"textarea":zs(t),Hc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?fn(t,!!n.multiple,i,!1):n.defaultValue!=null&&fn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Pi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)jf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(C(166));if(r=Pr(xs.current),Pr(Mt.current),Gs(e)){if(n=e.stateNode,r=e.memoizedProps,n[Dt]=e,(i=n.nodeValue!==r)&&(t=dt,t!==null))switch(t.tag){case 3:Js(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Js(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dt]=e,e.stateNode=n}return We(e),null;case 13:if(fe(ve),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&ut!==null&&e.mode&1&&!(e.flags&128))zh(),jn(),e.flags|=98560,i=!1;else if(i=Gs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Dt]=e}else jn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),i=!1}else Pt!==null&&(Ja(Pt),Pt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Pe===0&&(Pe=3):Yl())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return Sn(),za(t,e),t===null&&ps(e.stateNode.containerInfo),We(e),null;case 10:return Il(e.type._context),We(e),null;case 17:return it(e.type)&&Ri(),We(e),null;case 19:if(fe(ve),i=e.memoizedState,i===null)return We(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Vn(i,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mi(t),o!==null){for(e.flags|=128,Vn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return de(ve,ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>En&&(e.flags|=128,n=!0,Vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Mi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return We(e),null}else 2*je()-i.renderingStartTime>En&&r!==1073741824&&(e.flags|=128,n=!0,Vn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,r=ve.current,de(ve,n?r&1|2:r&1),e):(We(e),null);case 22:case 23:return Ql(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?at&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function y0(t,e){switch(Ol(e),e.tag){case 1:return it(e.type)&&Ri(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sn(),fe(st),fe(Ke),Ml(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ul(e),null;case 13:if(fe(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));jn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(ve),null;case 4:return Sn(),null;case 10:return Il(e.type._context),null;case 22:case 23:return Ql(),null;case 24:return null;default:return null}}var Xs=!1,He=!1,v0=typeof WeakSet=="function"?WeakSet:Set,D=null;function dn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(t,e,n)}else r.current=null}function Ba(t,e,r){try{r()}catch(n){be(t,e,n)}}var Iu=!1;function x0(t,e){if(ka=Ti,t=Eh(),Tl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sa={focusedElem:t,selectionRange:r},Ti=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tt(e.type,w),_);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){be(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return v=Iu,Iu=!1,v}function rs(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ba(e,r,i)}s=s.next}while(s!==n)}}function lo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Fa(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function kf(t){var e=t.alternate;e!==null&&(t.alternate=null,kf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dt],delete e[ys],delete e[Ta],delete e[t0],delete e[r0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sf(t){return t.tag===5||t.tag===3||t.tag===4}function $u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Va(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Pi));else if(n!==4&&(t=t.child,t!==null))for(Va(t,e,r),t=t.sibling;t!==null;)Va(t,e,r),t=t.sibling}function Wa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wa(t,e,r),t=t.sibling;t!==null;)Wa(t,e,r),t=t.sibling}var Ue=null,Ot=!1;function Xt(t,e,r){for(r=r.child;r!==null;)Nf(t,e,r),r=r.sibling}function Nf(t,e,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(eo,r)}catch{}switch(r.tag){case 5:He||dn(r,e);case 6:var n=Ue,s=Ot;Ue=null,Xt(t,e,r),Ue=n,Ot=s,Ue!==null&&(Ot?(t=Ue,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(Ot?(t=Ue,r=r.stateNode,t.nodeType===8?Io(t.parentNode,r):t.nodeType===1&&Io(t,r),hs(t)):Io(Ue,r.stateNode));break;case 4:n=Ue,s=Ot,Ue=r.stateNode.containerInfo,Ot=!0,Xt(t,e,r),Ue=n,Ot=s;break;case 0:case 11:case 14:case 15:if(!He&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ba(r,e,o),s=s.next}while(s!==n)}Xt(t,e,r);break;case 1:if(!He&&(dn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){be(r,e,l)}Xt(t,e,r);break;case 21:Xt(t,e,r);break;case 22:r.mode&1?(He=(n=He)||r.memoizedState!==null,Xt(t,e,r),He=n):Xt(t,e,r);break;default:Xt(t,e,r)}}function Lu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new v0),e.forEach(function(n){var s=T0.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function St(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,Ot=!1;break e;case 3:Ue=l.stateNode.containerInfo,Ot=!0;break e;case 4:Ue=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(Ue===null)throw Error(C(160));Nf(i,o,s),Ue=null,Ot=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){be(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ef(e,t),e=e.sibling}function Ef(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(St(e,t),$t(t),n&4){try{rs(3,t,t.return),lo(3,t)}catch(w){be(t,t.return,w)}try{rs(5,t,t.return)}catch(w){be(t,t.return,w)}}break;case 1:St(e,t),$t(t),n&512&&r!==null&&dn(r,r.return);break;case 5:if(St(e,t),$t(t),n&512&&r!==null&&dn(r,r.return),t.flags&32){var s=t.stateNode;try{ls(s,"")}catch(w){be(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jd(s,i),ma(l,o);var u=ma(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Zd(s,h):d==="dangerouslySetInnerHTML"?Yd(s,h):d==="children"?ls(s,h):pl(s,d,h,u)}switch(l){case"input":ca(s,i);break;case"textarea":Gd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?fn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?fn(s,!!i.multiple,i.defaultValue,!0):fn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ys]=i}catch(w){be(t,t.return,w)}}break;case 6:if(St(e,t),$t(t),n&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){be(t,t.return,w)}}break;case 3:if(St(e,t),$t(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hs(e.containerInfo)}catch(w){be(t,t.return,w)}break;case 4:St(e,t),$t(t);break;case 13:St(e,t),$t(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jl=je())),n&4&&Lu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(He=(u=He)||d,St(e,t),He=u):St(e,t),$t(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,y=f.child,f.tag){case 0:case 11:case 14:case 15:rs(4,f,f.return);break;case 1:dn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){be(n,r,w)}}break;case 5:dn(f,f.return);break;case 22:if(f.memoizedState!==null){Uu(h);continue}}y!==null?(y.return=f,D=y):Uu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xd("display",o))}catch(w){be(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){be(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:St(e,t),$t(t),n&4&&Lu(t);break;case 21:break;default:St(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Sf(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ls(s,""),n.flags&=-33);var i=$u(t);Wa(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=$u(t);Va(t,l,o);break;default:throw Error(C(161))}}catch(c){be(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function w0(t,e,r){D=t,Tf(t)}function Tf(t,e,r){for(var n=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Xs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||He;l=Xs;var u=He;if(Xs=o,(He=c)&&!u)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?Mu(s):c!==null?(c.return=o,D=c):Mu(s);for(;i!==null;)D=i,Tf(i),i=i.sibling;D=s,Xs=l,He=u}Du(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Du(t)}}function Du(t){for(;D!==null;){var e=D;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||lo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!He)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Tt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&_u(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}_u(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}He||e.flags&512&&Fa(e)}catch(f){be(e,e.return,f)}}if(e===t){D=null;break}if(r=e.sibling,r!==null){r.return=e.return,D=r;break}D=e.return}}function Uu(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var r=e.sibling;if(r!==null){r.return=e.return,D=r;break}D=e.return}}function Mu(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lo(4,e)}catch(c){be(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){be(e,s,c)}}var i=e.return;try{Fa(e)}catch(c){be(e,i,c)}break;case 5:var o=e.return;try{Fa(e)}catch(c){be(e,o,c)}}}catch(c){be(e,e.return,c)}if(e===t){D=null;break}var l=e.sibling;if(l!==null){l.return=e.return,D=l;break}D=e.return}}var _0=Math.ceil,Fi=Qt.ReactCurrentDispatcher,ql=Qt.ReactCurrentOwner,_t=Qt.ReactCurrentBatchConfig,Z=0,Ae=null,Ee=null,Me=0,at=0,hn=vr(0),Pe=0,js=null,Ur=0,co=0,Kl=0,ns=null,tt=null,Jl=0,En=1/0,zt=null,Vi=!1,Ha=null,hr=null,Zs=!1,or=null,Wi=0,ss=0,qa=null,xi=-1,wi=0;function Ye(){return Z&6?je():xi!==-1?xi:xi=je()}function fr(t){return t.mode&1?Z&2&&Me!==0?Me&-Me:s0.transition!==null?(wi===0&&(wi=dh()),wi):(t=ne,t!==0||(t=window.event,t=t===void 0?16:vh(t.type)),t):1}function At(t,e,r,n){if(50<ss)throw ss=0,qa=null,Error(C(185));Os(t,r,n),(!(Z&2)||t!==Ae)&&(t===Ae&&(!(Z&2)&&(co|=r),Pe===4&&nr(t,Me)),ot(t,n),r===1&&Z===0&&!(e.mode&1)&&(En=je()+500,io&&xr()))}function ot(t,e){var r=t.callbackNode;sg(t,e);var n=Ei(t,t===Ae?Me:0);if(n===0)r!==null&&Jc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Jc(r),e===1)t.tag===0?n0(zu.bind(null,t)):Dh(zu.bind(null,t)),Zg(function(){!(Z&6)&&xr()}),r=null;else{switch(hh(n)){case 1:r=wl;break;case 4:r=ch;break;case 16:r=Ni;break;case 536870912:r=uh;break;default:r=Ni}r=Lf(r,Cf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Cf(t,e){if(xi=-1,wi=0,Z&6)throw Error(C(327));var r=t.callbackNode;if(vn()&&t.callbackNode!==r)return null;var n=Ei(t,t===Ae?Me:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hi(t,n);else{e=n;var s=Z;Z|=2;var i=Pf();(Ae!==t||Me!==e)&&(zt=null,En=je()+500,Ar(t,e));do try{k0();break}catch(l){Of(t,l)}while(1);Al(),Fi.current=i,Z=s,Ee!==null?e=0:(Ae=null,Me=0,e=Pe)}if(e!==0){if(e===2&&(s=xa(t),s!==0&&(n=s,e=Ka(t,s))),e===1)throw r=js,Ar(t,0),nr(t,n),ot(t,je()),r;if(e===6)nr(t,n);else{if(s=t.current.alternate,!(n&30)&&!b0(s)&&(e=Hi(t,n),e===2&&(i=xa(t),i!==0&&(n=i,e=Ka(t,i))),e===1))throw r=js,Ar(t,0),nr(t,n),ot(t,je()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(C(345));case 2:kr(t,tt,zt);break;case 3:if(nr(t,n),(n&130023424)===n&&(e=Jl+500-je(),10<e)){if(Ei(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ea(kr.bind(null,t,tt,zt),e);break}kr(t,tt,zt);break;case 4:if(nr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Rt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_0(n/1960))-n,10<n){t.timeoutHandle=Ea(kr.bind(null,t,tt,zt),n);break}kr(t,tt,zt);break;case 5:kr(t,tt,zt);break;default:throw Error(C(329))}}}return ot(t,je()),t.callbackNode===r?Cf.bind(null,t):null}function Ka(t,e){var r=ns;return t.current.memoizedState.isDehydrated&&(Ar(t,e).flags|=256),t=Hi(t,e),t!==2&&(e=tt,tt=r,e!==null&&Ja(e)),t}function Ja(t){tt===null?tt=t:tt.push.apply(tt,t)}function b0(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!It(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~Kl,e&=~co,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Rt(e),n=1<<r;t[r]=-1,e&=~n}}function zu(t){if(Z&6)throw Error(C(327));vn();var e=Ei(t,0);if(!(e&1))return ot(t,je()),null;var r=Hi(t,e);if(t.tag!==0&&r===2){var n=xa(t);n!==0&&(e=n,r=Ka(t,n))}if(r===1)throw r=js,Ar(t,0),nr(t,e),ot(t,je()),r;if(r===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,tt,zt),ot(t,je()),null}function Gl(t,e){var r=Z;Z|=1;try{return t(e)}finally{Z=r,Z===0&&(En=je()+500,io&&xr())}}function Mr(t){or!==null&&or.tag===0&&!(Z&6)&&vn();var e=Z;Z|=1;var r=_t.transition,n=ne;try{if(_t.transition=null,ne=1,t)return t()}finally{ne=n,_t.transition=r,Z=e,!(Z&6)&&xr()}}function Ql(){at=hn.current,fe(hn)}function Ar(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Xg(r)),Ee!==null)for(r=Ee.return;r!==null;){var n=r;switch(Ol(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ri();break;case 3:Sn(),fe(st),fe(Ke),Ml();break;case 5:Ul(n);break;case 4:Sn();break;case 13:fe(ve);break;case 19:fe(ve);break;case 10:Il(n.type._context);break;case 22:case 23:Ql()}r=r.return}if(Ae=t,Ee=t=mr(t.current,null),Me=at=e,Pe=0,js=null,Kl=co=Ur=0,tt=ns=null,Or!==null){for(e=0;e<Or.length;e++)if(r=Or[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Or=null}return t}function Of(t,e){do{var r=Ee;try{if(Al(),gi.current=Bi,zi){for(var n=xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}zi=!1}if(Dr=0,Re=Oe=xe=null,ts=!1,ws=0,ql.current=null,r===null||r.return===null){Pe=1,js=e,Ee=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=Me,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Eu(o);if(y!==null){y.flags&=-257,Tu(y,o,l,i,e),y.mode&1&&Nu(i,u,e),e=y,c=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(c),e.updateQueue=w}else v.add(c);break e}else{if(!(e&1)){Nu(i,u,e),Yl();break e}c=Error(C(426))}}else if(ge&&l.mode&1){var _=Eu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Tu(_,o,l,i,e),Pl(Nn(c,l));break e}}i=c=Nn(c,l),Pe!==4&&(Pe=2),ns===null?ns=[i]:ns.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=ff(i,c,e);wu(i,p);break e;case 1:l=c;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hr===null||!hr.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=mf(i,l,e);wu(i,b);break e}}i=i.return}while(i!==null)}Af(r)}catch(S){e=S,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(1)}function Pf(){var t=Fi.current;return Fi.current=Bi,t===null?Bi:t}function Yl(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ae===null||!(Ur&268435455)&&!(co&268435455)||nr(Ae,Me)}function Hi(t,e){var r=Z;Z|=2;var n=Pf();(Ae!==t||Me!==e)&&(zt=null,Ar(t,e));do try{j0();break}catch(s){Of(t,s)}while(1);if(Al(),Z=r,Fi.current=n,Ee!==null)throw Error(C(261));return Ae=null,Me=0,Pe}function j0(){for(;Ee!==null;)Rf(Ee)}function k0(){for(;Ee!==null&&!Gp();)Rf(Ee)}function Rf(t){var e=$f(t.alternate,t,at);t.memoizedProps=t.pendingProps,e===null?Af(t):Ee=e,ql.current=null}function Af(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=y0(r,e),r!==null){r.flags&=32767,Ee=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,Ee=null;return}}else if(r=g0(r,e,at),r!==null){Ee=r;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Pe===0&&(Pe=5)}function kr(t,e,r){var n=ne,s=_t.transition;try{_t.transition=null,ne=1,S0(t,e,r,n)}finally{_t.transition=s,ne=n}return null}function S0(t,e,r,n){do vn();while(or!==null);if(Z&6)throw Error(C(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(ig(t,i),t===Ae&&(Ee=Ae=null,Me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zs||(Zs=!0,Lf(Ni,function(){return vn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=_t.transition,_t.transition=null;var o=ne;ne=1;var l=Z;Z|=4,ql.current=null,x0(t,r),Ef(r,t),Hg(Sa),Ti=!!ka,Sa=ka=null,t.current=r,w0(r),Qp(),Z=l,ne=o,_t.transition=i}else t.current=r;if(Zs&&(Zs=!1,or=t,Wi=s),i=t.pendingLanes,i===0&&(hr=null),Zp(r.stateNode),ot(t,je()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vi)throw Vi=!1,t=Ha,Ha=null,t;return Wi&1&&t.tag!==0&&vn(),i=t.pendingLanes,i&1?t===qa?ss++:(ss=0,qa=t):ss=0,xr(),null}function vn(){if(or!==null){var t=hh(Wi),e=_t.transition,r=ne;try{if(_t.transition=null,ne=16>t?16:t,or===null)var n=!1;else{if(t=or,or=null,Wi=0,Z&6)throw Error(C(331));var s=Z;for(Z|=4,D=t.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:rs(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,y=d.return;if(kf(d),d===u){D=null;break}if(f!==null){f.return=y,D=f;break}D=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rs(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,D=p;break e}D=i.return}}var m=t.current;for(D=m;D!==null;){o=D;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,D=g;else e:for(o=m;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lo(9,l)}}catch(S){be(l,l.return,S)}if(l===o){D=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,D=b;break e}D=l.return}}if(Z=s,xr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(eo,t)}catch{}n=!0}return n}finally{ne=r,_t.transition=e}}return!1}function Bu(t,e,r){e=Nn(r,e),e=ff(t,e,1),t=dr(t,e,1),e=Ye(),t!==null&&(Os(t,1,e),ot(t,e))}function be(t,e,r){if(t.tag===3)Bu(t,t,r);else for(;e!==null;){if(e.tag===3){Bu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hr===null||!hr.has(n))){t=Nn(r,t),t=mf(e,t,1),e=dr(e,t,1),t=Ye(),e!==null&&(Os(e,1,t),ot(e,t));break}}e=e.return}}function N0(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&r,Ae===t&&(Me&r)===r&&(Pe===4||Pe===3&&(Me&130023424)===Me&&500>je()-Jl?Ar(t,0):Kl|=r),ot(t,e)}function If(t,e){e===0&&(t.mode&1?(e=Vs,Vs<<=1,!(Vs&130023424)&&(Vs=4194304)):e=1);var r=Ye();t=Jt(t,e),t!==null&&(Os(t,e,r),ot(t,r))}function E0(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),If(t,r)}function T0(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(e),If(t,r)}var $f;$f=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||st.current)nt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return nt=!1,p0(t,e,r);nt=!!(t.flags&131072)}else nt=!1,ge&&e.flags&1048576&&Uh(e,$i,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;vi(t,e),t=e.pendingProps;var s=bn(e,Ke.current);yn(e,r),s=Bl(null,e,n,t,s,r);var i=Fl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(n)?(i=!0,Ai(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ll(e),s.updater=ao,e.stateNode=s,s._reactInternals=e,Ia(e,n,t,r),e=Da(null,e,n,!0,i,r)):(e.tag=0,ge&&i&&Cl(e),Ge(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(vi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=O0(n),t=Tt(n,t),s){case 0:e=La(null,e,n,t,r);break e;case 1:e=Pu(null,e,n,t,r);break e;case 11:e=Cu(null,e,n,t,r);break e;case 14:e=Ou(null,e,n,Tt(n.type,t),r);break e}throw Error(C(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),La(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Pu(t,e,n,s,r);case 3:e:{if(vf(e),t===null)throw Error(C(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Wh(t,e),Ui(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Nn(Error(C(423)),e),e=Ru(t,e,n,r,s);break e}else if(n!==s){s=Nn(Error(C(424)),e),e=Ru(t,e,n,r,s);break e}else for(ut=ur(e.stateNode.containerInfo.firstChild),dt=e,ge=!0,Pt=null,r=Fh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jn(),n===s){e=Gt(t,e,r);break e}Ge(t,e,n,r)}e=e.child}return e;case 5:return Hh(e),t===null&&Pa(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Na(n,s)?o=null:i!==null&&Na(n,i)&&(e.flags|=32),yf(t,e),Ge(t,e,o,r),e.child;case 6:return t===null&&Pa(e),null;case 13:return xf(t,e,r);case 4:return Dl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=kn(e,null,n,r):Ge(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Cu(t,e,n,s,r);case 7:return Ge(t,e,e.pendingProps,r),e.child;case 8:return Ge(t,e,e.pendingProps.children,r),e.child;case 12:return Ge(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,de(Li,n._currentValue),n._currentValue=o,i!==null)if(It(i.value,o)){if(i.children===s.children&&!st.current){e=Gt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ht(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ra(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ra(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,yn(e,r),s=bt(s),n=n(s),e.flags|=1,Ge(t,e,n,r),e.child;case 14:return n=e.type,s=Tt(n,e.pendingProps),s=Tt(n.type,s),Ou(t,e,n,s,r);case 15:return pf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),vi(t,e),e.tag=1,it(n)?(t=!0,Ai(e)):t=!1,yn(e,r),hf(e,n,s),Ia(e,n,s,r),Da(null,e,n,!0,t,r);case 19:return wf(t,e,r);case 22:return gf(t,e,r)}throw Error(C(156,e.tag))};function Lf(t,e){return lh(t,e)}function C0(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,r,n){return new C0(t,e,r,n)}function Xl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O0(t){if(typeof t=="function")return Xl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yl)return 11;if(t===vl)return 14}return 2}function mr(t,e){var r=t.alternate;return r===null?(r=wt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function _i(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Xl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tn:return Ir(r.children,s,i,e);case gl:o=8,s|=8;break;case sa:return t=wt(12,r,e,s|2),t.elementType=sa,t.lanes=i,t;case ia:return t=wt(13,r,e,s),t.elementType=ia,t.lanes=i,t;case oa:return t=wt(19,r,e,s),t.elementType=oa,t.lanes=i,t;case Hd:return uo(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vd:o=10;break e;case Wd:o=9;break e;case yl:o=11;break e;case vl:o=14;break e;case er:o=16,n=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=wt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ir(t,e,r,n){return t=wt(7,t,n,e),t.lanes=r,t}function uo(t,e,r,n){return t=wt(22,t,n,e),t.elementType=Hd,t.lanes=r,t.stateNode={isHidden:!1},t}function Fo(t,e,r){return t=wt(6,t,null,e),t.lanes=r,t}function Vo(t,e,r){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function P0(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zl(t,e,r,n,s,i,o,l,c){return t=new P0(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=wt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(i),t}function R0(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Df(t){if(!t)return gr;t=t._reactInternals;e:{if(Fr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var r=t.type;if(it(r))return Lh(t,r,e)}return e}function Uf(t,e,r,n,s,i,o,l,c){return t=Zl(r,n,!0,t,s,i,o,l,c),t.context=Df(null),r=t.current,n=Ye(),s=fr(r),i=Ht(n,s),i.callback=e??null,dr(r,i,s),t.current.lanes=s,Os(t,s,n),ot(t,n),t}function ho(t,e,r,n){var s=e.current,i=Ye(),o=fr(s);return r=Df(r),e.context===null?e.context=r:e.pendingContext=r,e=Ht(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=dr(s,e,o),t!==null&&(At(t,s,o,i),pi(t,s,o)),o}function qi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ec(t,e){Fu(t,e),(t=t.alternate)&&Fu(t,e)}function A0(){return null}var Mf=typeof reportError=="function"?reportError:function(t){console.error(t)};function tc(t){this._internalRoot=t}fo.prototype.render=tc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));ho(t,e,null,null)};fo.prototype.unmount=tc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mr(function(){ho(null,t,null,null)}),e[Kt]=null}};function fo(t){this._internalRoot=t}fo.prototype.unstable_scheduleHydration=function(t){if(t){var e=ph();t={blockedOn:null,target:t,priority:e};for(var r=0;r<rr.length&&e!==0&&e<rr[r].priority;r++);rr.splice(r,0,t),r===0&&yh(t)}};function rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vu(){}function I0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=qi(o);i.call(u)}}var o=Uf(e,n,t,0,null,!1,!1,"",Vu);return t._reactRootContainer=o,t[Kt]=o.current,ps(t.nodeType===8?t.parentNode:t),Mr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=qi(c);l.call(u)}}var c=Zl(t,0,!1,null,null,!1,!1,"",Vu);return t._reactRootContainer=c,t[Kt]=c.current,ps(t.nodeType===8?t.parentNode:t),Mr(function(){ho(e,c,r,n)}),c}function po(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=qi(o);l.call(c)}}ho(e,o,t,s)}else o=I0(r,e,t,s,n);return qi(o)}fh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Kn(e.pendingLanes);r!==0&&(_l(e,r|1),ot(e,je()),!(Z&6)&&(En=je()+500,xr()))}break;case 13:Mr(function(){var n=Jt(t,1);if(n!==null){var s=Ye();At(n,t,1,s)}}),ec(t,1)}};bl=function(t){if(t.tag===13){var e=Jt(t,134217728);if(e!==null){var r=Ye();At(e,t,134217728,r)}ec(t,134217728)}};mh=function(t){if(t.tag===13){var e=fr(t),r=Jt(t,e);if(r!==null){var n=Ye();At(r,t,e,n)}ec(t,e)}};ph=function(){return ne};gh=function(t,e){var r=ne;try{return ne=t,e()}finally{ne=r}};ga=function(t,e,r){switch(e){case"input":if(ca(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=so(n);if(!s)throw Error(C(90));Kd(n),ca(n,s)}}}break;case"textarea":Gd(t,r);break;case"select":e=r.value,e!=null&&fn(t,!!r.multiple,e,!1)}};rh=Gl;nh=Mr;var $0={usingClientEntryPoint:!1,Events:[Rs,on,so,eh,th,Gl]},Wn={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L0={bundleType:Wn.bundleType,version:Wn.version,rendererPackageName:Wn.rendererPackageName,rendererConfig:Wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oh(t),t===null?null:t.stateNode},findFiberByHostInstance:Wn.findFiberByHostInstance||A0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ei.isDisabled&&ei.supportsFiber)try{eo=ei.inject(L0),Ut=ei}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0;ft.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(e))throw Error(C(200));return R0(t,e,null,r)};ft.createRoot=function(t,e){if(!rc(t))throw Error(C(299));var r=!1,n="",s=Mf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zl(t,1,!1,null,null,r,!1,n,s),t[Kt]=e.current,ps(t.nodeType===8?t.parentNode:t),new tc(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=oh(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return Mr(t)};ft.hydrate=function(t,e,r){if(!mo(e))throw Error(C(200));return po(null,t,e,!0,r)};ft.hydrateRoot=function(t,e,r){if(!rc(t))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Mf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Uf(e,null,t,1,r??null,s,!1,i,o),t[Kt]=e.current,ps(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new fo(e)};ft.render=function(t,e,r){if(!mo(e))throw Error(C(200));return po(null,t,e,!1,r)};ft.unmountComponentAtNode=function(t){if(!mo(t))throw Error(C(40));return t._reactRootContainer?(Mr(function(){po(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};ft.unstable_batchedUpdates=Gl;ft.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!mo(r))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return po(t,e,r,!1,n)};ft.version="18.3.1-next-f1338f8080-20240426";function zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zf)}catch(t){console.error(t)}}zf(),Md.exports=ft;var D0=Md.exports,Wu=D0;ra.createRoot=Wu.createRoot,ra.hydrateRoot=Wu.hydrateRoot;const qe={Vermelho:{bg:"bg-red-500",gradient:"from-red-500 to-red-600",text:"text-red-600"},Azul:{bg:"bg-blue-500",gradient:"from-blue-500 to-blue-600",text:"text-blue-600"},Brasil:{bg:"bg-yellow-500",gradient:"from-yellow-500 to-yellow-600",text:"text-yellow-600"},"Verde Branco":{bg:"bg-green-500",gradient:"from-green-500 to-green-600",text:"text-green-600"}},bi=["Vermelho","Azul","Brasil","Verde Branco"],Wo=[{id:1,team1:"Vermelho",team2:"Azul",score1:null,score2:null,played:!1,type:"regular"},{id:2,team1:"Verde Branco",team2:"Brasil",score1:null,score2:null,played:!1,type:"regular"},{id:3,team1:"Verde Branco",team2:"Vermelho",score1:null,score2:null,played:!1,type:"regular"},{id:4,team1:"Brasil",team2:"Azul",score1:null,score2:null,played:!1,type:"regular"},{id:5,team1:"Verde Branco",team2:"Azul",score1:null,score2:null,played:!1,type:"regular"},{id:6,team1:"Vermelho",team2:"Brasil",score1:null,score2:null,played:!1,type:"regular"},{id:7,team1:"Azul",team2:"Vermelho",score1:null,score2:null,played:!1,type:"regular"},{id:8,team1:"Brasil",team2:"Verde Branco",score1:null,score2:null,played:!1,type:"regular"},{id:9,team1:"Vermelho",team2:"Verde Branco",score1:null,score2:null,played:!1,type:"regular"},{id:10,team1:"Azul",team2:"Brasil",score1:null,score2:null,played:!1,type:"regular"},{id:11,team1:"Azul",team2:"Verde Branco",score1:null,score2:null,played:!1,type:"regular"},{id:12,team1:"Brasil",team2:"Vermelho",score1:null,score2:null,played:!1,type:"regular"},{id:13,team1:"TBD",team2:"TBD",score1:null,score2:null,played:!1,type:"third_place",name:"Disputa 3 Lugar"},{id:14,team1:"TBD",team2:"TBD",score1:null,score2:null,played:!1,type:"final",name:"Final"}],U0={Vermelho:[],Azul:[],Brasil:[],"Verde Branco":[]},Hu={NORMAL_MATCH:7*60,FINAL_MATCH:10*60},M0=(t=null)=>{const[e,r]=P.useState(0),[n,s]=P.useState(!1),[i,o]=P.useState(null),[l,c]=P.useState(null),u=(_=!1)=>t?_?t.finalMatchTime*60:t.normalMatchTime*60:_?10*60:7*60;return P.useEffect(()=>{let _;return n&&e>0&&(_=setInterval(()=>{r(p=>p<=1?(s(!1),l&&l(),0):p-1)},1e3)),()=>clearInterval(_)},[n,e,l]),{timer:e,isTimerRunning:n,activeMatch:i,setActiveMatch:o,setOnTimerFinished:c,startMatchTimer:(_,p=!1)=>{o(_);const m=u(p);r(m),s(!0)},setTimerForMatch:(_,p=!1)=>{o(_);const m=u(p);r(m),s(!1)},pauseTimer:()=>{s(!1)},resumeTimer:()=>{s(!0)},resetTimer:(_=!1)=>{const p=u(_);r(p),s(!1)},formatTime:_=>{const p=Math.floor(_/60),m=_%60;return`${p.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`}}};var Ga=function(t,e){return Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ga(t,e)};function Bf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ga(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ki=function(){return Ki=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ki.apply(this,arguments)};function In(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Ff(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Vf(t,e){return function(r,n){e(r,n,t)}}function Wf(t,e,r,n,s,i){function o(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,y=r.length-1;y>=0;y--){var v={};for(var w in n)v[w]=w==="access"?{}:n[w];for(var w in n.access)v.access[w]=n.access[w];v.addInitializer=function(p){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(p||null))};var _=(0,r[y])(l==="accessor"?{get:d.get,set:d.set}:d[c],v);if(l==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(h=o(_.get))&&(d.get=h),(h=o(_.set))&&(d.set=h),(h=o(_.init))&&s.unshift(h)}else(h=o(_))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function Hf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function qf(t){return typeof t=="symbol"?t:"".concat(t)}function Kf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Jf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function F(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function Gf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var go=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Qf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&go(e,t,r)}function Ji(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nc(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Yf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nc(arguments[e]));return t}function Xf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n}function Zf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Tn(t){return this instanceof Tn?(this.v=t,this):new Tn(t)}function em(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(y){return function(v){return Promise.resolve(v).then(y,h)}}function l(y,v){n[y]&&(s[y]=function(w){return new Promise(function(_,p){i.push([y,w,_,p])>1||c(y,w)})},v&&(s[y]=v(s[y])))}function c(y,v){try{u(n[y](v))}catch(w){f(i[0][3],w)}}function u(y){y.value instanceof Tn?Promise.resolve(y.value.v).then(d,h):f(i[0][2],y)}function d(y){c("next",y)}function h(y){c("throw",y)}function f(y,v){y(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function tm(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Tn(t[s](o)),done:!1}:i?i(o):o}:i}}function rm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ji=="function"?Ji(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function nm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var z0=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Qa=function(t){return Qa=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Qa(t)};function sm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Qa(t),n=0;n<r.length;n++)r[n]!=="default"&&go(e,t,r[n]);return z0(e,t),e}function im(t){return t&&t.__esModule?t:{default:t}}function om(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function am(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function lm(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function cm(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var B0=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function um(t){function e(i){t.error=t.hasError?new B0(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function dm(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const F0={__extends:Bf,__assign:Ki,__rest:In,__decorate:Ff,__param:Vf,__esDecorate:Wf,__runInitializers:Hf,__propKey:qf,__setFunctionName:Kf,__metadata:Jf,__awaiter:F,__generator:Gf,__createBinding:go,__exportStar:Qf,__values:Ji,__read:nc,__spread:Yf,__spreadArrays:Xf,__spreadArray:Zf,__await:Tn,__asyncGenerator:em,__asyncDelegator:tm,__asyncValues:rm,__makeTemplateObject:nm,__importStar:sm,__importDefault:im,__classPrivateFieldGet:om,__classPrivateFieldSet:am,__classPrivateFieldIn:lm,__addDisposableResource:cm,__disposeResources:um,__rewriteRelativeImportExtension:dm},V0=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cm,get __assign(){return Ki},__asyncDelegator:tm,__asyncGenerator:em,__asyncValues:rm,__await:Tn,__awaiter:F,__classPrivateFieldGet:om,__classPrivateFieldIn:lm,__classPrivateFieldSet:am,__createBinding:go,__decorate:Ff,__disposeResources:um,__esDecorate:Wf,__exportStar:Qf,__extends:Bf,__generator:Gf,__importDefault:im,__importStar:sm,__makeTemplateObject:nm,__metadata:Jf,__param:Vf,__propKey:qf,__read:nc,__rest:In,__rewriteRelativeImportExtension:dm,__runInitializers:Hf,__setFunctionName:Kf,__spread:Yf,__spreadArray:Zf,__spreadArrays:Xf,__values:Ji,default:F0},Symbol.toStringTag,{value:"Module"})),W0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class sc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class H0 extends sc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qu extends sc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ku extends sc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ya;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ya||(Ya={}));class q0{constructor(e,{headers:r={},customFetch:n,region:s=Ya.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=W0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return F(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:y}=n;y||(y=this.region);const v=new URL(`${this.url}/${r}`);y&&y!=="any"&&(f["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(_=o.signal,d.addEventListener("abort",()=>o.abort())):_=o.signal);const p=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:w,signal:_}).catch(S=>{throw new H0(S)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new qu(p);if(!p.ok)throw new Ku(p);let g=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield p.json():g==="application/octet-stream"||g==="application/pdf"?b=yield p.blob():g==="text/event-stream"?b=p:g==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(l){return{data:null,error:l,response:l instanceof Ku||l instanceof qu?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Qe={};const $n=dp(V0);var ti={},ri={},ni={},si={},ii={},oi={},Ju;function hm(){if(Ju)return oi;Ju=1,Object.defineProperty(oi,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return oi.default=t,oi}var Gu;function fm(){if(Gu)return ii;Gu=1,Object.defineProperty(ii,"__esModule",{value:!0});const e=$n.__importDefault(hm());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let y=null,v=null,w=null,_=c.status,p=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const g=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&b&&b.length>1&&(w=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(y={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,_=406,p="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const g=await c.text();try{y=JSON.parse(g),Array.isArray(y)&&c.status===404&&(v=[],y=null,_=200,p="OK")}catch{c.status===404&&g===""?(_=204,p="No Content"):y={message:g}}if(y&&this.isMaybeSingle&&(!((f=y==null?void 0:y.details)===null||f===void 0)&&f.includes("0 rows"))&&(y=null,_=200,p="OK"),y&&this.shouldThrowOnError)throw new e.default(y)}return{error:y,data:v,count:w,status:_,statusText:p}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return ii.default=r,ii}var Qu;function mm(){if(Qu)return si;Qu=1,Object.defineProperty(si,"__esModule",{value:!0});const e=$n.__importDefault(fm());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return si.default=r,si}var Yu;function ic(){if(Yu)return ni;Yu=1,Object.defineProperty(ni,"__esModule",{value:!0});const e=$n.__importDefault(mm()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return ni.default=n,ni}var Xu;function pm(){if(Xu)return ri;Xu=1,Object.defineProperty(ri,"__esModule",{value:!0});const e=$n.__importDefault(ic());class r{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,y)=>f.concat(Object.keys(y)),[]);if(h.length>0){const f=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ri.default=r,ri}var Zu;function K0(){if(Zu)return ti;Zu=1,Object.defineProperty(ti,"__esModule",{value:!0});const t=$n,e=t.__importDefault(pm()),r=t.__importDefault(ic());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let y;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{f.searchParams.append(w,_)})):(h="POST",y=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:v,schema:this.schemaName,body:y,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return ti.default=n,ti}Object.defineProperty(Qe,"__esModule",{value:!0});var gm=Qe.PostgrestError=Nm=Qe.PostgrestBuilder=km=Qe.PostgrestTransformBuilder=bm=Qe.PostgrestFilterBuilder=wm=Qe.PostgrestQueryBuilder=vm=Qe.PostgrestClient=void 0;const Ln=$n,ym=Ln.__importDefault(K0());var vm=Qe.PostgrestClient=ym.default;const xm=Ln.__importDefault(pm());var wm=Qe.PostgrestQueryBuilder=xm.default;const _m=Ln.__importDefault(ic());var bm=Qe.PostgrestFilterBuilder=_m.default;const jm=Ln.__importDefault(mm());var km=Qe.PostgrestTransformBuilder=jm.default;const Sm=Ln.__importDefault(fm());var Nm=Qe.PostgrestBuilder=Sm.default;const Em=Ln.__importDefault(hm());gm=Qe.PostgrestError=Em.default;var Tm=Qe.default={PostgrestClient:ym.default,PostgrestQueryBuilder:xm.default,PostgrestFilterBuilder:_m.default,PostgrestTransformBuilder:jm.default,PostgrestBuilder:Sm.default,PostgrestError:Em.default};const J0=cp({__proto__:null,get PostgrestBuilder(){return Nm},get PostgrestClient(){return vm},get PostgrestError(){return gm},get PostgrestFilterBuilder(){return bm},get PostgrestQueryBuilder(){return wm},get PostgrestTransformBuilder(){return km},default:Tm},[Qe]),{PostgrestClient:G0,PostgrestQueryBuilder:Dx,PostgrestFilterBuilder:Ux,PostgrestTransformBuilder:Mx,PostgrestBuilder:zx,PostgrestError:Bx}=Tm||J0;class Q0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Y0="2.81.1",X0=`realtime-js/${Y0}`,Cm="1.0.0",Z0="2.0.0",ed=Cm,Xa=1e4,ey=1e3,ty=100;var Nr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nr||(Nr={}));var Ce;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ce||(Ce={}));var yt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yt||(yt={}));var Za;(function(t){t.websocket="websocket"})(Za||(Za={}));var Er;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Er||(Er={}));class ry{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:s,topic:i,payload:o}=e,l=this.META_LENGTH+r.length+n.length+i.length+s.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let u=new DataView(c),d=0;u.setUint8(d++,this.KINDS.push),u.setUint8(d++,r.length),u.setUint8(d++,n.length),u.setUint8(d++,i.length),u.setUint8(d++,s.length),Array.from(r,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(n,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(i,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(s,f=>u.setUint8(d++,f.charCodeAt(0)));var h=new Uint8Array(c.byteLength+o.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(o),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:o}=e,l=e.payload.event,c=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+l.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,s.length),h.setUint8(f++,i.length),h.setUint8(f++,o.length),h.setUint8(f++,l.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(s,v=>h.setUint8(f++,v.charCodeAt(0))),Array.from(i,v=>h.setUint8(f++,v.charCodeAt(0))),Array.from(o,v=>h.setUint8(f++,v.charCodeAt(0))),Array.from(l,v=>h.setUint8(f++,v.charCodeAt(0)));var y=new Uint8Array(d.byteLength+c.byteLength);return y.set(new Uint8Array(d),0),y.set(new Uint8Array(c),d.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:o}=e,l=e.payload.event,c=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(f),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,s.length),y.setUint8(v++,i.length),y.setUint8(v++,o.length),y.setUint8(v++,l.length),y.setUint8(v++,this.JSON_ENCODING),Array.from(s,_=>y.setUint8(v++,_.charCodeAt(0))),Array.from(i,_=>y.setUint8(v++,_.charCodeAt(0))),Array.from(o,_=>y.setUint8(v++,_.charCodeAt(0))),Array.from(l,_=>y.setUint8(v++,_.charCodeAt(0)));var w=new Uint8Array(f.byteLength+d.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(d),f.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,s);case this.KINDS.reply:return this._decodeReply(e,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodePush(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(e.slice(l,l+s));l=l+s;const u=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:h}}_decodeReply(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+o));c=c+o;const f=n.decode(e.slice(c,c+l));c=c+l;const y=JSON.parse(n.decode(e.slice(c,e.byteLength))),v={status:f,response:y};return{join_ref:u,ref:d,topic:h,event:yt.reply,payload:v}}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+o));c=c+o;const f=e.slice(c,e.byteLength),y=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST,event:d,payload:y};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Om{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const td=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=ny(o,t,e,s),i),{}):{}},ny=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Pm(i,o):el(o)},Pm=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ay(e,r)}switch(t){case ue.bool:return sy(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return iy(e);case ue.json:case ue.jsonb:return oy(e);case ue.timestamp:return ly(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return el(e);default:return el(e)}},el=t=>t,sy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},oy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ay=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Pm(e,l))}return t},ly=t=>typeof t=="string"?t.replace(" ","T"):t,Rm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ho{constructor(e,r,n={},s=Xa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rd||(rd={}));class is{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=is.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=is.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),v=d.filter(_=>y.indexOf(_.presence_ref)<0),w=h.filter(_=>f.indexOf(_.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(nd||(nd={}));var os;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(os||(os={}));var Bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class oc{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ho(this,yt.join,this.params,this.timeout),this.rejoinTimer=new Om(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new is(this),this.broadcastEndpointURL=Rm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ce.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[os.PRESENCE]&&this.bindings[os.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Bt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){e==null||e(Bt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,p=[];for(let m=0;m<_;m++){const g=w[m],{filter:{event:b,schema:S,table:k,filter:E}}=g,j=y&&y[m];if(j&&j.event===b&&j.schema===S&&j.table===k&&j.filter===E)p.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),this.state=Ce.errored,e==null||e(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Bt.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ce.errored,e==null||e(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ce.joined&&e===os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ho(this,yt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ce.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ho(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ty){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=yt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,_;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,_,p,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const b=y.id,S=(v=y.filter)===null||v===void 0?void 0:v.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(m=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:_,commit_timestamp:p,type:m,errors:g}=v;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&oc.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yt.close,{},e)}_onError(e){this._on(yt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=td(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=td(e.columns,e.old_record)),r}}const qo=()=>{},ai={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cy=[1e3,2e3,5e3,1e4],uy=1e4,dy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hy{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xa,this.transport=null,this.heartbeatIntervalMs=ai.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qo,this.ref=0,this.reconnectTimer=null,this.vsn=ed,this.logger=qo,this.conn=null,this.sendBuffer=[],this.serializer=new ry,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Za.websocket}`,this.httpEndpoint=Rm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Q0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nr.connecting:return Er.Connecting;case Nr.open:return Er.Open;case Nr.closing:return Er.Closing;default:return Er.Closed}}isConnected(){return this.connectionState()===Er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new oc(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ey,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ai.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nr.open||this.conn.readyState===Nr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([dy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:X0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(yt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Om(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ai.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u,d,h,f,y;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Xa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ai.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:qo,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:ed,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>cy[v-1]||uy,this.vsn){case Cm:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,w)=>w(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,w)=>w(JSON.parse(v));break;case Z0:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ac extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fy extends ac{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tl extends ac{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const lc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),my=()=>Response,rl=t=>{if(Array.isArray(t))return t.map(r=>rl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=rl(n)}),e},py=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ko=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},gy=(t,e,r)=>F(void 0,void 0,void 0,function*(){const n=yield my();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new fy(Ko(s),i,o))}).catch(s=>{e(new tl(Ko(s),s))}):e(new tl(Ko(t),t))}),yy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(py(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Is(t,e,r,n,s,i){return F(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,yy(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>gy(c,l,n))})})}function ks(t,e,r,n){return F(this,void 0,void 0,function*(){return Is(t,"GET",e,r,n)})}function Ct(t,e,r,n,s){return F(this,void 0,void 0,function*(){return Is(t,"POST",e,n,s,r)})}function nl(t,e,r,n,s){return F(this,void 0,void 0,function*(){return Is(t,"PUT",e,n,s,r)})}function vy(t,e,r,n){return F(this,void 0,void 0,function*(){return Is(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function cc(t,e,r,n,s){return F(this,void 0,void 0,function*(){return Is(t,"DELETE",e,n,s,r)})}class xy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ye(e))return{data:null,error:e};throw e}})}}var Am;class wy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Am]="BlobDownloadBuilder",this.promise=null}asStream(){return new xy(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ye(e))return{data:null,error:e};throw e}})}}Am=Symbol.toStringTag;const _y=wy,by={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jy{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=lc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return F(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sd),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?nl:Ct)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}})}upload(e,r,n){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return F(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:sd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield nl(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return F(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ac("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}update(e,r,n){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return F(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}copy(e,r,n){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return F(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return F(this,void 0,void 0,function*(){try{const s=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>ks(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new _y(c,this.shouldThrowOnError)}info(e){return F(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ks(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:rl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}exists(e){return F(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield vy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n)&&n instanceof tl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return F(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}list(e,r,n){return F(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},by),r),{prefix:e||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}listV2(e,r){return F(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Im="2.81.1",$m={"X-Client-Info":`storage-js/${Im}`};class ky{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$m),r),this.fetch=lc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return F(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ks(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}getBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}createBucket(e){return F(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return F(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}emptyBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}deleteBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Sy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$m),r),this.fetch=lc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}listBuckets(e){return F(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ks(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}deleteBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}}const uc={"X-Client-Info":`storage-js/${Im}`,"Content-Type":"application/json"};class Lm extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Jo extends Lm{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ny extends Lm{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var id;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(id||(id={}));const dc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ey=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},od=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ty=(t,e,r)=>F(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Jo(od(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new Jo(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new Jo(l,s,o))}}else e(new Ny(od(t),t))}),Cy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Ey(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Oy(t,e,r,n,s,i){return F(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Cy(e,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Ty(c,l,n))})})}function ct(t,e,r,n,s){return F(this,void 0,void 0,function*(){return Oy(t,"POST",e,n,s,r)})}class Py{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uc),r),this.fetch=dc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return F(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return F(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}listIndexes(e){return F(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return F(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}}class Ry{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uc),r),this.fetch=dc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return F(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ct(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getVectors(e){return F(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listVectors(e){return F(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ct(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}queryVectors(e){return F(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return F(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ct(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}class Ay{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uc),r),this.fetch=dc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return F(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(e){return F(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(){return F(this,arguments,void 0,function*(e={}){try{return{data:yield ct(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return F(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}class Iy extends Ay{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new $y(this.url,this.headers,e,this.fetch)}}class $y extends Py{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ly(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Ly extends Ry{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Dy extends ky{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new jy(this.url,this.headers,e,this.fetch)}get vectors(){return new Iy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sy(this.url+"/iceberg",this.headers,this.fetch)}}const Uy="2.81.1";let Gn="";typeof Deno<"u"?Gn="deno":typeof document<"u"?Gn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gn="react-native":Gn="node";const My={"X-Client-Info":`supabase-js-${Gn}/${Uy}`},zy={headers:My},By={schema:"public"},Fy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vy={},Wy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Hy=()=>Headers,qy=(t,e,r)=>{const n=Wy(r),s=Hy();return async(i,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Ky(t){return t.endsWith("/")?t:t+"/"}function Jy(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Gy(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ky(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Dm="2.81.1",Xr=30*1e3,sl=3,Go=sl*Xr,Qy="http://localhost:9999",Yy="supabase.auth.token",Xy={"X-Client-Info":`gotrue-js/${Dm}`},il="X-Supabase-Api-Version",Um={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ev=10*60*1e3;class Ss extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class tv extends Ss{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rv(t){return W(t)&&t.name==="AuthApiError"}class Tr extends Ss{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wr extends Ss{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Nt extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nv(t){return W(t)&&t.name==="AuthSessionMissingError"}class Kr extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class li extends wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ci extends wr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sv(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class ad extends wr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ol extends wr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Qo(t){return W(t)&&t.name==="AuthRetryableFetchError"}class ld extends wr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class al extends wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cd=` 	
\r=`.split(""),iv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<cd.length;e+=1)t[cd[e].charCodeAt(0)]=-2;for(let e=0;e<Gi.length;e+=1)t[Gi[e].charCodeAt(0)]=e;return t})();function ud(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Gi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Gi[n]),e.queuedBits-=6}}function Mm(t,e,r){const n=iv[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function dd(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{lv(o,n,r)};for(let o=0;o<t.length;o+=1)Mm(t.charCodeAt(o),s,i);return e.join("")}function ov(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function av(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ov(n,e)}}function lv(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function xn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Mm(t.charCodeAt(s),r,n);return new Uint8Array(e)}function cv(t){const e=[];return av(t,r=>e.push(r)),new Uint8Array(e)}function Rr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>ud(s,r,n)),ud(null,r,n),e.join("")}function uv(t){return Math.round(Date.now()/1e3)+t}function dv(){return Symbol("auth-callback")}const De=()=>typeof window<"u"&&typeof document<"u",_r={tested:!1,writable:!1},zm=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_r.tested)return _r.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_r.tested=!0,_r.writable=!0}catch{_r.tested=!0,_r.writable=!1}return _r.writable};function hv(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Bm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},br=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zt=async(t,e)=>{await t.removeItem(e)};class yo{constructor(){this.promise=new yo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}yo.promiseConstructor=Promise;function Yo(t){const e=t.split(".");if(e.length!==3)throw new al("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Zy.test(e[n]))throw new al("JWT not in base64url format");return{header:JSON.parse(dd(e[0])),payload:JSON.parse(dd(e[1])),signature:xn(e[2]),raw:{header:e[0],payload:e[1]}}}async function mv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pv(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function gv(t){return("0"+t.toString(16)).substr(-2)}function yv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,gv).join("")}async function vv(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function xv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await vv(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jr(t,e,r=!1){const n=yv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Zr(t,`${e}-code-verifier`,s);const i=await xv(n);return[i,n===i?"plain":"s256"]}const wv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _v(t){const e=t.headers.get(il);if(!e||!e.match(wv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gr(t){if(!kv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sv(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function hd(t){return JSON.parse(JSON.stringify(t))}const Sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nv=[502,503,504];async function fd(t){var e;if(!fv(t))throw new ol(Sr(t),0);if(Nv.includes(t.status))throw new ol(Sr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Tr(Sr(i),i)}let n;const s=_v(t);if(s&&s.getTime()>=Um["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ld(Sr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Nt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ld(Sr(r),t.status,r.weak_password.reasons);throw new tv(Sr(r),t.status||500,n)}const Ev=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function H(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[il]||(i[il]=Um["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Tv(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Tv(t,e,r,n,s,i){const o=Ev(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new ol(Sr(c),0)}if(l.ok||await fd(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await fd(c)}}function Et(t){var e;let r=null;Pv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=uv(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function md(t){const e=Et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function sr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Cv(t){return{data:t,error:null}}function Ov(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=In(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function pd(t){return t}function Pv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zo=["global","local","others"];class Rv{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Bm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Zo[0]){if(Zo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zo.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=In(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ov,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:sr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Gr(e);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:sr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Gr(e);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:sr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Gr(e);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:sr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Gr(e.userId);try{const{data:r,error:n}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Gr(e.userId),Gr(e.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(W(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await H(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await H(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await H(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function gd(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Qr={debug:!!(globalThis&&zm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Av extends Fm{}async function Iv(t,e,r){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Av(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $v(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vm(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Lv(t){return parseInt(t,16)}function Dv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Uv(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=Vm(t.address),v=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${y}

${w}`;let p=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}p+=m}return`${_}
${p}`}class Ne extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Qi extends Ne{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Mv({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Wm(o)){if(i.rp.id!==o)return new Ne({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zv({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Wm(n)){if(r.rpId!==n)return new Ne({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Bv{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Fv=new Bv;function Vv(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=In(t,["challenge","user","excludeCredentials"]),i=xn(e).buffer,o=Object.assign(Object.assign({},r),{id:xn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:xn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Wv(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=In(t,["challenge","allowCredentials"]),s=xn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:xn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Hv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rr(new Uint8Array(s.authenticatorData)),clientDataJSON:Rr(new Uint8Array(s.clientDataJSON)),signature:Rr(new Uint8Array(s.signature)),userHandle:s.userHandle?Rr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Wm(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function yd(){var t,e;return!!(De()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Kv(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qi("Browser returned unexpected credential type",e)}:{data:null,error:new Qi("Empty credential response",e)}}catch(e){return{data:null,error:Mv({error:e,options:t})}}}async function Jv(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qi("Browser returned unexpected credential type",e)}:{data:null,error:new Qi("Empty credential response",e)}}catch(e){return{data:null,error:zv({error:e,options:t})}}}const Gv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=Yi(l,o):n[i]=Yi(o)}else n[i]=o}return n}function Yv(t,e){return Yi(Gv,t,e||{})}function Xv(t,e){return Yi(Qv,t,e||{})}class Zv{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=s??Fv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Yv(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Kv({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Xv(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Jv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new Tr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ss("rpId is required for WebAuthn authentication")};try{if(!yd())return{data:null,error:new Tr("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new Tr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ss("rpId is required for WebAuthn registration")};try{if(!yd())return{data:null,error:new Tr("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new Tr("Unexpected error in register",o)}}}}$v();const ex={url:Qy,storageKey:Yy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vd(t,e,r){return await r()}const Yr={};class Ns{get jwks(){var e,r;return(r=(e=Yr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Yr[this.storageKey]=Object.assign(Object.assign({},Yr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Yr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yr[this.storageKey]=Object.assign(Object.assign({},Yr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ex),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Ns.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ns.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&De()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Rv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bm(i.fetch),this.lock=i.lock||vd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:De()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Iv:this.lock=vd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:zm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=gd(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Dm}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(De()&&(r=hv(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),De()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),sv(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?this._returnResult({error:r}):this._returnResult({error:new Tr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Et}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Jr(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:Et})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Et})}else throw new li("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:md})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:md})}else throw new li("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Kr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,l,c,u,d,h,f;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:w,wallet:_,statement:p,options:m}=e;let g;if(De())if(typeof _=="object")g=_;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")g=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=_}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await g.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Vm(S[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const I=await g.request({method:"eth_chainId"});E=Lv(I)}const j={domain:b.host,address:k,statement:p,uri:b.href,version:"1",chainId:E,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=Uv(j),v=await g.request({method:"personal_sign",params:[Dv(y),k]})}try{const{data:w,error:_}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Et});if(_)throw _;if(!w||!w.session||!w.user){const p=new Kr;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(W(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,l,c,u,d,h,f,y;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:_,wallet:p,statement:m,options:g}=e;let b;if(De())if(typeof p=="object")b=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const S=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:_,error:p}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Rr(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Et});if(p)throw p;if(!_||!_.session||!_.user){const m=new Kr;return this._returnResult({data:{user:null,session:null},error:m})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:p})}catch(_){if(W(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await br(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Et});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Kr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Et}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Kr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Jr(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new li("You must provide either an email or phone number.")}catch(l){if(W(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Et});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Jr(this.storage,this.storageKey));const u=await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Cv});return!((i=u.data)===null||i===void 0)&&i.url&&De()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Nt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(W(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await H(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await H(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new li("You must provide either an email or phone number and a type")}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Go:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await br(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Xo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Sv(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:sr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:sr})})}catch(r){if(W(r))return nv(r)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Nt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Jr(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:sr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(W(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Yo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!De())throw new ci("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ci(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ad("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ci("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ad("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new ci("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=Xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(n){if(W(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(rv(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=dv(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Jr(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return De()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(W(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,h=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Et}),{data:f,error:y}=h;return y?this._returnResult({data:{user:null,session:null},error:y}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Kr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:y}))}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pv(async s=>(s>0&&await mv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Qo(i)&&Date.now()+o-n<Xr})}catch(n){if(this._debug(r,"error",n),W(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),De()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await br(this.storage,this.storageKey);if(s&&this.userStorage){let o=await br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Zr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Xo()}else if(s&&!s.user&&!s.user){const o=await br(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Zt(this.storage,this.storageKey+"-user"),await Zr(this.storage,this.storageKey,s)):s.user=Xo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Go;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Go}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Qo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),W(i)){const o={data:null,error:i};return Qo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=hd(s);await Zr(this.storage,this.storageKey,i)}else{const s=hd(r);await Zr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&De()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xr}ms, refresh threshold is ${sl} ticks`),s<=sl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!De()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Jr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Hv(e.webauthn.credential_response):qv(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Vv(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Wv(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Yo(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await H(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Nt});const o=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&De()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Nt});const o=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&De()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+ev>s)return n;const{data:i,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return this._returnResult({data:null,error:v});n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Yo(n);r!=null&&r.allowExpired||bv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=jv(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,cv(`${l}.${c}`)))throw new al("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}}Ns.nextInstanceID={};const tx=Ns;class rx extends tx{constructor(e){super(e)}}class nx{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Gy(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:By,realtime:Vy,auth:Object.assign(Object.assign({},Fy),{storageKey:c}),global:zy},d=Jy(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=qy(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new G0(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Dy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new q0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},h,f){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rx({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new hy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sx=(t,e,r)=>new nx(t,e,r);function ix(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ix()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ox="https://lezbuiqgbhtqcmdwqraz.supabase.co",ax="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxlemJ1aXFnYmh0cWNtZHdxcmF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNTQxMTIsImV4cCI6MjA3ODYzMDExMn0.OBJLHtrg3CKN5ccuQrkGS-zw2qba0LI9Fsj4syELUZs",_e=sx(ox,ax),pe={async createGameDay(t,e="championship",r=["Vermelho","Azul","Brasil","Verde Branco"]){const{data:n,error:s}=await _e.from("game_days").select("id, is_active").eq("is_active",!0).maybeSingle();if(s)throw s;n&&await _e.from("game_days").update({is_active:!1}).eq("id",n.id);const{data:i,error:o}=await _e.from("game_days").insert({game_date:t,tournament_type:e,active_teams:r,is_active:!0}).select().single();if(o)throw o;return i},async getActiveGameDay(){const{data:t,error:e}=await _e.from("game_days").select("*").eq("is_active",!0).maybeSingle();if(e)throw e;return t},async getAllGameDays(){const{data:t,error:e}=await _e.from("game_days").select("*").order("game_date",{ascending:!1});if(e)throw e;return t},async setActiveGameDay(t){await _e.from("game_days").update({is_active:!1}).neq("id",t);const{data:e,error:r}=await _e.from("game_days").update({is_active:!0}).eq("id",t).select().single();if(r)throw r;return e},async updateGameDay(t,e){const{data:r,error:n}=await _e.from("game_days").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async deleteGameDay(t){const{error:e}=await _e.from("game_days").delete().eq("id",t);if(e)throw e},async addPlayer(t,e,r){const{data:n,error:s}=await _e.from("players").insert({name:e,team_name:r,game_day_id:t}).select().single();if(s)throw s;return n},async getPlayersByGameDay(t){const{data:e,error:r}=await _e.from("players").select("*").eq("game_day_id",t).order("team_name",{ascending:!0});if(r)throw r;return e},async updatePlayer(t,e){const{data:r,error:n}=await _e.from("players").update(e).eq("id",t).select().single();if(n)throw n;return r},async deletePlayer(t){const{error:e}=await _e.from("players").delete().eq("id",t);if(e)throw e},async createMatch(t,e){const{data:r,error:n}=await _e.from("matches").insert({game_day_id:t,...e}).select().single();if(n)throw n;return r},async getMatchesByGameDay(t){const{data:e,error:r}=await _e.from("matches").select("*").eq("game_day_id",t).order("match_number",{ascending:!0});if(r)throw r;return e},async updateMatch(t,e){const{data:r,error:n}=await _e.from("matches").update(e).eq("id",t).select().single();if(n)throw n;return r},async addGoalEvent(t,e,r,n,s,i){const{data:o,error:l}=await _e.from("match_events").insert({match_id:t,game_day_id:e,player_id:r,player_name:n,team_name:s,minute:i}).select().single();if(l)throw l;return o},async getMatchEventsByGameDay(t){const{data:e,error:r}=await _e.from("match_events").select("*").eq("game_day_id",t).order("created_at",{ascending:!0});if(r)throw r;return e},async deleteMatchEvent(t){const{error:e}=await _e.from("match_events").delete().eq("id",t);if(e)throw e},async setVestAssignment(t,e){await _e.from("vest_assignments").delete().eq("game_day_id",t);const{data:r,error:n}=await _e.from("vest_assignments").insert({game_day_id:t,team_name:e}).select().single();if(n)throw n;return r},async getVestAssignment(t){const{data:e,error:r}=await _e.from("vest_assignments").select("*").eq("game_day_id",t).maybeSingle();if(r)throw r;return e}},lx=t=>{const e=P.useCallback(async c=>{if(t!=null&&t.id)try{const u=await pe.getPlayersByGameDay(t.id),d=new Map(u.map(h=>[h.id,h]));console.log("Syncing players:",c.length,"players"),console.log("Existing players in DB:",u.length);for(const h of c){const f=d.get(h.id);f?(console.log(`Updating player ${h.name} with team ${h.team_name}`),f.team_name!==h.team_name&&h.team_name&&await pe.updatePlayer(h.id,{team_name:h.team_name})):h.team_name&&(console.log(`Adding new player ${h.name} to team ${h.team_name}`),await pe.addPlayer(t.id,h.name,h.team_name))}console.log("Players sync complete")}catch(u){console.error("Error syncing players:",u)}},[t]),r=P.useCallback(async c=>{if(t!=null&&t.id)try{const u=await pe.getMatchesByGameDay(t.id),d=new Map(u.map(h=>[h.match_number,h]));for(const h of c){const f=d.get(h.id);f?await pe.updateMatch(f.id,{score1:h.score1||0,score2:h.score2||0,penalty_score1:h.penaltyScore1,penalty_score2:h.penaltyScore2,winner:h.winner,played:h.played||!1}):await pe.createMatch(t.id,{match_number:h.id,team1:h.team1,team2:h.team2,score1:h.score1||0,score2:h.score2||0,penalty_score1:h.penaltyScore1,penalty_score2:h.penaltyScore2,winner:h.winner,match_type:h.type||"regular",played:h.played||!1})}}catch(u){console.error("Error syncing matches:",u)}},[t]),n=P.useCallback(async(c,u,d,h,f)=>{if(console.log(" syncGoalEvent called:",{playerId:c,playerName:u,teamName:d,matchId:h,minute:f}),console.log(" currentGameDay:",t),!(t!=null&&t.id))return console.log(" No currentGameDay, returning null"),null;try{console.log(" Getting matches for game day:",t.id);const y=await pe.getMatchesByGameDay(t.id);console.log(" Matches found:",y.length);const v=y.find(_=>_.match_number===h);if(console.log(" Match found:",v),!v)return console.error("Match not found:",h),null;console.log(" Saving goal event to database...");const w=await pe.addGoalEvent(v.id,t.id,c,u,d,f);return console.log(" Goal event saved:",w),w}catch(y){return console.error("Error syncing goal event:",y),null}},[t]),s=P.useCallback(async c=>{try{await pe.deleteMatchEvent(c)}catch(u){console.error("Error removing goal event:",u)}},[]),i=P.useCallback(async c=>{if(t!=null&&t.id)try{await pe.setVestAssignment(t.id,c)}catch(u){console.error("Error syncing vest assignment:",u)}},[t]),o=P.useCallback(async c=>{if(t!=null&&t.id)try{await pe.updateGameDay(t.id,{tournament_type:c.tournamentType,active_teams:c.activeTeams,current_winner_team:c.currentWinnerTeam})}catch(u){console.error("Error updating game day settings:",u)}},[t]),l=P.useCallback(async c=>{if(t!=null&&t.id)try{await pe.updateGameDay(t.id,{active_match_id:c})}catch(u){console.error("Error updating active match:",u)}},[t]);return{syncPlayers:e,syncMatches:r,syncGoalEvent:n,removeGoalEvent:s,syncVestAssignment:i,updateGameDaySettings:o,syncActiveMatch:l}},Hm=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},Xi=t=>{console.log("Calculating standings for matches:",t.map(s=>({id:s.id,played:s.played,score1:s.score1,score2:s.score2,team1:s.team1,team2:s.team2})));const e=[...new Set(t.flatMap(s=>[s.team1,s.team2]))],r={};e.forEach(s=>{r[s]={points:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0}}),t.forEach(s=>{if(s.played===!0&&s.type==="regular"){const i=s.team1,o=s.team2,l=parseInt(s.score1??0)||0,c=parseInt(s.score2??0)||0;console.log(`Processing match ${s.id}: ${i} ${l} x ${c} ${o} (played: ${s.played})`),r[i].goalsFor+=l,r[i].goalsAgainst+=c,r[o].goalsFor+=c,r[o].goalsAgainst+=l,l>c?(r[i].wins++,r[i].points+=3,r[o].losses++):c>l?(r[o].wins++,r[o].points+=3,r[i].losses++):(r[i].draws++,r[o].draws++,r[i].points+=1,r[o].points+=1)}});const n=Object.entries(r).map(([s,i])=>({team:s,...i,goalDiff:i.goalsFor-i.goalsAgainst,gamesPlayed:i.wins+i.draws+i.losses})).sort((s,i)=>i.points!==s.points?i.points-s.points:i.goalDiff!==s.goalDiff?i.goalDiff-s.goalDiff:i.goalsFor-s.goalsFor);return console.log("Final standings:",n),n},cx=t=>t.split(`
`).filter(r=>r.trim()).map((r,n)=>{const s=r.replace(/^\d+\.?\s*?\s*/,"").trim();return{id:Date.now()+n,name:s,photo:null}}).filter(r=>r.name),xd=(t,e=["Vermelho","Azul","Brasil","Verde Branco"])=>{const r=Hm(t),n={...Object.fromEntries(e.map(s=>[s,[]]))};return r.forEach((s,i)=>{const o=i%e.length;n[e[o]].push(s)}),n},wd=(t,e)=>{console.log("generatePlayoffMatches called with standings:",e);const r=[...new Set(t.filter(c=>c.type==="regular").flatMap(c=>[c.team1,c.team2]))],s=t.filter(c=>c.type==="regular"&&r.includes(c.team1)&&r.includes(c.team2)).every(c=>c.played);if(console.log("Regular matches completed:",s),console.log("Standings length:",e.length),!s||e.length<4)return console.log("Not ready for playoffs yet"),t;const i=[...t],o=i.find(c=>c.id===13);o&&(o.team1==="TBD"||o.team2==="TBD")&&(console.log("Setting up 3rd place match:",e[2].team,"vs",e[3].team),o.team1=e[2].team,o.team2=e[3].team);const l=i.find(c=>c.id===14);return l&&(l.team1==="TBD"||l.team2==="TBD")&&(console.log("Setting up final match:",e[0].team,"vs",e[1].team),l.team1=e[0].team,l.team2=e[1].team),console.log("Updated matches with playoffs:",i.filter(c=>c.id>=13)),i},ux=(t,e)=>{const r=e||Object.keys(t);if(r.length<2)return{matches:[],currentWinner:null};const n=Hm([...r]),s=n[0],i=n[1],o={id:1,team1:s,team2:i,score1:null,score2:null,played:!1,type:"winner-stays"};return console.log("Initialized winner-stays mode with first match:",o),{matches:[o],currentWinner:null}},ea=(t,e,r,n=null)=>{console.log(" Generating next winner-stays match:",{currentWinnerTeam:e,activeTeams:n,existingMatches:t.length});const i=(n||Object.keys(r)).filter(d=>d!==e);if(console.log("Available challenger teams:",i),i.length===0)return console.log(" No teams available to challenge"),null;const o=i[Math.floor(Math.random()*i.length)],l=t.map(d=>d.id),u={id:l.length>0?Math.max(...l)+1:1,team1:e,team2:o,score1:null,score2:null,played:!1,type:"winner-stays"};return console.log(" Created new winner-stays match:",u),u},qm=t=>{console.log(" Calculating winner-stays standings for matches:",t);const e=[...new Set(t.flatMap(i=>[i.team1,i.team2]))],r={};e.forEach(i=>{r[i]={wins:0,matches:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0}});const n=t.filter(i=>i.played===!0&&(i.type==="winner-stays"||!i.type));console.log("Processing winner-stays matches:",n.map(i=>({id:i.id,teams:`${i.team1} vs ${i.team2}`,score:`${i.score1}-${i.score2}`}))),n.forEach(i=>{const o=parseInt(i.score1??0)||0,l=parseInt(i.score2??0)||0;console.log(` Processing match ${i.id}: ${i.team1} ${o} x ${l} ${i.team2}`),r[i.team1].matches++,r[i.team2].matches++,r[i.team1].goalsFor+=o,r[i.team1].goalsAgainst+=l,r[i.team2].goalsFor+=l,r[i.team2].goalsAgainst+=o,o>l?(r[i.team1].wins++,r[i.team2].losses++,console.log(` ${i.team1} won and stays`)):l>o?(r[i.team2].wins++,r[i.team1].losses++,console.log(` ${i.team2} won and becomes new winner`)):(r[i.team2].wins++,r[i.team1].losses++,r[i.team1].draws++,r[i.team2].draws++,console.log(` Draw: ${i.team2} (challenger) becomes new winner`))});const s=Object.entries(r).map(([i,o])=>({team:i,...o,goalDiff:o.goalsFor-o.goalsAgainst,winRate:o.matches>0?(o.wins/o.matches*100).toFixed(1):"0.0"})).sort((i,o)=>o.wins!==i.wins?o.wins-i.wins:parseFloat(o.winRate)!==parseFloat(i.winRate)?parseFloat(o.winRate)-parseFloat(i.winRate):o.goalDiff-i.goalDiff);return console.log(" Final winner-stays standings:",s),s},dx=(t,e)=>{const r=parseInt(t.score1??0)||0,n=parseInt(t.score2??0)||0;console.log(" Handling winner-stays match result:",{match:`${t.team1} ${r} x ${n} ${t.team2}`,currentWinner:e});let s,i;return r>n?(s=t.team1,i=` ${t.team1} venceu ${r}x${n} e continua em campo!`,console.log(` ${t.team1} won and stays`)):n>r?(s=t.team2,i=` ${t.team2} venceu ${n}x${r} e agora  o time que fica!`,console.log(` ${t.team2} won and becomes new winner`)):(s=t.team2,i=` Empate ${r}x${n}! ${t.team2} empatou e agora fica em campo!`,console.log(` Draw: ${t.team2} (challenger) becomes new winner`)),console.log(" Winner-stays result:",{newWinnerTeam:s,message:i}),{newWinnerTeam:s,message:i}};var hx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mx=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>P.createElement("svg",{ref:u,...hx,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${fx(t)}`,...c},[...e.map(([d,h])=>P.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${t}`,r};var se=mx;const px=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Km=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Jm=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),_d=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),bd=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),gx=se("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),jd=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),kd=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Gm=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yx=se("Goal",[["path",{d:"M12 13V2l8 4-8 4",key:"5wlwwj"}],["path",{d:"M20.55 10.23A9 9 0 1 1 8 4.94",key:"5988i3"}],["path",{d:"M8 10a5 5 0 1 0 8.9 2.02",key:"1hq7ot"}]]),vx=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),xx=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ta=se("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),wx=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Es=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Qm=se("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),_x=se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),wn=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ym=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Cn=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Sd=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),hc=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ts=se("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Xm=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Nd=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ll=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),bx=se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),zr=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),On=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ed=({onGameSelected:t,currentGameDay:e,players:r=[],matches:n=[],coleteWinner:s,settings:i,setCurrentScreen:o})=>{var M;const[l,c]=P.useState(new Date().toISOString().split("T")[0]),[u,d]=P.useState("championship"),[h,f]=P.useState(["Vermelho","Azul","Brasil","Verde Branco"]),[y,v]=P.useState(!1),[w,_]=P.useState([]),[p,m]=P.useState(!0),[g,b]=P.useState(!1),[S,k]=P.useState(null),[E,j]=P.useState(""),[I,U]=P.useState(!1),Q=["Vermelho","Azul","Brasil","Verde Branco"],re=(i==null?void 0:i.activeTeams)||["Vermelho","Azul","Brasil","Verde Branco"];P.useEffect(()=>{te()},[]);const te=async()=>{try{const O=await pe.getAllGameDays();_(O||[])}catch(O){console.error("Error loading games:",O)}finally{m(!1)}},Ie=O=>{h.includes(O)?h.length>2&&f(h.filter(q=>q!==O)):f([...h,O])},$e=async()=>{if(h.length<2){alert("Selecione pelo menos 2 times!");return}v(!0);try{const O=await pe.createGameDay(l,u,h);await te(),t&&t(O)}catch(O){console.error("Error creating game:",O),alert("Erro ao criar jogo: "+O.message)}finally{v(!1)}},oe=async O=>{try{await pe.setActiveGameDay(O.id),await te(),t&&t(O),o("menu")}catch(q){console.error("Error selecting game:",q),alert("Erro ao selecionar jogo: "+q.message)}},ie=async()=>{if(E!=="DELETAR"){alert('Digite "DELETAR" para confirmar');return}U(!0);try{await pe.deleteGameDay(S.id),await te(),k(null),j(""),(e==null?void 0:e.id)===S.id&&window.location.reload()}catch(O){console.error("Error deleting game:",O),alert("Erro ao deletar jogo: "+O.message)}finally{U(!1)}},T=O=>new Date(O+"T00:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}),$=O=>{const q=new Date(O+"T00:00:00");return["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][q.getDay()]},L=(()=>{const O=new Date,q=[];for(let ae=-2;ae<=2;ae++){const ke=new Date(O);ke.setDate(O.getDate()+ae),q.push(ke.toISOString().split("T")[0])}return q})();return e&&n.filter(O=>O.type==="final"||O.type==="third_place"?!0:re.includes(O.team1)&&re.includes(O.team2)),a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 z-[9999] w-full bg-gray-900/95 backdrop-blur-md border-b border-gray-700 shadow-lg",children:a.jsxs("div",{className:"px-4 py-3 flex items-center justify-between h-16",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[a.jsx("img",{src:"/logoespacoappfootball.png",alt:"Espao Novo Tempo",className:"h-8 w-auto object-contain",title:"Espao Novo Tempo"}),a.jsx("button",{onClick:()=>o("settings"),className:"p-2 hover:bg-gray-700 rounded-full transition-colors active:bg-gray-600",title:"Configuraes",children:a.jsx(hc,{size:22,className:"text-gray-300"})})]})}),a.jsxs("div",{className:"px-4 pb-4",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:[a.jsxs("button",{onClick:()=>b(!g),className:"w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white py-4 rounded-xl font-semibold shadow-md transition-all flex items-center justify-center space-x-2 mb-4",children:[a.jsx(wn,{size:20}),a.jsx("span",{children:"Criar Novo Jogo"})]}),g&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-base font-semibold text-white mb-3",children:e?"Criar Novo Jogo":"Criar Jogo do Dia"}),a.jsxs("div",{className:"dark-card rounded-xl p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center text-sm",children:[a.jsx(_d,{size:18,className:"mr-2"}),"Data do Jogo"]}),a.jsx("div",{className:"flex space-x-2 mb-3 overflow-x-auto pb-2",children:L.map(O=>{const q=O===l,ae=O===new Date().toISOString().split("T")[0];return a.jsxs("button",{onClick:()=>c(O),className:`flex-shrink-0 flex flex-col items-center justify-center w-14 h-16 rounded-lg transition-all ${q?"bg-blue-600 text-white shadow-md":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx("span",{className:"text-xs mb-1",children:$(O)}),a.jsx("span",{className:"text-lg font-bold",children:new Date(O+"T00:00:00").getDate()}),ae&&a.jsx("span",{className:"text-[9px] mt-0.5",children:"Hoje"})]},O)})}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400 bg-gray-700 p-2 rounded-lg",children:[a.jsx(_d,{size:14}),a.jsx("span",{children:T(l)})]})]}),a.jsxs("div",{className:"dark-card rounded-xl p-4 shadow-sm",children:[a.jsx("h3",{className:"text-white font-semibold mb-3 text-sm",children:"Tipo de Torneio"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:()=>d("championship"),className:`p-3 rounded-lg transition-all ${u==="championship"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xl mb-1",children:""}),a.jsx("div",{className:"text-xs font-semibold",children:"Campeonato"})]})}),a.jsx("button",{onClick:()=>d("winner-stays"),className:`p-3 rounded-lg transition-all ${u==="winner-stays"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xl mb-1",children:""}),a.jsx("div",{className:"text-xs font-semibold",children:"Quem Ganha Fica"})]})})]})]}),a.jsxs("div",{className:"dark-card rounded-xl p-4 shadow-sm",children:[a.jsxs("h3",{className:"text-white font-semibold mb-3 text-sm",children:["Times Participantes (",h.length,"/4)"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:Q.map(O=>{const q=h.includes(O),ae={Vermelho:"bg-red-600",Azul:"bg-blue-600",Brasil:"bg-yellow-500","Verde Branco":"bg-green-600"};return a.jsxs("button",{onClick:()=>Ie(O),className:`relative p-3 rounded-lg transition-all ${q?`${ae[O]} text-white shadow-md`:"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:[q&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx(gx,{size:16,className:"text-white"})}),a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"text-xs font-semibold",children:O})})]},O)})}),h.length<2&&a.jsx("div",{className:"mt-3 text-xs text-yellow-400 bg-yellow-500 bg-opacity-10 p-2 rounded-lg text-center",children:"Selecione pelo menos 2 times"})]}),a.jsx("button",{onClick:$e,disabled:y||h.length<2,className:"w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white py-4 rounded-xl font-semibold shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center space-x-2",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Criando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(wn,{size:20}),a.jsx("span",{children:"Criar e Comear"})]})})]}),!p&&w.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-white font-semibold mb-3 text-base",children:"Todos os Jogos"}),a.jsx("div",{className:"space-y-2",children:w.map(O=>{var q;return a.jsx("div",{className:"relative",children:a.jsx("button",{onClick:()=>oe(O),className:"w-full dark-card hover:bg-gray-700 rounded-lg p-3 transition-all text-left",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${O.tournament_type==="championship"?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:O.tournament_type==="championship"?"Campeonato":"Quem Ganha Fica"}),O.is_active&&a.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-green-600 text-white",children:"ATIVO"})]}),a.jsx("div",{className:"text-white font-medium text-sm",children:T(O.game_date)}),a.jsxs("div",{className:"text-gray-400 text-xs",children:[((q=O.active_teams)==null?void 0:q.length)||0," times"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:ae=>{ae.stopPropagation(),k(O),j("")},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500 hover:bg-opacity-10 rounded-lg transition-all",title:"Deletar jogo",children:a.jsx(Nd,{size:16})}),a.jsx("div",{className:"text-gray-400",children:a.jsx(wn,{size:16})})]})]})})},O.id)})})]})]}),a.jsx("div",{className:"px-4 pb-8",children:a.jsxs("div",{className:"flex flex-col items-center justify-center mt-8",children:[a.jsx("img",{src:"/IMG_9294.PNG",alt:"Jesus Soccer",className:"w-32 h-32 object-contain mb-4 opacity-90"}),a.jsxs("div",{className:"text-center text-gray-400 text-xs italic",children:[a.jsx("p",{children:"Mais que futebol,  comunho"}),a.jsx("p",{children:"e Jesus  o nosso capito!"})]})]})}),S&&a.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm px-4",children:a.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl border border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-red-400",children:" Confirmar Excluso"}),a.jsx("button",{onClick:()=>{k(null),j("")},className:"p-1 hover:bg-gray-700 rounded-full transition-colors",children:a.jsx(On,{size:20,className:"text-gray-400"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-white text-sm mb-2",children:"Voc est prestes a deletar o jogo:"}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 mb-3",children:[a.jsx("div",{className:"text-white font-medium",children:T(S.game_date)}),a.jsxs("div",{className:"text-gray-400 text-xs",children:[((M=S.active_teams)==null?void 0:M.length)||0," times"]})]}),a.jsx("p",{className:"text-red-400 text-sm font-semibold mb-4",children:" Esta ao no pode ser desfeita! Todos os dados do jogo sero permanentemente perdidos."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-white text-sm font-semibold mb-2",children:["Digite ",a.jsx("span",{className:"text-red-400 font-bold",children:"DELETAR"})," para confirmar:"]}),a.jsx("input",{type:"text",value:E,onChange:O=>j(O.target.value),placeholder:"DELETAR",className:"w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-red-500 focus:outline-none font-mono text-center",autoFocus:!0})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>{k(null),j("")},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-semibold transition-all",children:"Cancelar"}),a.jsx("button",{onClick:ie,disabled:E!=="DELETAR"||I,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:I?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Deletando..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Nd,{size:18}),a.jsx("span",{children:"Deletar"})]})})]})]})})]})},jx=({currentGameDay:t,players:e=[],matches:r=[],coleteWinner:n,settings:s,setCurrentScreen:i,onBack:o})=>{const l=(s==null?void 0:s.activeTeams)||["Vermelho","Azul","Brasil","Verde Branco"],c=r.filter(d=>d.type==="final"||d.type==="third_place"?!0:l.includes(d.team1)&&l.includes(d.team2)),u=d=>d?new Date(d+"T00:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):"";return a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 z-[9999] w-full bg-gray-900/95 backdrop-blur-md border-b border-gray-700 shadow-lg",children:a.jsxs("div",{className:"px-4 py-3 flex items-center justify-between h-16",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[a.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-700 rounded-full transition-colors active:bg-gray-600",title:"Voltar",children:a.jsx(Km,{size:22,className:"text-gray-300"})}),a.jsx("img",{src:"/logoespacoappfootball.png",alt:"Espao Novo Tempo",className:"h-8 w-auto object-contain",title:"Espao Novo Tempo"}),a.jsx("button",{onClick:()=>i("settings"),className:"p-2 hover:bg-gray-700 rounded-full transition-colors active:bg-gray-600",title:"Configuraes",children:a.jsx(hc,{size:22,className:"text-gray-300"})})]})}),a.jsxs("div",{className:"px-4 pb-4",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:[a.jsxs("div",{className:"rounded-xl p-4 text-white mb-4 shadow-lg relative overflow-hidden",style:{backgroundImage:"url(/1245151 copy.png)",backgroundSize:"cover",backgroundPosition:"top center",backgroundRepeat:"no-repeat"},children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 rounded-xl"}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold mb-1",children:u(t==null?void 0:t.game_date)}),a.jsxs("p",{className:"text-gray-200 text-sm",children:[e.length," jogadores  ",(s==null?void 0:s.numberOfTeams)||4," times"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-xl font-bold",children:[c.filter(d=>d.played).length,"/",c.length]}),a.jsx("p",{className:"text-gray-200 text-sm",children:"jogos"})]})]})})]}),a.jsx("h2",{className:"text-base font-semibold text-white mb-3",children:"Menu Principal"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[a.jsxs("button",{onClick:()=>i("players"),className:"dark-card rounded-xl p-4 shadow-sm hover:shadow-md active:scale-95 transition-all duration-200 flex flex-col items-center justify-center text-center min-h-[100px]",children:[a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:"/soccer-player1.png",alt:"Jogador",className:"w-8 h-8 filter brightness-0 invert opacity-80"})}),a.jsx("h3",{className:"font-semibold text-white text-sm mb-1",children:"Jogadores"}),a.jsxs("p",{className:"text-xs text-gray-400",children:[e.length," cadastrados"]})]}),a.jsxs("button",{onClick:()=>i("teams"),className:"dark-card rounded-xl p-4 shadow-sm hover:shadow-md active:scale-95 transition-all duration-200 flex flex-col items-center justify-center text-center min-h-[100px]",children:[a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:"/ball3.png",alt:"Bola",className:"w-8 h-8 filter brightness-0 invert opacity-80"})}),a.jsx("h3",{className:"font-semibold text-white text-sm mb-1",children:"Times"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Sortear equipes"})]}),a.jsxs("button",{onClick:()=>i("matches"),className:"dark-card rounded-xl p-4 shadow-sm hover:shadow-md active:scale-95 transition-all duration-200 flex flex-col items-center justify-center text-center min-h-[100px]",children:[a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:"/classifcacao1.png",alt:"Jogos",className:"w-8 h-8 filter brightness-0 invert opacity-80"})}),a.jsx("h3",{className:"font-semibold text-white text-sm mb-1",children:"Jogos"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Controlar partidas"})]}),a.jsxs("button",{onClick:()=>i("standings"),className:"dark-card rounded-xl p-4 shadow-sm hover:shadow-md active:scale-95 transition-all duration-200 flex flex-col items-center justify-center text-center min-h-[100px]",children:[a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:"/throphy.png",alt:"Classificao",className:"w-8 h-8 filter brightness-0 invert opacity-80"})}),a.jsx("h3",{className:"font-semibold text-white text-sm mb-1",children:"Classificao"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Ver tabela"})]}),a.jsxs("button",{onClick:()=>i("scorers"),className:"dark-card rounded-xl p-4 shadow-sm hover:shadow-md active:scale-95 transition-all duration-200 flex flex-col items-center justify-center text-center min-h-[100px]",children:[a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:"/artilheirosicon.png",alt:"Artilheiros",className:"w-8 h-8 filter brightness-0 invert opacity-80"})}),a.jsx("h3",{className:"font-semibold text-white text-sm mb-1",children:"Artilheiros"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Ver goleadores"})]}),a.jsxs("button",{onClick:()=>i("colete"),className:"dark-card rounded-xl p-4 shadow-sm hover:shadow-md active:scale-95 transition-all duration-200 flex flex-col items-center justify-center text-center min-h-[100px]",children:[a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:"/tshirtcolete.png",alt:"Colete",className:"w-8 h-8 filter brightness-0 invert opacity-80"})}),a.jsx("h3",{className:"font-semibold text-white text-sm mb-1",children:"Sorteio do Colete"}),a.jsx("p",{className:"text-xs text-gray-400",children:n||"Organizar disputa"})]})]})]}),a.jsx("div",{className:"px-4 pb-8",children:a.jsxs("div",{className:"flex flex-col items-center justify-center mt-8",children:[a.jsx("img",{src:"/IMG_9294.PNG",alt:"Jesus Soccer",className:"w-32 h-32 object-contain mb-4 opacity-90"}),a.jsxs("div",{className:"text-center text-gray-400 text-xs italic",children:[a.jsx("p",{children:"Mais que futebol,  comunho"}),a.jsx("p",{children:"e Jesus  o nosso capito!"})]})]})})]})},Vr=({title:t,showBack:e=!1,onBack:r,setCurrentScreen:n})=>{const[s,i]=P.useState(!1),o=[{id:"home",label:"Incio",icon:vx,screen:"home"},{id:"players",label:"Jogadores",icon:zr,screen:"players"},{id:"teams",label:"Times",icon:Ts,screen:"teams"},{id:"matches",label:"Jogos",icon:Xm,screen:"matches"},{id:"standings",label:"Classificao",icon:ll,screen:"standings"},{id:"scorers",label:"Artilheiros",icon:Jm,screen:"scorers"},{id:"colete",label:"Sorteio do Colete",icon:()=>a.jsx("span",{className:"text-lg",children:""}),screen:"colete"},{id:"settings",label:"Configuraes",icon:hc,screen:"settings"}],l=c=>{n(c),i(!1)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 z-[9999] w-full bg-gray-900/95 backdrop-blur-md border-b border-gray-700 shadow-lg",children:a.jsxs("div",{className:"px-4 py-3 flex items-center justify-between h-16",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[e&&a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-full transition-colors active:bg-gray-600",children:a.jsx(Km,{size:22,className:"text-gray-300"})}),a.jsx("h1",{className:"text-lg font-bold text-white truncate",children:t})]}),n&&a.jsx("button",{onClick:()=>i(!s),className:"p-2 hover:bg-gray-700 rounded-full transition-colors active:bg-gray-600",children:s?a.jsx(On,{size:22,className:"text-gray-300"}):a.jsx(wx,{size:22,className:"text-gray-300"})})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[10000] flex justify-end",children:a.jsxs("div",{className:"bg-gray-900 w-80 max-w-[90vw] h-full shadow-xl",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-white font-bold text-lg",children:"Menu"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Navegao"})]}),a.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-700 rounded-full transition-colors",children:a.jsx(On,{size:20,className:"text-gray-300"})})]}),a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"space-y-2",children:o.map(c=>{const u=c.icon;return a.jsxs("button",{onClick:()=>l(c.screen),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 active:bg-gray-700 transition-colors text-left",children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:typeof u=="function"&&c.id==="colete"?a.jsx(u,{}):a.jsx(u,{size:20,className:"text-gray-300"})}),a.jsx("span",{className:"text-white font-medium",children:c.label})]},c.id)})})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-700",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Espao Novo Tempo"}),a.jsx("p",{className:"text-gray-500 text-xs",children:"Praia da Costa - Vila Velha"})]})})]})})]})},$s=({message:t,type:e="success",isVisible:r,onClose:n,duration:s=3e3})=>{if(P.useEffect(()=>{if(r&&s>0){const l=setTimeout(()=>{n()},s);return()=>clearTimeout(l)}},[r,s,n]),!r)return null;const i=()=>{switch(e){case"success":return a.jsx(bd,{size:20,className:"text-green-600"});case"error":return a.jsx(px,{size:20,className:"text-red-600"});case"info":return a.jsx(xx,{size:20,className:"text-blue-600"});default:return a.jsx(bd,{size:20,className:"text-green-600"})}},o=()=>{switch(e){case"success":return"bg-green-900 border-green-600";case"error":return"bg-red-900 border-red-600";case"info":return"bg-blue-900 border-blue-600";default:return"bg-green-900 border-green-600"}};return a.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 max-w-sm w-full px-4",children:a.jsxs("div",{className:`${o()} border rounded-lg p-3 shadow-lg flex items-center space-x-3`,children:[i(),a.jsx("span",{className:"text-white text-sm flex-1",children:t}),a.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-700 rounded-full transition-colors",children:a.jsx(On,{size:16,className:"text-gray-400"})})]})})},kx=({players:t,setPlayers:e,setCurrentScreen:r,onBack:n,currentGameDay:s})=>{const[i,o]=P.useState(""),[l,c]=P.useState(""),[u,d]=P.useState(""),[h,f]=P.useState("success"),[y,v]=P.useState(!1),w=(g,b="success")=>{d(g),f(b),v(!0)},_=async()=>{if(!s){w("Nenhum jogo ativo!","error");return}const g=cx(i);try{const b=[];for(const S of g){const k=await pe.addPlayer(s.id,S.name,null);b.push(k)}e(b),o(""),w(`${b.length} jogadores adicionados!`,"success")}catch(b){console.error("Error adding players:",b),w("Erro ao adicionar jogadores","error")}},p=async()=>{if(!s){w("Nenhum jogo ativo!","error");return}if(l.trim())try{const g=await pe.addPlayer(s.id,l.trim(),null);e([...t,g]),c(""),w("Jogador adicionado!","success")}catch(g){console.error("Error adding player:",g),w("Erro ao adicionar jogador","error")}},m=async g=>{if(!s){w("Nenhum jogo ativo!","error");return}try{await pe.deletePlayer(g),e(t.filter(b=>b.id!==g)),w("Jogador removido!","success")}catch(b){console.error("Error removing player:",b),w("Erro ao remover jogador","error")}};return a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx(Vr,{title:"Jogadores",showBack:!0,onBack:n,setCurrentScreen:r}),a.jsx($s,{message:u,type:h,isVisible:y,onClose:()=>v(!1)}),a.jsxs("div",{className:"p-4",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:[a.jsxs("div",{className:"dark-card rounded-xl p-4 shadow-sm mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Adicionar Jogadores"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Lista completa (formato: 1. Nome):"}),a.jsx("textarea",{value:i,onChange:g=>o(g.target.value),placeholder:`1. Jesus 
2. Judas
3. Pedro...`,className:"w-full p-4 bg-gray-800 border border-gray-600 rounded-lg h-32 text-base text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),a.jsx("button",{onClick:_,disabled:!i.trim(),className:"w-full mt-3 bg-gradient-to-r from-green-500 to-green-600 disabled:from-gray-600 disabled:to-gray-700 text-white p-4 rounded-lg font-medium text-base transition-all duration-200 active:scale-95",children:"Adicionar Lista Completa"})]}),a.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ou adicione individualmente:"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"Nome do jogador",className:"flex-1 p-4 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"}),a.jsx("button",{onClick:p,className:"bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white p-4 rounded-lg transition-colors",children:"+"})]})]})]})]}),a.jsxs("div",{className:"dark-card rounded-xl shadow-sm",children:[a.jsx("div",{className:"p-6 border-b border-gray-600",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Lista de Jogadores"}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-base font-medium",children:[t.length," jogadores"]})]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(zr,{size:48,className:"text-gray-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400 text-base",children:"Nenhum jogador cadastrado"})]}):a.jsx("div",{className:"space-y-2 p-4",children:t.map((g,b)=>a.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-700 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base",children:b+1}),a.jsx("span",{className:"font-medium text-white text-base flex-1 min-w-0",children:g.name})]}),a.jsx("button",{onClick:()=>m(g.id),className:"text-red-400 hover:bg-red-900 active:bg-red-800 p-3 rounded-lg transition-colors flex-shrink-0",children:a.jsx(Es,{size:16})})]},g.id))})})]})]})]})},Sx=({players:t,teams:e,setTeams:r,tournamentStarted:n,setTournamentStarted:s,settings:i,setCurrentScreen:o,onBack:l,currentGameDay:c,syncPlayers:u,syncMatches:d})=>{var ae,ke;const[h,f]=P.useState(!1),[y,v]=P.useState(0),[w,_]=P.useState(!1),[p,m]=P.useState(""),[g,b]=P.useState([]),[S,k]=P.useState({Vermelho:!1,Azul:!1,Brasil:!1,"Verde Branco":!1}),[E,j]=P.useState(""),[I,U]=P.useState("success"),[Q,re]=P.useState(!1),[te,Ie]=P.useState(!1),$e=[" Estamos sorteando os times..."," Quase l..."," Pronto!"],oe=async()=>{f(!0),v(0),await new Promise(J=>setTimeout(J,1500)),v(1),await new Promise(J=>setTimeout(J,1500)),v(2),await new Promise(J=>setTimeout(J,1e3));const B=xd(t,i==null?void 0:i.activeTeams);if(r(B),s(!0),c&&u){const J=Object.entries(B).flatMap(([le,Be])=>Be.map(G=>({...G,team_name:le})));await u(J)}f(!1),v(0)},ie=async()=>{Ie(!0)},T=async()=>{Ie(!1),f(!0),v(0),await new Promise(J=>setTimeout(J,1500)),v(1),await new Promise(J=>setTimeout(J,1500)),v(2),await new Promise(J=>setTimeout(J,1e3));const B=xd(t,i==null?void 0:i.activeTeams);if(r(B),c&&u){const J=Object.entries(B).flatMap(([le,Be])=>Be.map(G=>({...G,team_name:le})));await u(J)}f(!1),v(0)},$=B=>(e[B],t.filter(J=>!Object.values(e).flat().some(le=>le.id===J.id))),N=async(B,J)=>{const le={...e,[J]:[...e[J]||[],B]};r(le),b(Be=>Be.filter(G=>G.id!==B.id)),c&&u&&await u(le)},L=async(B,J)=>{const le=e[J].find(Be=>Be.id===B);if(le){const Be={...e,[J]:e[J].filter(G=>G.id!==B)};r(Be),b(G=>[...G,le]),c&&u&&await u(Be)}},M=B=>{m(B),b($(B)),_(!0)},O=B=>{k(J=>({...J,[B]:!J[B]}))},q=()=>{const J=!Object.values(S).every(le=>le);k({Vermelho:J,Azul:J,Brasil:J,"Verde Branco":J})};return a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx(Vr,{title:"Times",showBack:!0,onBack:l,setCurrentScreen:o}),a.jsx($s,{message:E,type:I,isVisible:Q,onClose:()=>re(!1)}),te&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-sm w-full p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Confirmar Re-sorteio"}),a.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:"Tem certeza que deseja re-sortear os times? Isso ir redistribuir todos os jogadores novamente."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>Ie(!1),className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white p-3 rounded-lg font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:T,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white p-3 rounded-lg font-medium transition-colors",children:"Confirmar"})]})]})}),a.jsxs("div",{className:"p-4",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:[n?a.jsxs("div",{className:"dark-card rounded-xl p-4 shadow-sm mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Controles dos Times"}),a.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-200 p-1 rounded transition-colors",children:Object.values(S).every(B=>B)?a.jsx(kd,{size:20}):a.jsx(jd,{size:20})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:h?a.jsx("div",{className:"text-center py-4",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"w-12 h-12 mx-auto mb-3 relative",children:[a.jsx("div",{className:"absolute inset-0 border-4 border-orange-800 rounded-full"}),a.jsx("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"}),a.jsx("div",{className:"absolute inset-2 bg-orange-900 rounded-full flex items-center justify-center",children:a.jsx(Cn,{className:"text-orange-400 animate-pulse",size:16})})]}),a.jsx("div",{className:"text-sm font-bold text-white mb-2 animate-pulse",children:$e[y]}),a.jsx("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(B=>a.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${B<=y?"bg-orange-500":"bg-gray-600"}`},B))})]})}):a.jsxs("button",{onClick:ie,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white p-4 rounded-lg font-medium text-base flex items-center justify-center space-x-3 transition-all duration-200 active:scale-95",children:[a.jsx(Cn,{size:20}),a.jsx("span",{children:"Re-sortear Times"})]})})]}):a.jsxs("div",{className:"dark-card rounded-xl p-4 shadow-sm mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sortear Times"}),a.jsxs("p",{className:"text-gray-300 mb-6 text-base",children:["Distribua os ",t.length," jogadores em 4 times automaticamente."]}),h?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"w-16 h-16 mx-auto mb-4 relative",children:[a.jsx("div",{className:"absolute inset-0 border-4 border-green-800 rounded-full"}),a.jsx("div",{className:"absolute inset-0 border-4 border-green-500 rounded-full border-t-transparent animate-spin"}),a.jsx("div",{className:"absolute inset-2 bg-green-900 rounded-full flex items-center justify-center",children:a.jsx(Ts,{className:"text-green-400 animate-pulse",size:24})})]}),a.jsx("div",{className:"text-lg font-bold text-white mb-2 animate-pulse",children:$e[y]}),a.jsx("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(B=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${B<=y?"bg-green-500":"bg-gray-600"}`},B))})]})}):a.jsxs("button",{onClick:oe,disabled:t.length===0,className:"w-full bg-gradient-to-r from-green-500 to-green-600 disabled:from-gray-600 disabled:to-gray-700 text-white p-5 rounded-lg font-medium text-base flex items-center justify-center space-x-3 transition-all duration-200 active:scale-95",children:[a.jsx(Ts,{size:24}),a.jsx("span",{children:"Sortear Times Automaticamente"})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-3",children:((i==null?void 0:i.activeTeams)||["Vermelho","Azul","Brasil","Verde Branco"]).map(B=>{const J=e[B]||[];return a.jsxs("div",{className:"dark-card rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:`bg-gradient-to-r ${qe[B].gradient} p-4`,children:a.jsxs("div",{className:"flex items-center justify-between text-white",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"font-bold text-lg",children:B}),a.jsx("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:J.length})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[n&&a.jsx("button",{onClick:()=>M(B),className:"bg-white bg-opacity-20 hover:bg-opacity-30 p-2 rounded-full transition-colors",title:"Editar jogadores",children:a.jsx(_x,{size:16})}),a.jsx("button",{onClick:()=>O(B),className:"bg-white bg-opacity-20 hover:bg-opacity-30 p-2 rounded-full transition-colors",title:S[B]?"Recolher":"Expandir",children:S[B]?a.jsx(kd,{size:16}):a.jsx(jd,{size:16})})]})]})}),S[B]&&a.jsx("div",{className:"p-4",children:J.length===0?a.jsx("p",{className:"text-gray-400 text-center py-6 text-base",children:"Nenhum jogador sorteado"}):a.jsx("div",{className:"space-y-2",children:J.map((le,Be)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-8 h-8 ${qe[B].bg} rounded-full flex items-center justify-center text-white text-sm font-bold`,children:Be+1}),a.jsx("span",{className:"font-medium text-white text-base flex-1 min-w-0",children:le.name})]}),n&&a.jsx("button",{onClick:()=>L(le.id,B),className:"text-red-400 hover:bg-red-900 p-2 rounded transition-colors flex-shrink-0",title:"Remover jogador",children:a.jsx(bx,{size:16})})]},le.id))})})]},B)})})]}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"dark-card-solid rounded-xl max-w-sm w-full max-h-[80vh] overflow-hidden",children:[a.jsx("div",{className:`bg-gradient-to-r ${qe[p].gradient} p-4`,children:a.jsxs("div",{className:"flex items-center justify-between text-white",children:[a.jsxs("h3",{className:"font-bold text-base",children:["Gerenciar ",p]}),a.jsx("button",{onClick:()=>_(!1),className:"bg-white bg-opacity-20 hover:bg-opacity-30 p-1 rounded-full transition-colors",children:""})]})}),a.jsxs("div",{className:"p-4 max-h-96 overflow-y-auto",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold text-white mb-2 text-sm",children:"Jogadores Disponveis"}),g.length===0?a.jsx("p",{className:"text-gray-400 text-center py-4 text-sm",children:"Todos os jogadores j esto em times"}):a.jsx("div",{className:"space-y-1",children:g.map(B=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700 rounded-lg",children:[a.jsx("span",{className:"font-medium text-white text-sm",children:B.name}),a.jsx("button",{onClick:()=>N(B,p),className:"bg-green-500 hover:bg-green-600 text-white p-1 rounded transition-colors",children:a.jsx(Ym,{size:14})})]},B.id))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-white mb-2 text-sm",children:"Jogadores do Time"}),((ae=e[p])==null?void 0:ae.length)===0?a.jsx("p",{className:"text-gray-400 text-center py-4 text-sm",children:"Nenhum jogador no time"}):a.jsx("div",{className:"space-y-1",children:(ke=e[p])==null?void 0:ke.map((B,J)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-6 h-6 ${qe[p].bg} rounded-full flex items-center justify-center text-white text-xs font-bold`,children:J+1}),a.jsx("span",{className:"font-medium text-white text-sm",children:B.name})]}),a.jsx("button",{onClick:()=>L(B.id,p),className:"bg-red-500 hover:bg-red-600 text-white p-1 rounded transition-colors",children:a.jsx(Es,{size:14})})]},B.id))})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-600",children:a.jsx("button",{onClick:()=>_(!1),className:"w-full bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-lg font-medium transition-colors",children:"Fechar"})})]})})]})},Nx=({matches:t,timer:e,isTimerRunning:r,activeMatch:n,startMatchTimer:s,setTimerForMatch:i,pauseTimer:o,resumeTimer:l,resetTimer:c,formatTime:u,updateMatchScore:d,settings:h})=>{const f=(h==null?void 0:h.tournamentType)==="winner-stays",y=(h==null?void 0:h.activeTeams)||["Vermelho","Azul","Brasil","Verde Branco"],v=t.filter(_=>_.type==="final"||_.type==="third_place"?!0:y.includes(_.team1)&&y.includes(_.team2)),w=f?v.filter(_=>_.type==="winner-stays"||!_.type):v;return a.jsxs("div",{className:"p-4 min-h-screen pb-24",children:[n&&a.jsx("div",{className:"dark-card rounded-xl p-4 text-white mb-4 shadow-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-base font-semibold mb-1",children:[" Jogo ",n]}),a.jsx("p",{className:"text-gray-200 text-sm",children:"Partida em andamento"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xl font-bold",children:u(e)}),a.jsxs("div",{className:"flex space-x-1 mt-1 justify-end",children:[r?a.jsx("button",{onClick:o,className:"bg-yellow-600 hover:bg-yellow-700 w-6 h-6 rounded-full flex items-center justify-center transition-all",children:a.jsx(Qm,{size:12})}):a.jsx("button",{onClick:l,className:"bg-green-600 hover:bg-green-700 w-6 h-6 rounded-full flex items-center justify-center transition-all",children:a.jsx(wn,{size:12})}),a.jsx("button",{onClick:()=>c(),className:"bg-gray-600 hover:bg-gray-700 w-6 h-6 rounded-full flex items-center justify-center transition-all",children:a.jsx(Cn,{size:12})})]})]})]})}),f&&h.currentWinnerTeam&&a.jsx("div",{className:"dark-card rounded-xl p-4 text-white mb-4 border-l-4 border-purple-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"font-bold text-lg mb-1",children:" Time que Fica"}),a.jsx("p",{className:"text-purple-200",children:h.currentWinnerTeam})]})}),f&&w.length===0&&a.jsxs("div",{className:"dark-card rounded-xl p-6 text-center",children:[a.jsx("div",{className:"text-4xl mb-3",children:""}),a.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Modo Quem Ganha Fica"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Nenhum desafio ativo no momento."}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Os desafios so gerados automaticamente quando um jogo  finalizado."})]}),a.jsx("div",{className:"space-y-3",children:w.filter(_=>!f||!_.played).map(_=>{var p,m;return a.jsxs("div",{className:"dark-card rounded-xl p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_.type==="winner-stays"?"bg-purple-700 text-purple-200":"bg-gray-700 text-gray-300"}`,children:_.type==="winner-stays"?` Desafio ${_.id}`:`Jogo ${_.id}`}),_.played&&a.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:" Finalizado"})]}),a.jsxs("button",{onClick:()=>s(_.id,_.id>12||_.type==="winner-stays"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm flex items-center space-x-2 transition-colors",children:[a.jsx(Gm,{size:14}),a.jsx("span",{children:_.id>12||_.type==="winner-stays"?"10min":"7min"})]})]}),a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("div",{className:`bg-gradient-to-r ${((p=qe[_.team1])==null?void 0:p.gradient)||"from-gray-500 to-gray-600"} text-white p-3 rounded-xl mb-3`,children:a.jsx("span",{className:"font-bold",children:_.team1})}),a.jsx("input",{type:"number",min:"0",value:_.score1||"",onChange:g=>d(_.id,_.team1,g.target.value),className:"w-16 h-16 text-3xl font-bold text-center border-2 border-gray-600 bg-gray-700 text-white rounded-xl focus:border-blue-500 focus:outline-none",placeholder:"0"})]}),a.jsx("div",{className:"px-6",children:a.jsx("div",{className:"text-2xl font-bold text-gray-300",children:""})}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("div",{className:`bg-gradient-to-r ${((m=qe[_.team2])==null?void 0:m.gradient)||"from-gray-500 to-gray-600"} text-white p-3 rounded-xl mb-3`,children:a.jsx("span",{className:"font-bold",children:_.team2})}),a.jsx("input",{type:"number",min:"0",value:_.score2||"",onChange:g=>d(_.id,_.team2,g.target.value),className:"w-16 h-16 text-3xl font-bold text-center border-2 border-gray-600 bg-gray-700 text-white rounded-xl focus:border-blue-500 focus:outline-none",placeholder:"0"})]})]})]},_.id)})})]})},Zm=({isOpen:t,onClose:e,tiebreakerTeams:r,standings:n,onDecision:s})=>{if(!t)return null;const i=o=>{s(o),e()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"dark-card-solid rounded-xl max-w-xs w-full shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-600",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:" Desempate"}),a.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-700 rounded-full transition-colors",children:a.jsx(On,{size:20,className:"text-gray-400"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Times empatados em pontos. Como resolver?"}),a.jsx("div",{className:"bg-gray-700 rounded-lg p-3 mb-4",children:r.map(o=>{const l=n.find(c=>c.team===o);return a.jsxs("div",{className:"flex items-center justify-between py-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 ${qe[o].bg} rounded-full`}),a.jsx("span",{className:"text-sm font-medium text-white",children:o})]}),a.jsxs("span",{className:"text-xs text-gray-400",children:[l.points,"pts | ",l.goalDiff>0?"+":"",l.goalDiff]})]},o)})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>i("goals"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg flex items-center space-x-3 transition-colors",children:[a.jsx(Jm,{size:18}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Saldo de Gols"}),a.jsx("div",{className:"text-xs opacity-90",children:"Critrio tcnico"})]})]}),a.jsxs("button",{onClick:()=>i("draw"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white p-3 rounded-lg flex items-center space-x-3 transition-colors",children:[a.jsx(Ts,{size:18}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Sortear"}),a.jsx("div",{className:"text-xs opacity-90",children:"Sorteio aleatrio"})]})]})]})]})]})})},Ex=({currentMatch:t,timer:e,formatTime:r,activeMatch:n,isTimerRunning:s,startMatchTimer:i,pauseTimer:o,resumeTimer:l,resetTimer:c,finishMatch:u,showNextGameButton:d,goToNextGame:h,showGoalkeeperConfig:f,setShowGoalkeeperConfig:y,showPenaltyShootout:v,penaltyScore:w,syncActiveMatch:_})=>{const p=m=>{i(m),_&&_(m)};return a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-6 h-6 ${qe[t.team1].bg} rounded-full`}),a.jsx("span",{className:"text-white font-bold text-sm truncate",children:t.team1})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.score1||0,"  ",t.score2||0]}),v&&a.jsxs("div",{className:"text-yellow-400 text-xs mt-1",children:["Pnaltis: ",w.team1,"  ",w.team2]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-white font-bold text-sm truncate",children:t.team2}),a.jsx("div",{className:`w-6 h-6 ${qe[t.team2].bg} rounded-full`})]})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[a.jsxs("span",{className:"text-white font-bold text-sm",children:["Jogo ",t.id]}),a.jsx("span",{className:"text-green-400 font-bold text-sm",children:n===t.id?r(e):"00:00"}),a.jsx("button",{onClick:()=>y(!f),className:"text-yellow-400 hover:text-yellow-300 transition-colors",title:"Configurar goleiros",children:a.jsx(yx,{size:16})}),n!==t.id?a.jsx("button",{onClick:()=>p(t.id),className:"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white w-6 h-6 rounded-full flex items-center justify-center transition-colors",title:"Iniciar",children:a.jsx(wn,{size:12})}):a.jsxs("div",{className:"flex items-center space-x-1",children:[s?a.jsx("button",{onClick:o,className:"bg-yellow-600 hover:bg-yellow-700 active:bg-yellow-800 text-white w-6 h-6 rounded-full flex items-center justify-center transition-colors",title:"Pause",children:a.jsx(Qm,{size:12})}):a.jsx("button",{onClick:l,className:"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white w-6 h-6 rounded-full flex items-center justify-center transition-colors",title:"Play",children:a.jsx(wn,{size:12})}),a.jsx("button",{onClick:()=>c(),className:"bg-gray-600 hover:bg-gray-700 active:bg-gray-800 text-white w-6 h-6 rounded-full flex items-center justify-center transition-colors",title:"Reset",children:a.jsx(Cn,{size:12})}),a.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-2 h-6 rounded-full flex items-center justify-center transition-colors text-xs font-medium",title:"Finalizar",children:""}),d&&a.jsx("button",{onClick:h,className:"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white px-2 h-6 rounded-full flex items-center justify-center transition-colors text-xs font-medium",title:"Prximo Jogo",children:""})]})]})]})},Tx=({goalkeepers:t,setGoalkeepers:e,isVisible:r,hasAutoGoalkeepers:n=!1,totalPlayers:s=0})=>r?a.jsxs("div",{className:"dark-card rounded-xl p-3 shadow-sm",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h5",{className:"text-white text-xs font-medium mb-1",children:"Goleiros desta partida:"}),n&&a.jsxs("p",{className:"text-yellow-400 text-xs",children:[" ",s," jogadores - Goleiros automticos ativados"]}),!n&&a.jsxs("p",{className:"text-gray-400 text-xs",children:[" ",s," jogadores - Goleiros externos"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Goleiro Esquerdo:"}),a.jsx("input",{type:"text",value:t.left.name,disabled:n&&t.left.isPlayer,onChange:i=>{(!n||!t.left.isPlayer)&&e(o=>({...o,left:{...o.left,name:i.target.value}}))},className:`w-full px-2 py-1 text-white text-xs rounded border focus:outline-none ${n&&t.left.isPlayer?"bg-gray-700 border-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-600 border-gray-500 focus:border-blue-500"}`,placeholder:"Nome do goleiro"}),n&&t.left.isPlayer&&a.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:" Jogador automtico"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Goleiro Direito:"}),a.jsx("input",{type:"text",value:t.right.name,disabled:n&&t.right.isPlayer,onChange:i=>{(!n||!t.right.isPlayer)&&e(o=>({...o,right:{...o.right,name:i.target.value}}))},className:`w-full px-2 py-1 text-white text-xs rounded border focus:outline-none ${n&&t.right.isPlayer?"bg-gray-700 border-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-600 border-gray-500 focus:border-blue-500"}`,placeholder:"Nome do goleiro"}),n&&t.right.isPlayer&&a.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:" Jogador automtico"})]})]})]}):null,Cx=({isVisible:t,currentMatch:e,penaltyScore:r,addPenaltyGoal:n,removePenaltyGoal:s,finishPenaltyShootout:i,onCancel:o})=>t?a.jsxs("div",{className:"dark-card rounded-xl p-4 shadow-sm border-2 border-yellow-500",children:[a.jsxs("div",{className:"text-center mb-3",children:[a.jsx("h3",{className:"text-yellow-200 font-bold text-sm mb-1",children:" DISPUTA DE PNALTIS"}),a.jsx("p",{className:"text-yellow-300 text-xs",children:"Jogo empatado! Marque os gols dos pnaltis:"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"text-white font-bold text-sm mb-2",children:e.team1}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[a.jsx("button",{onClick:()=>s("team1"),className:"bg-red-600 hover:bg-red-700 text-white w-8 h-8 rounded-full flex items-center justify-center transition-colors",children:"-"}),a.jsx("div",{className:"bg-gray-700 text-white font-bold text-xl w-12 h-12 rounded-full flex items-center justify-center",children:r.team1}),a.jsx("button",{onClick:()=>n("team1"),className:"bg-green-600 hover:bg-green-700 text-white w-8 h-8 rounded-full flex items-center justify-center transition-colors",children:"+"})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"text-white font-bold text-sm mb-2",children:e.team2}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[a.jsx("button",{onClick:()=>s("team2"),className:"bg-red-600 hover:bg-red-700 text-white w-8 h-8 rounded-full flex items-center justify-center transition-colors",children:"-"}),a.jsx("div",{className:"bg-gray-700 text-white font-bold text-xl w-12 h-12 rounded-full flex items-center justify-center",children:r.team2}),a.jsx("button",{onClick:()=>n("team2"),className:"bg-green-600 hover:bg-green-700 text-white w-8 h-8 rounded-full flex items-center justify-center transition-colors",children:"+"})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:i,className:"flex-1 bg-green-600 hover:bg-green-700 text-white p-3 rounded-lg font-medium transition-colors",children:" Finalizar Pnaltis"}),a.jsx("button",{onClick:o,className:"bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-lg transition-colors",children:""})]})]}):null,Ox=({matches:t,setMatches:e,teams:r,matchEvents:n,timer:s,isTimerRunning:i,activeMatch:o,setActiveMatch:l,startMatchTimer:c,setTimerForMatch:u,pauseTimer:d,resumeTimer:h,resetTimer:f,formatTime:y,addGoal:v,removeGoal:w,updateMatchScore:_,setOnTimerFinished:p,settings:m,setSettings:g,syncMatches:b,syncActiveMatch:S})=>{const[k,E]=P.useState({left:{name:"Goleiro 1"},right:{name:"Goleiro 2"}}),[j,I]=P.useState(!1),[U,Q]=P.useState(!1),[re,te]=P.useState({team1:0,team2:0}),[Ie,$e]=P.useState(!1),[oe,ie]=P.useState(""),[T,$]=P.useState(!1),[N,L]=P.useState([]),[M,O]=P.useState([]),[q,ae]=P.useState({champion:null,runnerUp:null,thirdPlace:null,fourthPlace:null}),[ke,B]=P.useState(!1),[J,le]=P.useState(""),[Be,G]=P.useState("success"),[Je,Te]=P.useState(!1),[Wr,Ls]=P.useState(!1),Se=Object.values(r).flat().length,ee=Se>20,ce=(m==null?void 0:m.tournamentType)==="winner-stays",Fe=(m==null?void 0:m.activeTeams)||["Vermelho","Azul","Brasil","Verde Branco"],Hr=ce?t.filter(x=>(x.type==="winner-stays"||!x.type)&&Fe.includes(x.team1)&&Fe.includes(x.team2)):t.filter(x=>x.type==="final"||x.type==="third_place"?!0:Fe.includes(x.team1)&&Fe.includes(x.team2));let K,kt;ce?(K=qm(Hr).filter(x=>Fe.includes(x.team)),kt=Hr):(K=Xi(Hr.filter(x=>x.type==="regular")).filter(x=>Fe.includes(x.team)),kt=wd(Hr,K));const R=kt.find(x=>x.id===o)||kt.find(x=>!x.played)||kt[kt.length-1];rt.useEffect(()=>{if(R&&ee){const x=r[R.team1]||[],A=r[R.team2]||[];if(Se>=24){const z=x[x.length-1],V=A[A.length-1];E({left:{name:(z==null?void 0:z.name)||"Goleiro 1",playerId:z==null?void 0:z.id,isPlayer:!0,teamName:R.team1},right:{name:(V==null?void 0:V.name)||"Goleiro 2",playerId:V==null?void 0:V.id,isPlayer:!0,teamName:R.team2}})}else if(Se===23){const z=x.length>=6,V=A.length>=6;if(z&&!V){const X=x[x.length-1];E({left:{name:(X==null?void 0:X.name)||"Goleiro 1",playerId:X==null?void 0:X.id,isPlayer:!0,teamName:R.team1},right:{name:"Goleiro Emprestado",playerId:null,isPlayer:!1,teamName:null}})}else if(V&&!z){const X=A[A.length-1];E({left:{name:"Goleiro Emprestado",playerId:null,isPlayer:!1,teamName:null},right:{name:(X==null?void 0:X.name)||"Goleiro 2",playerId:X==null?void 0:X.id,isPlayer:!0,teamName:R.team2}})}else{const X=x[x.length-1],me=A[A.length-1];E({left:{name:(X==null?void 0:X.name)||"Goleiro 1",playerId:X==null?void 0:X.id,isPlayer:!0,teamName:R.team1},right:{name:(me==null?void 0:me.name)||"Goleiro 2",playerId:me==null?void 0:me.id,isPlayer:!0,teamName:R.team2}})}}else{const z=x[x.length-1],V=A[A.length-1];E({left:{name:(z==null?void 0:z.name)||"Goleiro 1",playerId:z==null?void 0:z.id,isPlayer:!0,teamName:R.team1},right:{name:(V==null?void 0:V.name)||"Goleiro 2",playerId:V==null?void 0:V.id,isPlayer:!0,teamName:R.team2}})}}else E({left:{name:"Goleiro 1",playerId:null,isPlayer:!1,teamName:null},right:{name:"Goleiro 2",playerId:null,isPlayer:!1,teamName:null}})},[R,r,Se,ee]),rt.useEffect(()=>{p&&p(()=>()=>{pt(" Tempo esgotado!","info")})},[p]);let Yt;ce?Yt=kt.filter(x=>!x.played):Yt=kt.filter(x=>R&&x.id>R.id&&!x.played),Hr.filter(x=>R&&x.id<R.id&&x.played);const fc=R?r[R.team1]||[]:[],mc=R?r[R.team2]||[]:[],ep=ee&&Se>=21?fc.slice(0,-1):fc,tp=ee&&Se>=21?mc.slice(0,-1):mc;rt.useEffect(()=>{JSON.stringify(kt)!==JSON.stringify(t)&&e(kt)},[kt,t,e]),rt.useEffect(()=>{const x=t,A=x.find(V=>V.id===14),z=x.find(V=>V.id===13);if(A!=null&&A.played&&(z!=null&&z.played)&&!Wr){const V=A.score1>A.score2?A.team1:A.score2>A.score1?A.team2:A.winner,X=A.team1===V?A.team2:A.team1,me=z.score1>z.score2?z.team1:z.score2>z.score1?z.team2:z.winner,Le=z.team1===me?z.team2:z.team1;ae({champion:V,runnerUp:X,thirdPlace:me,fourthPlace:Le}),Ls(!0),$(!0)}},[t,Wr]);const pt=(x,A="success")=>{le(x),G(A),Te(!0)},rp=x=>{const A=t.find(V=>V.id===12);if(!A||!A.played)return!1;const z=[];return x[0].points===x[1].points&&z.push({teams:[x[0].team,x[1].team],positions:["1 lugar (Final)","2 lugar (Final)"],description:"Empate entre 1 e 2 lugar - Ambos vo para a Final, mas quem ser cabea de chave?"}),x[1].points===x[2].points&&x[0].points!==x[1].points&&z.push({teams:[x[1].team,x[2].team],positions:["2 lugar (Final)","3 lugar (Disputa 3)"],description:"Empate entre 2 e 3 lugar - Quem vai para a Final e quem disputa o 3 lugar?"}),x[2].points===x[3].points&&x[1].points!==x[2].points&&z.push({teams:[x[2].team,x[3].team],positions:["3 lugar (Disputa 3)","4 lugar (Colete)"],description:"Empate entre 3 e 4 lugar - Quem disputa o 3 lugar e quem vai direto para o colete?"}),x[0].points===x[1].points&&x[1].points===x[2].points&&z.push({teams:[x[0].team,x[1].team,x[2].team],positions:["1 lugar (Final)","2 lugar (Final)","3 lugar (Disputa 3)"],description:"Empate triplo entre 1, 2 e 3 lugar - Como definir as posies?"}),z.length>0?(L(z[0].teams),O(z[0].positions),$e(!0),!0):!1},pc=x=>{if(ie(x),x==="goals"){const A=N.map(z=>K.find(V=>V.team===z)).sort((z,V)=>V.goalDiff!==z.goalDiff?V.goalDiff-z.goalDiff:V.goalsFor-z.goalsFor);if(A[0].goalDiff!==A[1].goalDiff||A[0].goalsFor!==A[1].goalsFor){let z=" Desempate por critrios tcnicos: ";A.forEach((V,X)=>{z+=`${M[X]}: ${V.team} `}),pt(z,"info")}else{pc("draw");return}}else if(x==="draw"){const A=[...N].sort(()=>Math.random()-.5);let z=" Resultado do sorteio: ";A.forEach((V,X)=>{z+=`${M[X]}: ${V} `}),pt(z,"success")}$e(!1),L([]),O([])},np=x=>{te(A=>({...A,[x]:A[x]+1}))},sp=x=>{te(A=>({...A,[x]:Math.max(0,A[x]-1)}))},ip=()=>{const x=R.team1,A=R.team2;if(re.team1===re.team2){pt(" Disputa de pnaltis ainda est empatada! Continue marcando os gols.","error");return}const z=re.team1>re.team2?x:A,V=R.score1||0,X=R.score2||0,me={...R,played:!0,score1:V,score2:X,penaltyScore1:re.team1,penaltyScore2:re.team2,winner:z};e(Le=>{const gt=Le.map(et=>et.id===R.id?me:et);return b&&b(gt).catch(et=>console.error("Error syncing penalty shootout:",et)),gt}),l(null),Q(!1),te({team1:0,team2:0}),pt(` ${z} venceu nos pnaltis! (${re.team1} x ${re.team2})`,"success")},op=()=>{if(!R){pt(" Nenhum jogo ativo para finalizar!","error");return}const x=R.score1||0,A=R.score2||0;if(ce){console.log("Finishing winner-stays match:",R);const X={...R,played:!0,score1:x,score2:A},me=dx(X,m.currentWinnerTeam);console.log("Winner-stays result:",me),g(Le=>({...Le,currentWinnerTeam:me.newWinnerTeam})),e(Le=>{const gt=Le.map(et=>et.id===R.id?X:et);return b&&b(gt).catch(et=>console.error("Error syncing winner-stays match:",et)),gt}),l(null),B(!0),pt(me.message,"success");return}if(R.id===13&&x===A){Q(!0),te({team1:0,team2:0});return}if(R.id===14&&x===A){Q(!0),te({team1:0,team2:0});return}const z={...R,played:!0,score1:x,score2:A};console.log("Finishing match:",z),e(X=>{const me=X.map(Le=>Le.id===R.id?z:Le);if(b&&b(me).catch(Le=>console.error("Error syncing match finish:",Le)),R.id===12){console.log("Match 12 completed, generating playoffs...");const Le=me.filter(et=>et.type==="regular"),gt=Xi(Le);return console.log("Final standings for playoffs:",gt),rp(gt)?me:wd(me,gt)}return me});let V="";R.id===13?x>A?V=` ${R.team1} conquistou o 3 lugar!`:A>x&&(V=` ${R.team2} conquistou o 3 lugar!`):R.id===14?x>A?V=` ${R.team1}  o CAMPEO DO TORNEIO!`:A>x&&(V=` ${R.team2}  o CAMPEO DO TORNEIO!`):x>A?V=` ${R.team1} venceu! (+3 pontos)`:A>x?V=` ${R.team2} venceu! (+3 pontos)`:V=" Empate! (+1 ponto para cada time)",R.type==="regular"&&x===A&&(V=" Empate! (+1 ponto para cada time)"),(R.id===13||R.id===14)&&x===A&&(V=" Empate! Vai para os pnaltis!"),B(!0),setTimeout(()=>{console.log("Match finished, standings should update now")},100),pt(V,"success")},ap=()=>{if(B(!1),l(null),f(),ce){if(m.currentWinnerTeam){const x=ea(t,m.currentWinnerTeam,r,Fe);x?(console.log(" Generated next winner-stays match:",x),e(A=>[...A,x]),setTimeout(()=>{l(x.id),S&&S(x.id);const A=x.id>12||x.type==="winner-stays";f(A)},100)):pt(" No foi possvel gerar prximo desafio!","error")}}else{const x=Hr.find(A=>R&&A.id>R.id&&!A.played);x&&setTimeout(()=>{l(x.id),S&&S(x.id);const A=x.id>12||x.type==="final"||x.type==="third_place";f(A)},100)}},lp=()=>{$(!1)};return a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx($s,{message:J,type:Be,isVisible:Je,onClose:()=>Te(!1)}),T&&q.champion&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 rounded-2xl max-w-sm w-full p-6 text-center shadow-2xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"TORNEIO FINALIZADO!"}),a.jsx("p",{className:"text-yellow-100 text-sm",children:"Espao Novo Tempo - Praia da Costa"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-4 border-2 border-yellow-300",children:a.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-yellow-100 text-xs font-medium",children:"CAMPEO"}),a.jsx("div",{className:"text-white text-lg font-bold",children:q.champion})]})]})}),a.jsx("div",{className:"bg-white bg-opacity-15 rounded-xl p-3 border border-gray-300",children:a.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-200 text-xs font-medium",children:"VICE-CAMPEO"}),a.jsx("div",{className:"text-white text-base font-bold",children:q.runnerUp})]})]})}),a.jsx("div",{className:"bg-white bg-opacity-10 rounded-xl p-3 border border-orange-300",children:a.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx("div",{className:"text-xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-orange-200 text-xs font-medium",children:"3 LUGAR"}),a.jsx("div",{className:"text-white text-base font-bold",children:q.thirdPlace})]})]})}),a.jsx("div",{className:"bg-white bg-opacity-5 rounded-xl p-3",children:a.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx("div",{className:"text-lg",children:"4"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300 text-xs font-medium",children:"4 LUGAR"}),a.jsx("div",{className:"text-white text-sm font-bold",children:q.fourthPlace})]})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:lp,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Fechar Resultados"})})]})}),(()=>{var z,V,X,me,Le,gt,et,gc,yc,vc,xc,wc,_c,bc;if(ce)return null;const x=t.find(Ds=>Ds.id===12);return!x||!x.played||!(((z=K[1])==null?void 0:z.points)===((V=K[2])==null?void 0:V.points)&&((X=K[0])==null?void 0:X.points)!==((me=K[1])==null?void 0:me.points)||((Le=K[2])==null?void 0:Le.points)===((gt=K[3])==null?void 0:gt.points)&&((et=K[1])==null?void 0:et.points)!==((gc=K[2])==null?void 0:gc.points)||((yc=K[0])==null?void 0:yc.points)===((vc=K[1])==null?void 0:vc.points)||((xc=K[1])==null?void 0:xc.points)===((wc=K[2])==null?void 0:wc.points)&&((_c=K[2])==null?void 0:_c.points)===((bc=K[3])==null?void 0:bc.points))?null:a.jsx("div",{className:"bg-gray-800 p-3 border-b border-gray-700",children:a.jsxs("button",{onClick:()=>{var Ds,jc,kc,Sc,Nc,Ec,Tc,Cc,Oc,Pc,Rc,Ac,Ic,$c;((Ds=K[0])==null?void 0:Ds.points)===((jc=K[1])==null?void 0:jc.points)?(L([K[0].team,K[1].team]),O(["1 lugar (Final)","2 lugar (Final)"])):((kc=K[1])==null?void 0:kc.points)===((Sc=K[2])==null?void 0:Sc.points)&&((Nc=K[0])==null?void 0:Nc.points)!==((Ec=K[1])==null?void 0:Ec.points)?(L([K[1].team,K[2].team]),O(["2 lugar (Final)","3 lugar (Disputa 3)"])):((Tc=K[2])==null?void 0:Tc.points)===((Cc=K[3])==null?void 0:Cc.points)&&((Oc=K[1])==null?void 0:Oc.points)!==((Pc=K[2])==null?void 0:Pc.points)?(L([K[2].team,K[3].team]),O(["3 lugar (Disputa 3)","4 lugar (Colete)"])):((Rc=K[1])==null?void 0:Rc.points)===((Ac=K[2])==null?void 0:Ac.points)&&((Ic=K[2])==null?void 0:Ic.points)===(($c=K[3])==null?void 0:$c.points)&&(L([K[1].team,K[2].team,K[3].team]),O(["2 lugar (Final)","3 lugar (Disputa 3)","4 lugar (Colete)"])),$e(!0)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"font-medium",children:"Resolver Empate"})]})})})(),a.jsxs("div",{className:"dark-card mx-3 mt-3 rounded-xl p-3 shadow-sm",children:[a.jsx("h4",{className:"text-white text-xs font-medium mb-2 text-center",children:ce?"Ranking de Vitrias":"Classificao Atual"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:K.slice(0,4).map((x,A)=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-700 rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-white text-xs font-bold",children:[A+1,""]}),a.jsx("div",{className:`w-3 h-3 ${qe[x.team].bg} rounded-full`}),a.jsx("span",{className:"text-white text-xs truncate",children:x.team})]}),a.jsx("span",{className:"text-white text-xs font-bold",children:ce?`${x.wins}v`:`${x.points}pts`})]},x.team))}),ce&&m.currentWinnerTeam&&a.jsx("div",{className:"mt-2 text-center",children:a.jsx("div",{className:"bg-yellow-600 rounded-lg p-2",children:a.jsxs("span",{className:"text-white text-xs font-bold",children:[" Time que fica: ",m.currentWinnerTeam]})})}),ce&&!m.currentWinnerTeam&&a.jsx("div",{className:"mt-2 text-center",children:a.jsx("div",{className:"bg-purple-600 rounded-lg p-2",children:a.jsx("span",{className:"text-white text-xs font-bold",children:" Aguardando primeiro jogo para definir quem fica"})})}),!ce&&q.champion&&a.jsx("div",{className:"mt-2 text-center",children:a.jsx("button",{onClick:()=>$(!0),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded-lg text-xs font-medium transition-colors",children:" Ver Resultados Finais"})})]}),R&&a.jsx("div",{className:"dark-card mx-3 mt-3 rounded-xl shadow-sm overflow-hidden",children:a.jsx(Ex,{currentMatch:R,timer:s,formatTime:y,activeMatch:o,isTimerRunning:i,startMatchTimer:c,setTimerForMatch:u,pauseTimer:d,resumeTimer:h,resetTimer:f,finishMatch:op,showNextGameButton:ke,goToNextGame:ap,showGoalkeeperConfig:j,setShowGoalkeeperConfig:I,showPenaltyShootout:U,penaltyScore:re,syncActiveMatch:S})}),ce&&!R&&a.jsxs("div",{className:"dark-card mx-3 mt-3 rounded-xl p-6 text-center",children:[a.jsx("div",{className:"text-4xl mb-3",children:""}),a.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Nenhum Desafio Ativo"}),a.jsx("p",{className:"text-gray-400 mb-4",children:m.currentWinnerTeam?`${m.currentWinnerTeam} est esperando um desafiante!`:'Inicie o primeiro jogo para comear o modo "Quem Ganha Fica"'}),m.currentWinnerTeam&&a.jsx("button",{onClick:()=>{const x=ea(t,m.currentWinnerTeam,r,Fe);x?(console.log(" Manual generation of next match:",x),e(A=>[...A,x]),l(x.id)):pt(" No foi possvel gerar prximo desafio!","error")},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:" Gerar Prximo Desafio"})]}),j&&a.jsx("div",{className:"mx-3 mt-3",children:a.jsx(Tx,{goalkeepers:k,setGoalkeepers:E,isVisible:j,hasAutoGoalkeepers:ee,totalPlayers:Se})}),U&&a.jsx("div",{className:"mx-3 mt-3",children:a.jsx(Cx,{isVisible:U,currentMatch:R,penaltyScore:re,addPenaltyGoal:np,removePenaltyGoal:sp,finishPenaltyShootout:ip,onCancel:()=>{Q(!1),te({team1:0,team2:0})}})}),a.jsx(Zm,{isOpen:Ie,onClose:()=>$e(!1),tiebreakerTeams:N,standings:K,onDecision:pc}),R&&a.jsx("div",{className:"dark-card mx-3 mt-3 rounded-xl shadow-sm overflow-hidden",children:a.jsxs("div",{className:"relative bg-green-600 rounded-xl overflow-hidden",style:{aspectRatio:"16/9"},children:[a.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 400 225",children:a.jsxs("g",{opacity:"0.7",children:[a.jsx("line",{x1:"0",y1:"0",x2:"380",y2:"45",stroke:"#FCD34D",strokeWidth:"3",strokeLinecap:"round"}),a.jsx("line",{x1:"0",y1:"15",x2:"400",y2:"60",stroke:"#FCD34D",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("line",{x1:"0",y1:"30",x2:"400",y2:"75",stroke:"#FCD34D",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("line",{x1:"0",y1:"45",x2:"400",y2:"90",stroke:"#FCD34D",strokeWidth:"1.5",strokeLinecap:"round"}),a.jsx("line",{x1:"0",y1:"60",x2:"400",y2:"105",stroke:"#FCD34D",strokeWidth:"1",strokeLinecap:"round"})]})}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 400 225",children:[a.jsx("rect",{x:"10",y:"10",width:"380",height:"205",fill:"none",stroke:"white",strokeWidth:"2"}),a.jsx("line",{x1:"200",y1:"10",x2:"200",y2:"215",stroke:"white",strokeWidth:"2"}),a.jsx("circle",{cx:"200",cy:"112.5",r:"25",fill:"none",stroke:"white",strokeWidth:"2"}),a.jsx("rect",{x:"10",y:"60",width:"40",height:"105",fill:"none",stroke:"white",strokeWidth:"2"}),a.jsx("rect",{x:"350",y:"60",width:"40",height:"105",fill:"none",stroke:"white",strokeWidth:"2"}),a.jsx("rect",{x:"10",y:"85",width:"15",height:"55",fill:"none",stroke:"white",strokeWidth:"2"}),a.jsx("rect",{x:"375",y:"85",width:"15",height:"55",fill:"none",stroke:"white",strokeWidth:"2"}),a.jsx("rect",{x:"5",y:"95",width:"5",height:"35",fill:"white"}),a.jsx("rect",{x:"390",y:"95",width:"5",height:"35",fill:"white"})]}),a.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2",style:{left:"6%",top:"50%"},onClick:()=>{k.left.isPlayer&&k.left.playerId&&v(k.left.playerId,k.left.name,k.left.teamName,R.id)},children:[a.jsx("div",{className:`w-5 h-5 bg-yellow-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg ${k.left.isPlayer?"cursor-pointer hover:scale-110 active:scale-95 transition-transform":""}`,children:a.jsx("span",{className:"text-white text-[8px] font-bold",children:"G"})}),a.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-90 text-white text-[7px] px-1 py-0.5 rounded whitespace-nowrap max-w-14 truncate",children:k.left.name})]}),a.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2",style:{left:"94%",top:"50%"},onClick:()=>{k.right.isPlayer&&k.right.playerId&&v(k.right.playerId,k.right.name,k.right.teamName,R.id)},children:[a.jsx("div",{className:`w-5 h-5 bg-yellow-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg ${k.right.isPlayer?"cursor-pointer hover:scale-110 active:scale-95 transition-transform":""}`,children:a.jsx("span",{className:"text-white text-[8px] font-bold",children:"G"})}),a.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-90 text-white text-[7px] px-1 py-0.5 rounded whitespace-nowrap max-w-14 truncate",children:k.right.name})]}),ep.slice(0,5).map((x,A)=>{const V=[{x:"18%",y:"25%"},{x:"18%",y:"75%"},{x:"30%",y:"40%"},{x:"30%",y:"60%"},{x:"42%",y:"50%"}][A]||{x:"20%",y:"50%"};return a.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:{left:V.x,top:V.y},onClick:()=>v(x.id,x.name,R.team1,R.id),children:[a.jsx("div",{className:`w-5 h-5 ${qe[R.team1].bg} rounded-full border-2 border-white flex items-center justify-center shadow-lg hover:scale-110 active:scale-95 transition-transform`,children:a.jsx(zr,{size:10,className:"text-white"})}),a.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-90 text-white text-[7px] px-1 py-0.5 rounded whitespace-nowrap max-w-14 truncate",children:x.name})]},x.id)}),tp.slice(0,5).map((x,A)=>{const V=[{x:"82%",y:"25%"},{x:"82%",y:"75%"},{x:"70%",y:"40%"},{x:"70%",y:"60%"},{x:"58%",y:"50%"}][A]||{x:"80%",y:"50%"};return a.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:{left:V.x,top:V.y},onClick:()=>v(x.id,x.name,R.team2,R.id),children:[a.jsx("div",{className:`w-5 h-5 ${qe[R.team2].bg} rounded-full border-2 border-white flex items-center justify-center shadow-lg hover:scale-110 active:scale-95  transition-transform`,children:a.jsx(zr,{size:10,className:"text-white"})}),a.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-90 text-white text-[7px] px-1 py-0.5 rounded whitespace-nowrap max-w-14 truncate",children:x.name})]},x.id)})]})}),R&&a.jsxs("div",{className:"dark-card mx-3 mt-3 rounded-xl p-3 shadow-sm",children:[a.jsx("h3",{className:"text-white font-bold mb-2 text-sm text-center",children:"Gols da Partida"}),n.filter(x=>x&&x.matchId===R.id).length===0?a.jsx("div",{className:"text-center py-3",children:a.jsx("span",{className:"text-gray-400 text-xs",children:"Nenhum gol marcado ainda"})}):a.jsxs("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"text-white text-xs font-medium text-center mb-1",children:R.team1}),n.filter(x=>x&&x.matchId===R.id&&x.teamName===R.team1).map(x=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-700 rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{className:"text-white text-xs",children:""}),a.jsx("span",{className:"text-white text-xs truncate",children:x.playerName}),a.jsxs("span",{className:"text-gray-400 text-xs",children:[x.minute,"'"]})]}),a.jsx("button",{onClick:()=>w(x.id),className:"text-red-400 hover:text-red-300 active:text-red-200 text-xs",children:""})]},x.id))]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"text-white text-xs font-medium text-center mb-1",children:R.team2}),n.filter(x=>x&&x.matchId===R.id&&x.teamName===R.team2).map(x=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-700 rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{className:"text-white text-xs",children:""}),a.jsx("span",{className:"text-white text-xs truncate",children:x.playerName}),a.jsxs("span",{className:"text-gray-400 text-xs",children:[x.minute,"'"]})]}),a.jsx("button",{onClick:()=>w(x.id),className:"text-red-400 hover:text-red-300 active:text-red-200 text-xs",children:""})]},x.id))]})]})]}),R&&a.jsxs("div",{className:"dark-card mx-3 mt-3 rounded-xl p-3 shadow-sm",children:[a.jsx("h3",{className:"text-white font-bold mb-2 text-center text-sm",children:"Atualizar Placar"}),a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-white font-medium mb-1 text-xs",children:R.team1}),a.jsx("input",{type:"number",min:"0",value:R.score1||"",onChange:x=>{_(R.id,R.team1,x.target.value)},onFocus:x=>x.target.select(),className:"w-12 h-12 text-lg font-bold text-center border-2 border-gray-600 bg-gray-700 text-white rounded-lg focus:border-blue-500 focus:outline-none",placeholder:"0",inputMode:"numeric"})]}),a.jsx("div",{className:"text-white text-lg font-bold",children:""}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-white font-medium mb-1 text-xs",children:R.team2}),a.jsx("input",{type:"number",min:"0",value:R.score2||"",onChange:x=>{_(R.id,R.team2,x.target.value)},onFocus:x=>x.target.select(),className:"w-12 h-12 text-lg font-bold text-center border-2 border-gray-600 bg-gray-700 text-white rounded-lg focus:border-blue-500 focus:outline-none",placeholder:"0",inputMode:"numeric"})]})]})]}),a.jsxs("div",{className:"dark-card mx-3 mt-3 rounded-xl p-3 shadow-sm",children:[a.jsxs("h3",{className:"text-white font-bold mb-2 text-sm",children:[ce?"Prximo Desafio":Yt.some(x=>x.type==="regular")?"Prximos Jogos":"Playoffs",!ce&&`(${Yt.length} restantes)`]}),a.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ce&&Yt.length===0?a.jsxs("div",{className:"text-center py-2",children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Aguardando prximo desafio..."}),a.jsx("div",{className:"mt-2",children:a.jsx("button",{onClick:()=>{if(m.currentWinnerTeam){const x=ea(t,m.currentWinnerTeam,r,Fe);x?(console.log(" Quick generation of next match:",x),e(A=>[...A,x]),l(x.id)):pt(" No foi possvel gerar prximo desafio!","error")}else pt(" Termine o primeiro jogo para definir quem fica!","error")},disabled:!m.currentWinnerTeam,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-3 py-1 rounded-lg text-xs transition-colors",children:"Gerar Prximo Desafio"})})]}):Yt.length>0?Yt.map(x=>a.jsxs("div",{className:`flex items-center justify-between rounded-lg p-2 ${x.played?"bg-green-700":x.type==="winner-stays"?"bg-purple-700":x.type==="final"?"bg-yellow-700":x.type==="third_place"?"bg-orange-700":"bg-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.played?"bg-green-600 text-white":x.type==="winner-stays"?"bg-purple-600 text-white":x.type==="final"?"bg-yellow-600 text-white":x.type==="third_place"?"bg-orange-600 text-white":"bg-gray-600 text-white"}`,children:x.type==="winner-stays"?" Desafio":x.type==="final"?" Final":x.type==="third_place"?" 3 Lugar":`Jogo ${x.id}`}),x.team1!=="TBD"&&x.team2!=="TBD"&&a.jsx("span",{className:"text-white text-xs",children:x.played?`${x.team1} ${x.score1||0}  ${x.score2||0} ${x.team2}`:`${x.team1}  ${x.team2}`}),(x.team1==="TBD"||x.team2==="TBD")&&a.jsx("span",{className:"text-gray-400 text-xs",children:"Aguardando classificao"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:x.played?a.jsx("span",{className:"text-green-400 text-xs",children:""}):x.team1!=="TBD"&&x.team2!=="TBD"?a.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation();const z=x.id>12||x.type==="final"||x.type==="third_place"||x.type==="winner-stays";u(x.id,z)},className:"bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-2 py-1 rounded-lg text-xs transition-colors",children:"Selecionar"}):a.jsx("span",{className:"text-gray-500 text-xs",children:"-"})})]},x.id)):a.jsx("div",{className:"text-center py-2",children:a.jsx("span",{className:"text-gray-400 text-xs",children:ce?"Nenhum desafio ativo":"Torneio finalizado! "})})}),!ce&&t.filter(x=>x.type==="regular").every(x=>x.played)&&Yt.some(x=>x.type==="final"||x.type==="third_place")&&a.jsx("div",{className:"mt-3 p-2 bg-yellow-800 rounded-lg",children:a.jsx("div",{className:"text-yellow-200 text-xs text-center",children:" Fase de Playoffs iniciada!"})}),ce&&m.currentWinnerTeam&&a.jsx("div",{className:"mt-3 p-2 bg-purple-800 rounded-lg",children:a.jsxs("div",{className:"text-purple-200 text-xs text-center",children:[' Modo "Quem Ganha Fica" - ',m.currentWinnerTeam," est em campo"]})})]})]})},Px=({matches:t,setMatches:e,teams:r,matchEvents:n,setMatchEvents:s,timer:i,isTimerRunning:o,activeMatch:l,setActiveMatch:c,setOnTimerFinished:u,startMatchTimer:d,setTimerForMatch:h,pauseTimer:f,resumeTimer:y,resetTimer:v,formatTime:w,settings:_,setSettings:p,setCurrentScreen:m,onBack:g,currentGameDay:b,syncMatches:S,syncGoalEvent:k,removeGoalEvent:E,syncActiveMatch:j})=>{const[I,U]=P.useState("field"),Q=(_==null?void 0:_.activeTeams)||["Vermelho","Azul","Brasil","Verde Branco"],re=t.filter(oe=>oe.type==="final"||oe.type==="third_place"?!0:Q.includes(oe.team1)&&Q.includes(oe.team2)),te=async(oe,ie,T)=>{const $=t.map(N=>{if(N.id===oe){const L={...N},M=T===""?null:parseInt(T)||0;return N.team1===ie?L.score1=M:L.score2=M,L}return N});e($),b&&S&&await S($)},Ie=async(oe,ie,T,$)=>{const N=Math.floor((i>0&&l===$?420-i:0)/60)+1;if(console.log(" addGoal called:",{playerId:oe,playerName:ie,teamName:T,matchId:$,minute:N}),console.log(" currentGameDay:",b==null?void 0:b.id),console.log(" syncGoalEvent exists:",!!k),b&&k)try{console.log(" Calling syncGoalEvent...");const M=await k(oe,ie,T,$,N);console.log(" savedEvent:",M),M&&s(O=>[...O,{id:M.id,playerId:M.player_id,playerName:M.player_name,teamName:M.team_name,matchId:$,minute:M.minute}])}catch(M){console.error("Error saving goal:",M)}else{console.log(" Using fallback mode");const M={id:Date.now(),playerId:oe,playerName:ie,teamName:T,matchId:$,minute:N};s(O=>[...O,M])}const L=re.find(M=>M.id===$);L&&(L.team1===T?te($,T,(L.score1||0)+1):te($,T,(L.score2||0)+1))},$e=async oe=>{const ie=n.find(T=>T.id===oe);if(ie){if(b&&E)try{await E(oe)}catch($){console.error("Error removing goal:",$)}const T=t.find($=>$.id===ie.matchId);T&&(T.team1===ie.teamName?te(ie.matchId,ie.teamName,Math.max(0,(T.score1||0)-1)):te(ie.matchId,ie.teamName,Math.max(0,(T.score2||0)-1)))}s(T=>T.filter($=>$.id!==oe))};return a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx(Vr,{title:"Jogos",showBack:!0,onBack:g,setCurrentScreen:m}),a.jsx("div",{className:"p-3 dark-card border-b border-gray-700 mx-3 rounded-t-xl",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:a.jsxs("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>U("field"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${I==="field"?"bg-gray-600 text-white shadow-sm":"text-gray-300 hover:text-white"}`,children:"Campo ao Vivo"}),a.jsx("button",{onClick:()=>U("list"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${I==="list"?"bg-gray-600 text-white shadow-sm":"text-gray-300 hover:text-white"}`,children:"Lista de Jogos"})]})}),I==="field"?a.jsx(Ox,{matches:re,setMatches:e,teams:r,matchEvents:n,timer:i,isTimerRunning:o,activeMatch:l,setActiveMatch:c,setOnTimerFinished:u,startMatchTimer:d,setTimerForMatch:h,pauseTimer:f,resumeTimer:y,resetTimer:v,formatTime:w,addGoal:Ie,removeGoal:$e,updateMatchScore:te,settings:_,setSettings:p,syncMatches:S,syncActiveMatch:j}):a.jsx(Nx,{matches:re,timer:i,isTimerRunning:o,activeMatch:l,startMatchTimer:d,setTimerForMatch:h,pauseTimer:f,resumeTimer:y,resetTimer:v,formatTime:w,updateMatchScore:te,settings:_})]})},Rx=({matches:t,settings:e,setCurrentScreen:r,onBack:n})=>{const[s,i]=rt.useState(!1),[o,l]=rt.useState([]),c=(e==null?void 0:e.tournamentType)==="winner-stays",u=(e==null?void 0:e.activeTeams)||["Vermelho","Azul","Brasil","Verde Branco"],d=t.filter(p=>p.type==="final"||p.type==="third_place"?!0:u.includes(p.team1)&&u.includes(p.team2)),h=c?qm(d):Xi(d.filter(p=>p.type==="regular")),f=d.find(p=>p.id===14),y=d.find(p=>p.id===13),v=!c&&(f==null?void 0:f.played)&&(y==null?void 0:y.played);let w=null;if(v){const p=f.score1>f.score2?f.team1:f.score2>f.score1?f.team2:f.winner,m=f.team1===p?f.team2:f.team1,g=y.score1>y.score2?y.team1:y.score2>y.score1?y.team2:y.winner,b=y.team1===g?y.team2:y.team1;w={champion:p,runnerUp:m,thirdPlace:g,fourthPlace:b}}const _=p=>{console.log(`Tiebreaker resolved using ${p} for teams:`,o),i(!1),l([])};return a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx(Vr,{title:"Classificao",showBack:!0,onBack:n,setCurrentScreen:r}),a.jsxs("div",{className:"p-6",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:[a.jsx(Zm,{isOpen:s,onClose:()=>i(!1),tiebreakerTeams:o,standings:h,onDecision:_}),v&&w&&a.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 rounded-2xl p-6 text-center shadow-lg mb-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"RESULTADO FINAL"}),a.jsx("p",{className:"text-yellow-100 text-sm",children:"Torneio Finalizado"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"bg-white bg-opacity-20 rounded-xl p-3 border-2 border-yellow-300 col-span-2",children:a.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-yellow-100 text-xs font-medium",children:"CAMPEO"}),a.jsx("div",{className:"text-white text-lg font-bold",children:w.champion})]})]})}),a.jsx("div",{className:"bg-white bg-opacity-15 rounded-xl p-3 border border-gray-300",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xl mb-1",children:""}),a.jsx("div",{className:"text-gray-200 text-xs font-medium",children:"VICE"}),a.jsx("div",{className:"text-white text-sm font-bold",children:w.runnerUp})]})}),a.jsx("div",{className:"bg-white bg-opacity-10 rounded-xl p-3 border border-orange-300",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xl mb-1",children:""}),a.jsx("div",{className:"text-orange-200 text-xs font-medium",children:"3 LUGAR"}),a.jsx("div",{className:"text-white text-sm font-bold",children:w.thirdPlace})]})})]})]}),a.jsxs("div",{className:"dark-card rounded-2xl shadow-sm overflow-hidden mb-6",children:[a.jsxs("div",{className:"p-6 border-b border-gray-600",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold text-white",children:c?"Ranking de Vitrias":v?"Classificao da Fase Regular":"Tabela de Classificao"})}),v&&!c&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Pontuao baseada apenas nos 12 jogos da fase regular"}),c&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Ranking baseado no nmero de vitrias no modo "Quem Ganha Fica"'})]}),a.jsx("div",{className:"space-y-1",children:h.map((p,m)=>a.jsxs("div",{className:`p-4 ${v?w.champion===p.team?"bg-gradient-to-r from-yellow-50 to-yellow-100 border-l-4 border-yellow-500":w.runnerUp===p.team?"bg-gradient-to-r from-gray-50 to-gray-100 border-l-4 border-gray-400":w.thirdPlace===p.team?"bg-gradient-to-r from-orange-50 to-orange-100 border-l-4 border-orange-400":w.fourthPlace===p.team?"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-400":"hover:bg-gray-700":m===0?"bg-gradient-to-r from-green-900 to-green-800 border-l-4 border-green-500":m===1?"bg-gradient-to-r from-blue-900 to-blue-800 border-l-4 border-blue-400":m===h.length-1||m===h.length-2?"bg-gradient-to-r from-red-900 to-red-800 border-l-4 border-red-400":"hover:bg-gray-700"} transition-colors`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-2xl font-bold text-gray-300",children:v?w.champion===p.team?"":w.runnerUp===p.team?"":w.thirdPlace===p.team?"":w.fourthPlace===p.team?"4":`${m+1}`:`${m+1}`}),!v&&a.jsxs(a.Fragment,{children:[m===0&&a.jsx(ta,{className:"text-green-500",size:20}),m===1&&a.jsx(ta,{className:"text-blue-500",size:20}),m===2&&a.jsx("span",{className:"text-lg",children:""}),m===h.length-1&&a.jsx("span",{className:"text-lg",children:""})]})]}),a.jsx("div",{className:`w-4 h-4 ${qe[p.team].bg} rounded-full`}),a.jsx("span",{className:"font-bold text-white truncate",children:p.team})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:c?p.wins:p.points}),a.jsx("div",{className:"text-sm text-gray-400",children:c?"vitrias":"pontos"})]})]}),c?a.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2 text-center text-sm",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[a.jsx("div",{className:"font-medium text-blue-600",children:p.matches}),a.jsx("div",{className:"text-[8px] text-gray-400 leading-tight text-center",children:"Jogos"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[a.jsx("div",{className:"font-medium text-green-600",children:p.wins}),a.jsx("div",{className:"text-[8px] text-gray-400 leading-tight text-center",children:"Vitrias"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[a.jsxs("div",{className:"font-medium text-yellow-600",children:[p.winRate,"%"]}),a.jsx("div",{className:"text-[8px] text-gray-400 leading-tight text-center",children:"Taxa"})]})]}):a.jsxs("div",{className:"mt-3 grid grid-cols-5 gap-2 text-center text-sm",children:[a.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[a.jsx("div",{className:"font-medium text-blue-600",children:p.gamesPlayed}),a.jsx("div",{className:"text-[8px] text-gray-400 leading-tight text-center",children:"J"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[a.jsx("div",{className:"font-medium text-green-600",children:p.wins}),a.jsx("div",{className:"text-[8px] text-gray-400 leading-tight text-center",children:"V"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[a.jsx("div",{className:"font-medium text-yellow-600",children:p.draws}),a.jsx("div",{className:"text-[8px] text-gray-400 leading-tight text-center",children:"E"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[a.jsx("div",{className:"font-medium text-red-600",children:p.losses}),a.jsx("div",{className:"text-[8px] text-gray-400 leading-tight text-center",children:"D"})]}),a.jsxs("div",{className:"bg-gray-700 rounded-lg p-2",children:[a.jsxs("div",{className:"font-medium text-white",children:[p.goalDiff>0?"+":"",p.goalDiff]}),a.jsx("div",{className:"text-[8px] text-gray-400 leading-tight text-center",children:"SG"})]})]})]},p.team))})]}),a.jsxs("div",{className:"mt-6 dark-card rounded-2xl p-6 shadow-sm",children:[a.jsx("h4",{className:"font-semibold text-white mb-3",children:"Legenda"}),a.jsx("div",{className:"space-y-2 text-sm",children:c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-gray-300",children:"Ranking baseado no nmero de vitrias"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-gray-300",children:'Modo "Quem Ganha Fica" - Time vencedor permanece'})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-gray-300",children:"Em empates, o desafiante se torna o novo vencedor"})]})]}):v?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-gray-300",children:"Campeo do Torneio"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-gray-300",children:"Vice-campeo"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-gray-300",children:"3 lugar"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:"4"}),a.jsx("span",{className:"text-gray-300",children:"4 lugar"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ta,{className:"text-green-500",size:16}),a.jsx("span",{className:"text-gray-300",children:"1 e 2 lugar - Classificados para a final"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-gray-300",children:"3 lugar - Disputa o 3 lugar"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-gray-300",children:"4 lugar - Vai direto para o sorteio do colete"})]})]})})]})]})]})},Ax=({matchEvents:t,setMatchEvents:e,setCurrentScreen:r,onBack:n})=>{const s=()=>{const l={};return t.forEach(c=>{const u=`${c.playerId}-${c.playerName}`;l[u]||(l[u]={playerId:c.playerId,playerName:c.playerName,teamName:c.teamName,goals:0}),l[u].goals++}),Object.values(l).sort((c,u)=>u.goals-c.goals)},i=l=>{e(c=>c.filter(u=>u.id!==l))},o=s();return a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx(Vr,{title:"Artilheiros",showBack:!0,onBack:n,setCurrentScreen:r}),a.jsxs("div",{className:"p-6",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:[a.jsxs("div",{className:"dark-card rounded-2xl shadow-sm overflow-hidden mb-6",children:[a.jsx("div",{className:"p-6 border-b border-gray-600",children:a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tabela de Artilheiros"})}),a.jsx("div",{className:"space-y-1",children:o.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Xm,{size:48,className:"text-gray-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Nenhum gol marcado ainda"})]}):o.map((l,c)=>{var u;return a.jsx("div",{className:`p-4 ${c===0?"bg-gradient-to-r from-yellow-900 to-yellow-800 border-l-4 border-yellow-500":c===1?"bg-gradient-to-r from-gray-700 to-gray-600 border-l-4 border-gray-400":c===2?"bg-gradient-to-r from-orange-900 to-orange-800 border-l-4 border-orange-400":"hover:bg-gray-700"} transition-colors`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-2xl font-bold text-gray-300",children:[c+1,""]}),c===0&&a.jsx("span",{className:"text-lg",children:""}),c===1&&a.jsx("span",{className:"text-lg",children:""}),c===2&&a.jsx("span",{className:"text-lg",children:""})]}),a.jsx("div",{className:`w-4 h-4 ${((u=qe[l.teamName])==null?void 0:u.bg)||"bg-gray-500"} rounded-full`}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-white",children:l.playerName}),a.jsx("div",{className:"text-sm text-gray-400",children:l.teamName})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:l.goals}),a.jsx("div",{className:"text-sm text-gray-400",children:"gols"})]})]})},`${l.playerId}-${l.playerName}`)})})]}),a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm",children:[a.jsx("h4",{className:"font-semibold text-white mb-3",children:"Todos os Gols do Torneio"}),a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:t.length===0?a.jsx("div",{className:"text-center py-4",children:a.jsx("span",{className:"text-gray-400 text-sm",children:"Nenhum gol marcado ainda"})}):t.map(l=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:l.playerName}),a.jsxs("div",{className:"text-sm text-gray-400",children:[l.teamName,"  Jogo ",l.matchId,"  ",l.minute,"'"]})]})]}),a.jsx("button",{onClick:()=>i(l.id),className:"text-red-400 hover:bg-red-900 p-2 rounded-lg transition-colors",children:a.jsx(Es,{size:16})})]},l.id))})]})]})]})},Ix=({players:t,teams:e,matches:r,settings:n,coleteParticipants:s,setColeteParticipants:i,immunePlayer:o,setImmunePlayer:l,coleteWinner:c,setColeteWinner:u,setCurrentScreen:d,onBack:h,syncVestAssignment:f})=>{var ie,T,$;const[y,v]=rt.useState(""),[w,_]=rt.useState("success"),[p,m]=rt.useState(!1),[g,b]=rt.useState(!1),[S,k]=rt.useState(0),E=(N,L="success")=>{v(N),_(L),m(!0)},j=Xi(r),I=j.length>0?j[0].team:null,U=I?e[I]||[]:[],Q=[" Preparando o sorteio do colete..."," Sorteando quem vai lavar..."," Resultado definido!"],re=async()=>{const N=s.filter(M=>M.id!==(o==null?void 0:o.id));if(N.length===0){E("Adicione jogadores para o sorteio!","error");return}b(!0),k(0),await new Promise(M=>setTimeout(M,1500)),k(1),await new Promise(M=>setTimeout(M,1500)),k(2),await new Promise(M=>setTimeout(M,1e3));const L=N[Math.floor(Math.random()*N.length)];if(u(L),f)try{const M=Object.keys(e).find(O=>{var q;return(q=e[O])==null?void 0:q.some(ae=>ae.id===L.id)});await f(M||L.name)}catch(M){console.error("Error saving vest assignment:",M)}b(!1),k(0),E(` ${L.name} foi sorteado para lavar o colete!`,"success")},te=N=>{s.find(L=>L.id===N.id)||i([...s,N])},Ie=N=>{i(s.filter(L=>L.id!==N)),(o==null?void 0:o.id)===N&&l(null)},$e=N=>{const L=e[N]||[],M=[...s];L.forEach(O=>{M.find(q=>q.id===O.id)||M.push(O)}),i(M)},oe=()=>{if(j.length===0)return;const N=j[0].team,L=Object.entries(e).filter(([O])=>O!==N);let M=[...s];L.forEach(([O,q])=>{q.forEach(ae=>{M.find(ke=>ke.id===ae.id)||M.push(ae)})}),i(M)};return a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx(Vr,{title:"Sorteio do Colete",showBack:!0,onBack:h,setCurrentScreen:d}),a.jsx($s,{message:y,type:w,isVisible:p,onClose:()=>m(!1)}),a.jsxs("div",{className:"p-6",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:[U.length>0&&a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Imunidade do Campeo"}),a.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["O campeo (",I,") pode escolher uma pessoa do ltimo colocado para imunizar do sorteio:"]}),j.length>=4&&a.jsx("div",{className:"mb-3 p-3 bg-red-900 rounded-lg border border-red-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-red-200 text-sm font-medium",children:"ltimo Colocado:"}),a.jsx("div",{className:"text-white font-bold",children:j[3].team})]})}),j.length>=4&&e[j[3].team]&&a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:e[j[3].team].map(N=>a.jsx("button",{onClick:()=>l((o==null?void 0:o.id)===N.id?null:N),className:`p-3 rounded-xl text-left transition-colors ${(o==null?void 0:o.id)===N.id?"bg-green-900 border-2 border-green-500 text-green-200":"bg-gray-700 hover:bg-gray-600 text-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:N.name}),(o==null?void 0:o.id)===N.id&&a.jsx("span",{className:"text-green-600 text-sm font-bold",children:"IMUNE "})]})},N.id))}),(!j.length||j.length<4||!e[(ie=j[3])==null?void 0:ie.team]||e[(T=j[3])==null?void 0:T.team].length===0)&&a.jsx("div",{className:"text-center py-4",children:a.jsx("span",{className:"text-gray-400 text-sm",children:!j.length||j.length<4?"Aguardando classificao completa...":"Nenhum jogador no ltimo colocado"})})]}),U.length===0&&j.length>0&&a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Imunidade do Campeo"}),a.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Aguardando definio do campeo para liberar a escolha da imunidade."}),a.jsx("div",{className:"text-center py-4",children:a.jsx("span",{className:"text-gray-400 text-sm",children:"Termine o torneio para liberar esta funo"})})]}),U.length>0&&j.length>=4&&e[($=j[3])==null?void 0:$.team]&&a.jsx("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",style:{display:"none"}}),a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Aes Rpidas"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[I&&a.jsxs("button",{onClick:oe,className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-3 rounded-xl flex items-center justify-center space-x-2",children:[a.jsx(zr,{size:16}),a.jsx("span",{children:"+ Todos (Exceto Campeo)"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(e).filter(([N])=>{var L;return((L=n==null?void 0:n.activeTeams)==null?void 0:L.includes(N))||!(n!=null&&n.activeTeams)}).map(([N,L])=>a.jsxs("button",{onClick:()=>I!==N&&$e(N),disabled:I===N,className:`p-3 rounded-xl text-sm flex items-center justify-center space-x-2 transition-all ${I===N?"bg-gray-600 text-gray-400 opacity-50 cursor-not-allowed":`bg-gradient-to-r ${qe[N].gradient} text-white hover:opacity-90`}`,children:[a.jsx(zr,{size:14}),a.jsxs("span",{children:[N," ",I===N?"":""]})]},N))})]})]}),a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Adicionar Jogadores Individuais"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:t.map(N=>a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${s.find(L=>L.id===N.id)?"bg-red-900 border border-red-600":"bg-gray-700"}`,children:[a.jsx("span",{className:"font-medium text-white",children:N.name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[(o==null?void 0:o.id)===N.id&&a.jsx("span",{className:"text-green-400 text-xs font-bold bg-green-900 px-2 py-1 rounded",children:"IMUNE"}),s.find(L=>L.id===N.id)?a.jsx("button",{onClick:()=>Ie(N.id),className:"bg-red-500 hover:bg-red-600 text-white p-1 rounded",children:a.jsx(Es,{size:16})}):a.jsx("button",{onClick:()=>te(N),className:"bg-blue-500 hover:bg-blue-600 text-white p-1 rounded",children:a.jsx(Ym,{size:16})})]})]},N.id))})]}),a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Participantes do Sorteio (",s.length,")"]}),a.jsx("button",{onClick:()=>i([]),className:"text-red-400 hover:bg-red-900 px-3 py-1 rounded-lg text-sm transition-colors",children:"Limpar Todos"})]}),s.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("span",{className:"text-gray-400",children:"Nenhum participante adicionado"})}):a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:s.map(N=>a.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${(o==null?void 0:o.id)===N.id?"bg-green-900 border border-green-600":"bg-red-900 border border-red-600"}`,children:[a.jsxs("span",{className:"text-sm font-medium",children:[N.name,(o==null?void 0:o.id)===N.id&&a.jsx("span",{className:"text-green-400 text-xs ml-1",children:"(IMUNE)"})]}),a.jsx("button",{onClick:()=>Ie(N.id),className:"text-red-400 hover:bg-red-800 p-1 rounded",children:a.jsx(Es,{size:12})})]},N.id))})]}),g?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"w-16 h-16 mx-auto mb-4 relative",children:[a.jsx("div",{className:"absolute inset-0 border-4 border-red-800 rounded-full"}),a.jsx("div",{className:"absolute inset-0 border-4 border-red-500 rounded-full border-t-transparent animate-spin"}),a.jsx("div",{className:"absolute inset-2 bg-red-900 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-red-400 animate-pulse text-xl",children:""})})]}),a.jsx("div",{className:"text-lg font-bold text-white mb-2 animate-pulse",children:Q[S]}),a.jsx("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(N=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${N<=S?"bg-red-500":"bg-gray-600"}`},N))})]})}):a.jsxs("button",{onClick:re,disabled:s.filter(N=>N.id!==(o==null?void 0:o.id)).length===0,className:"w-full bg-gradient-to-r from-red-500 to-red-600 disabled:from-gray-600 disabled:to-gray-700 text-white p-4 rounded-2xl font-medium flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-200 disabled:cursor-not-allowed",children:[a.jsx(Ts,{size:20}),a.jsx("span",{children:" Sortear Quem Lava o Colete"})]}),o&&a.jsxs("p",{className:"text-center text-green-400 text-sm mt-2",children:[o.name," est imune e no participar do sorteio"]}),c&&a.jsxs("div",{className:"mt-6 bg-gradient-to-br from-red-500 via-red-600 to-red-700 rounded-2xl p-6 text-center shadow-2xl border-2 border-red-400",children:[a.jsx("div",{className:"mb-6",children:a.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"RESULTADO DO SORTEIO"})}),a.jsxs("div",{className:"bg-white bg-opacity-10 rounded-xl p-6 mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"/lavarcolete.png",alt:"Jesus",className:"w-72 h-72 object-contain filter brightness-0 invert",title:"Jesus"})}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-white text-sm leading-relaxed font-medium break-words px-2",children:["O colete  seu, ",a.jsx("span",{className:"font-bold text-yellow-200 text-lg",children:c.name}),". Lembre-se: amaciante Downy, porque tem muitos alrgicos!"]})})]})]})]})]})},$x=({settings:t,setSettings:e,setCurrentScreen:r,onBack:n})=>{const[s,i]=P.useState(t),[o,l]=P.useState(!1),[c,u]=P.useState(null),[d,h]=P.useState(""),[f,y]=P.useState("success"),[v,w]=P.useState(!1),_=(j,I="success")=>{h(j),y(I),w(!0)},p=j=>{j==="winner-stays"&&s.activeTeams.length===4?(u(j),l(!0)):i(I=>({...I,tournamentType:j}))},m=j=>{const I=s.activeTeams.filter(U=>U!==j);i(U=>({...U,tournamentType:c,activeTeams:I,numberOfTeams:I.length})),l(!1),u(null),_(` Modo "Quem Ganha Fica" ativado com 3 times! ${j} foi removido.`,"success")},g=()=>{l(!1),u(null)},b=()=>{e(s),_(" Configuraes salvas com sucesso!","success")},S=()=>{const j={normalMatchTime:7,finalMatchTime:10,numberOfTeams:4,activeTeams:bi.slice(0,4),tournamentType:"championship"};i(j),_(" Configuraes restauradas para o padro","info")},k=j=>{if(!s.activeTeams.includes(j)){const I=[...s.activeTeams,j];if(s.tournamentType==="winner-stays"&&I.length>3){_(' Modo "Quem Ganha Fica" funciona apenas com 3 times!',"error");return}i(U=>({...U,activeTeams:I,numberOfTeams:I.length}))}},E=j=>{const I=s.tournamentType==="winner-stays"?3:2;if(s.activeTeams.length>I){const U=s.activeTeams.filter(Q=>Q!==j);i(Q=>({...Q,activeTeams:U,numberOfTeams:U.length}))}else{const U=s.tournamentType==="winner-stays"?"3 times":"2 times";_(` Mnimo de ${U} necessrio para este modo!`,"error")}};return bi.filter(j=>!s.activeTeams.includes(j)),a.jsxs("div",{className:"min-h-screen overflow-x-hidden pb-24",children:[a.jsx(Vr,{title:"Configuraes",showBack:!0,onBack:n,setCurrentScreen:r}),a.jsx($s,{message:d,type:f,isVisible:v,onClose:()=>w(!1)}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"dark-card-solid rounded-xl max-w-sm w-full shadow-xl",children:[a.jsxs("div",{className:"p-4 border-b border-gray-600",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:' Modo "Quem Ganha Fica"'}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Este modo funciona com exatamente 3 times. Escolha qual time remover:"})]}),a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"space-y-2",children:s.activeTeams.map(j=>a.jsx("button",{onClick:()=>m(j),className:`w-full p-3 rounded-lg text-left transition-colors bg-gray-700 hover:bg-gray-600 border-l-4 ${j==="Vermelho"?"border-red-500":j==="Azul"?"border-blue-500":j==="Brasil"?"border-yellow-500":"border-green-500"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full ${j==="Vermelho"?"bg-red-500":j==="Azul"?"bg-blue-500":j==="Brasil"?"bg-yellow-500":"bg-green-500"}`}),a.jsxs("span",{className:"text-white font-medium",children:["Remover ",j]})]})},j))})}),a.jsx("div",{className:"p-4 border-t border-gray-600",children:a.jsx("button",{onClick:g,className:"w-full bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-lg font-medium transition-colors",children:"Cancelar"})})]})}),a.jsxs("div",{className:"p-6",style:{paddingTop:"max(80px, calc(64px + env(safe-area-inset-top)))"},children:[a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(Gm,{className:"text-white",size:20})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tempo das Partidas"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Partidas Normais (minutos):"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"number",min:"1",max:"30",value:s.normalMatchTime,onChange:j=>i(I=>({...I,normalMatchTime:parseInt(j.target.value)||7})),className:"w-20 p-3 bg-gray-800 border border-gray-600 rounded-lg text-white text-center focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("span",{className:"text-gray-400 text-sm",children:"minutos"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Final e 3 Lugar (minutos):"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"number",min:"1",max:"30",value:s.finalMatchTime,onChange:j=>i(I=>({...I,finalMatchTime:parseInt(j.target.value)||10})),className:"w-20 p-3 bg-gray-800 border border-gray-600 rounded-lg text-white text-center focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("span",{className:"text-gray-400 text-sm",children:"minutos"})]})]})]})]}),a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(ll,{className:"text-white",size:20})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Formato do Torneio"})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Tipo de Torneio:"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition-colors",children:[a.jsx("input",{type:"radio",name:"tournamentType",value:"championship",checked:s.tournamentType==="championship",onChange:j=>p(j.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:" Campeonato"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Todos jogam contra todos + playoffs"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition-colors",children:[a.jsx("input",{type:"radio",name:"tournamentType",value:"winner-stays",checked:s.tournamentType==="winner-stays",onChange:j=>p(j.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:" Quem Ganha Fica"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"3 times - Vencedor permanece, empate = desafiante vira vencedor"})]})]})]})]})})]}),a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:a.jsx(zr,{className:"text-white",size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Times do Torneio"}),a.jsxs("p",{className:"text-sm text-gray-400",children:[s.activeTeams.length," times selecionados",s.tournamentType==="winner-stays"&&a.jsx("span",{className:"text-purple-400 ml-1",children:'(mx. 3 para "Quem Ganha Fica")'})]})]})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:bi.map(j=>{const I=s.activeTeams.includes(j),U=s.tournamentType==="winner-stays"?3:2,Q=I&&s.activeTeams.length>U;return a.jsxs("button",{onClick:()=>I?E(j):k(j),disabled:I&&!Q,className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${I?`bg-gray-800 ${qe[j].text} border ${j==="Vermelho"?"border-red-500":j==="Azul"?"border-blue-500":j==="Brasil"?"border-yellow-500":"border-green-500"} hover:bg-gray-700 active:scale-95`:"bg-gray-800 text-gray-500 border border-gray-600 hover:border-gray-500 hover:text-gray-400"} ${I&&!Q?"opacity-50 cursor-not-allowed":""}`,title:I?"Clique para remover":"Clique para adicionar",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${I?j==="Vermelho"?"bg-red-500":j==="Azul"?"bg-blue-500":j==="Brasil"?"bg-yellow-500":"bg-green-500":"bg-gray-600"}`}),a.jsx("span",{children:j}),I&&Q&&a.jsx(On,{size:10,className:"opacity-60"})]},j)})})]}),a.jsxs("div",{className:"dark-card rounded-2xl p-6 shadow-sm mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(ll,{className:"text-white",size:20})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Sobre o Formato"})]}),a.jsx("div",{className:"space-y-3 text-sm text-gray-300",children:s.tournamentType==="championship"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Fase de grupos: todos jogam contra todos"})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Playoffs: 1 vs 2 (Final) e 3 vs 4 (3 lugar)"})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-blue-400 mt-1",children:""}),a.jsx("span",{children:"Sistema de pontuao: 3 pontos por vitria, 1 por empate"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-green-400 mt-1",children:""}),a.jsx("span",{children:"Funciona com exatamente 3 times"})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-green-400 mt-1",children:""}),a.jsx("span",{children:"Time vencedor permanece em campo"})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-green-400 mt-1",children:""}),a.jsx("span",{children:"Em caso de empate: desafiante se torna o novo vencedor"})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-green-400 mt-1",children:""}),a.jsx("span",{children:"Prximos desafios so gerados automaticamente"})]})]})})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-700 p-4 max-w-sm mx-auto",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:b,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-2xl font-medium flex items-center justify-center space-x-2 transition-all duration-200 active:scale-95 shadow-lg",children:[a.jsx(Sd,{size:20}),a.jsx("span",{children:"Salvar Configuraes"})]}),a.jsx("button",{onClick:S,className:"bg-gray-600 hover:bg-gray-700 text-white p-4 rounded-2xl transition-colors shadow-lg",title:"Restaurar Padro",children:a.jsx(Cn,{size:20})})]})}),a.jsxs("div",{className:"flex space-x-3 opacity-0 pointer-events-none",children:[a.jsxs("button",{className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-2xl font-medium flex items-center justify-center space-x-2 transition-all duration-200 active:scale-95",children:[a.jsx(Sd,{size:20}),a.jsx("span",{children:"Salvar Configuraes"})]}),a.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white p-4 rounded-2xl transition-colors",children:a.jsx(Cn,{size:20})})]})]})]})},Lx=()=>{const[t,e]=P.useState("home"),[r,n]=P.useState(null),[s,i]=P.useState([]),[o,l]=P.useState(U0),[c,u]=P.useState(Wo),[d,h]=P.useState(!1),[f,y]=P.useState([]),[v,w]=P.useState(!0),[_,p]=P.useState([]),[m,g]=P.useState(null),[b,S]=P.useState(null),[k,E]=P.useState({normalMatchTime:Hu.NORMAL_MATCH/60,finalMatchTime:Hu.FINAL_MATCH/60,numberOfTeams:4,activeTeams:bi.slice(0,4),tournamentType:"championship",currentWinnerTeam:null});rt.useEffect(()=>{if(k.tournamentType==="winner-stays"&&c.length===Wo.length){const{matches:G,currentWinner:Je}=ux(o,k.activeTeams);G.length>0&&(u(G),E(Te=>({...Te,currentWinnerTeam:Je})))}else k.tournamentType==="championship"&&c.some(G=>G.type==="winner-stays")&&(u(Wo),E(G=>({...G,currentWinnerTeam:null})))},[k.tournamentType,k.activeTeams]);const{timer:j,isTimerRunning:I,activeMatch:U,setActiveMatch:Q,setOnTimerFinished:re,startMatchTimer:te,pauseTimer:Ie,resumeTimer:$e,resetTimer:oe,formatTime:ie}=M0(k),{syncPlayers:T,syncMatches:$,syncGoalEvent:N,removeGoalEvent:L,syncVestAssignment:M,updateGameDaySettings:O,syncActiveMatch:q}=lx(r);P.useEffect(()=>{ae()},[]);const ae=async()=>{try{const G=await pe.getActiveGameDay();G&&await ke(G)}catch(G){console.error("Error checking for active game day:",G)}finally{w(!1)}},ke=async G=>{try{n(G);const[Je,Te,Wr,Ls]=await Promise.all([pe.getPlayersByGameDay(G.id),pe.getMatchesByGameDay(G.id),pe.getMatchEventsByGameDay(G.id),pe.getVestAssignment(G.id)]);if(Je&&Je.length>0){i(Je);const Se=Je.filter(ee=>ee.team_name);if(Se.length>0){const ee=Se.reduce((ce,Fe)=>(ce[Fe.team_name]||(ce[Fe.team_name]=[]),ce[Fe.team_name].push(Fe),ce),{});l(ee),h(!0)}}if(Te&&Te.length>0){const Se=Te.map(ee=>({id:ee.match_number,dbId:ee.id,team1:ee.team1,team2:ee.team2,score1:ee.score1,score2:ee.score2,penaltyScore1:ee.penalty_score1,penaltyScore2:ee.penalty_score2,winner:ee.winner,type:ee.match_type,played:ee.played}));u(Se)}if(Wr&&Wr.length>0){const Se=Wr.map(ee=>{const ce=Te.find(Fe=>Fe.id===ee.match_id);return ce?{id:ee.id,matchId:ce.match_number,playerId:ee.player_id,playerName:ee.player_name,teamName:ee.team_name,minute:ee.minute}:null}).filter(ee=>ee!==null);y(Se)}if(Ls&&S(Ls.team_name),E(Se=>({...Se,tournamentType:G.tournament_type,activeTeams:G.active_teams||Se.activeTeams,currentWinnerTeam:G.current_winner_team})),G.active_match_id)Q(G.active_match_id);else if(Te&&Te.length>0){const Se=Te.find(ee=>!ee.played);Se&&Q(Se.match_number)}}catch(Je){console.error("Error loading game day data:",Je)}},B=async G=>{await ke(G),e("menu")};rt.useEffect(()=>{const G=Te=>{Te.touches.length>1&&Te.preventDefault()},Je=Te=>{(Te.ctrlKey||Te.metaKey)&&Te.preventDefault()};return document.addEventListener("touchstart",G,{passive:!1}),document.addEventListener("touchmove",G,{passive:!1}),document.addEventListener("wheel",Je,{passive:!1}),document.addEventListener("keydown",Je),()=>{document.removeEventListener("touchstart",G),document.removeEventListener("touchmove",G),document.removeEventListener("wheel",Je),document.removeEventListener("keydown",Je)}},[]);const J=()=>{e("home")},le=()=>{e(r?"menu":"home")},Be=()=>{if(v)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-white text-lg",children:"Carregando..."})]})});switch(t){case"home":return a.jsx(Ed,{onGameSelected:B,currentGameDay:r,players:s,matches:c,coleteWinner:b,settings:k,setCurrentScreen:e});case"menu":return a.jsx(jx,{currentGameDay:r,players:s,matches:c,coleteWinner:b,settings:k,setCurrentScreen:e,onBack:()=>e("home")});case"players":return a.jsx(kx,{players:s,setPlayers:i,setCurrentScreen:e,onBack:le,currentGameDay:r});case"teams":return a.jsx(Sx,{players:s,teams:o,setTeams:l,tournamentStarted:d,setTournamentStarted:h,settings:k,setCurrentScreen:e,onBack:le,currentGameDay:r,syncPlayers:T,syncMatches:$});case"matches":return a.jsx(Px,{matches:c,setMatches:u,teams:o,matchEvents:f,setMatchEvents:y,timer:j,isTimerRunning:I,activeMatch:U,setActiveMatch:Q,setOnTimerFinished:re,startMatchTimer:te,pauseTimer:Ie,resumeTimer:$e,resetTimer:oe,formatTime:ie,settings:k,setSettings:E,setCurrentScreen:e,onBack:le,currentGameDay:r,syncMatches:$,syncGoalEvent:N,removeGoalEvent:L,updateGameDaySettings:O,syncActiveMatch:q});case"standings":return a.jsx(Rx,{matches:c,settings:k,setCurrentScreen:e,onBack:le});case"scorers":return a.jsx(Ax,{matchEvents:f,setMatchEvents:y,setCurrentScreen:e,onBack:le});case"colete":return a.jsx(Ix,{players:s,teams:o,matches:c,settings:k,coleteParticipants:_,setColeteParticipants:p,immunePlayer:m,setImmunePlayer:g,coleteWinner:b,setColeteWinner:S,setCurrentScreen:e,onBack:le,syncVestAssignment:M});case"settings":return a.jsx($x,{settings:k,setSettings:E,setCurrentScreen:e,onBack:J});default:return a.jsx(Ed,{onGameSelected:B,currentGameDay:r,players:s,matches:c,coleteWinner:b,settings:k,setCurrentScreen:e})}};return a.jsx("div",{className:"w-full min-h-screen relative overflow-x-hidden",style:{touchAction:"pan-y"},children:Be()})};document.addEventListener("gesturestart",function(t){t.preventDefault()});document.addEventListener("gesturechange",function(t){t.preventDefault()});document.addEventListener("gestureend",function(t){t.preventDefault()});ra.createRoot(document.getElementById("root")).render(a.jsx(rt.StrictMode,{children:a.jsx(Lx,{})}));
